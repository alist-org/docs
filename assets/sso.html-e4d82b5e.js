import{_ as d,a as u,b as p,c as g,d as _,e as f}from"./casdoor-user-eeb6b72d.js";import{_ as m}from"./Google-6-ed708062.js";import{_ as b,r,o as y,c as w,a as n,w as l,b as e,e as t,f as k}from"./app-157886d0.js";const v={},A=k('<h1 id="third-party-single-sign-on" tabindex="-1"><a class="header-anchor" href="#third-party-single-sign-on" aria-hidden="true">#</a> Third-party single sign-on</h1><h3 id="single-sign-on-client-id" tabindex="-1"><a class="header-anchor" href="#single-sign-on-client-id" aria-hidden="true">#</a> <strong>Single sign-on client id</strong></h3><p>client ID</p><h3 id="single-sign-on-client-secrets" tabindex="-1"><a class="header-anchor" href="#single-sign-on-client-secrets" aria-hidden="true">#</a> <strong>Single sign-on client secrets</strong></h3><p>secrets ID</p><div class="hint-container warning"><p class="hint-container-title">matters needing attention</p><ol><li><p>Remember to write and save the background parameters of AList. After writing and saving, you have to go back to the bottom of the personal data and there will be a button that needs to be bound, otherwise it cannot be used</p></li><li><p>Only one of the four types of single sign-on can be enabled temporarily. If you used other single sign-on methods before and then changed to a new single Unbind (just one click) and then bind the single sign-on method you want to use now.</p></li><li><p>If you use <strong><code>GitHub,Microsoft,Google,DingTalk</code></strong>, you only need to fill in the client ID and secret key, and select the corresponding platform in the options.</p><ul><li>If you use <strong><code>Casdoor</code></strong> the following parameters need to be filled in, just follow the tutorial to fill in</li></ul></li></ol></div>',6),C=e("div",{class:"hint-container warning"},[e("p",{class:"hint-container-title"},"Note"),e("p",null,"If you want to use GitHub to log in, you first need the machine you built Alist to be able to connect to GitHub before you can call and use it, otherwise you cannot use it if the link is not connected")],-1),I={href:"https://github.com/settings/developers",target:"_blank",rel:"noopener noreferrer"},x=e("strong",null,[e("code",null,"New OAuth App")],-1),L=e("h3",{id:"register-oauth-instructions",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#register-oauth-instructions","aria-hidden":"true"},"#"),t(),e("strong",null,"Register OAuth Instructions")],-1),D=e("ul",null,[e("li",null,[t("Application name "),e("ul",null,[e("li",null,"Write whatever you want to call it")])]),e("li",null,[e("mark",null,[e("strong",null,"Homepage URL")]),e("ul",null,[e("li",null,[t("home URL address "),e("ul",null,[e("li",null,[t("Both "),e("strong",null,"http"),t(" and "),e("strong",null,"https"),t(" can be used")])])])])]),e("li",null,[t("Application description "),e("ul",null,[e("li",null,"write whatever you want")])]),e("li",null,[e("mark",null,[e("strong",null,"Authorization callback URL")]),e("ul",null,[e("li",null,"Callback URL address"),e("li",null,[e("strong",null,"https://your_domain/api/auth/sso_callback"),e("ul",null,[e("li",null,[t("Both "),e("strong",null,"http"),t(" and "),e("strong",null,"https"),t(" can be used")])])])])])],-1),T=e("p",null,[t("Remember to get "),e("strong",null,"Client secrets"),t(" after filling it out, and then fill it in the Alist background.")],-1),R=e("p",null,"Remember to write and save the background parameters of AList. After writing and saving, you have to go back to the bottom of the personal data and there will be a button that needs to be bound, otherwise it cannot be used",-1),W=e("h3",{id:"completely-fill-in-the-reference-schematic",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#completely-fill-in-the-reference-schematic","aria-hidden":"true"},"#"),t(),e("strong",null,"Completely fill in the reference schematic")],-1),G=e("p",null,[e("img",{src:d,alt:"sso"})],-1),z=e("h3",{id:"github-login-video-tutorials",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#github-login-video-tutorials","aria-hidden":"true"},"#"),t(),e("strong",null,"GitHub login Video Tutorials")],-1),B={href:"https://b23.tv/Fm8AkC5",target:"_blank",rel:"noopener noreferrer"},N={href:"https://open-dev.dingtalk.com/fe/app#/corp/app",target:"_blank",rel:"noopener noreferrer"},H=e("p",null,[t("In the upper right corner, first select "),e("code",null,"New Application"),t(", select "),e("code",null,"H5 Micro Application"),t(" as the type, fill in the content by yourself and click Confirm to create")],-1),O=e("p",null,[t("Click on the new application and we will see the application credentials option, where "),e("code",null,"AppKey"),t(" is the client ID, and "),e("code",null,"AppSecret"),t(" is the client secret key")],-1),j=e("ul",null,[e("li",null,"Just fill in the corresponding parameters in the Alist background single sign-on")],-1),U=e("p",null,[t("Go to the left column and find "),e("code",null,"Login and Share"),t(" == Fill in the callback parameters "),e("strong",null,[e("code",null,"http://127.0.0.1:5234/api/auth/sso_callback")]),t("==")],-1),M=e("div",{class:"language-Callback line-numbers-mode","data-ext":"Callback"},[e("pre",{class:"language-Callback"},[e("code",null,`http://127.0.0.1:5244/api/auth/sso_callback
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),P={href:"http://127.x",target:"_blank",rel:"noopener noreferrer"},S=e("strong",null,"http(s)://your own domain name/api/auth/sso_callback",-1),E=e("p",null,[t("Write the callback parameters well. Let’s go to the left column and find "),e("code",null,"Privilege Management"),t(", find "),e("strong",null,[e("code",null,"Personal Information Read Permission of Address Book")]),t(" and click to authorize")],-1),F=e("p",null,"Remember to write and save the background parameters of AList. After writing and saving, you have to go back to the bottom of the personal data and there will be a button that needs to be bound, otherwise it cannot be used",-1),V=e("h3",{id:"completely-fill-in-the-reference-schematic-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#completely-fill-in-the-reference-schematic-1","aria-hidden":"true"},"#"),t(),e("strong",null,"Completely fill in the reference schematic")],-1),Q=e("p",null,[e("img",{src:u,alt:"sso"})],-1),q=e("p",null,null,-1),J={href:"https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade",target:"_blank",rel:"noopener noreferrer"},K=e("p",null,"Then register to create an application, I won't say much here, you can see the complete schematic diagram",-1),Y=e("p",null,[t("Account type must be selected: "),e("strong",null,"Account in any organizational directory (any Azure AD directory - multi-tenant)")],-1),$={href:"http://localhost",target:"_blank",rel:"noopener noreferrer"},X=e("div",{class:"language-Callback line-numbers-mode","data-ext":"Callback"},[e("pre",{class:"language-Callback"},[e("code",null,`http://localhost:5244/api/auth/sso_callback?method=sso_get_token
http://localhost:5244/api/auth/sso_callback?method=get_sso_id
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),Z=e("ul",null,[e("li",null,[t("Write "),e("strong",null,"http(s)://your own domain name/api/auth/sso_callback?method=sso_get_token"),t(" when filling in and using it by yourself")]),e("li",null,[t("Write "),e("strong",null,"http(s)://your own domain name/api/auth/sso_callback?method=get_sso_id"),t(" when filling in and using it by yourself")]),e("li",null,"Note: When adding a redirect URL to a new application, only one can be added. After the application is registered and registered, click on the application to see the options behind the redirect URI")],-1),ee=e("p",null,[t("After filling it out, we click "),e("code",null,"Certificate and Password"),t(" on the left column to create a new "),e("code",null,"Client Password"),t(" to get our client secret key")],-1),te=e("ul",null,[e("li",null,[t("After the client password is created, the "),e("strong",null,[e("code",null,"value")]),t(" parameter is our "),e("code",null,"client key"),t(", remember to save it, it will not appear again if it appears once, if you don’t save it in time, just create a new client password")])],-1),ne=e("p",null,[t("The client ID is in "),e("code",null,"Overview"),t(" at the top of the left column, find the application (client) ID, which is the client ID we need to fill in the Alist")],-1),oe=e("ul",null,[e("li",null,"We have got the client ID and secret key and fill them in the AList single sign-on configuration.")],-1),le=e("p",null,"Remember to write and save the background parameters of AList. After writing and saving, you have to go back to the bottom of the personal data and there will be a button that needs to be bound, otherwise it cannot be used",-1),ie=e("h3",{id:"completely-fill-in-the-reference-schematic-2",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#completely-fill-in-the-reference-schematic-2","aria-hidden":"true"},"#"),t(),e("strong",null,"Completely fill in the reference schematic")],-1),se=e("p",null,[e("img",{src:p,alt:"sso"})],-1),ae=e("p",null,null,-1),re=e("div",{class:"hint-container warning"},[e("p",{class:"hint-container-title"},"Note"),e("p",null,"If you want to use Google to log in, you first need the machine you built Alist to be able to connect to Google before you can call and use it, otherwise you cannot use it if the link is not connected")],-1),ce={href:"https://console.cloud.google.com/projectselector2/apis/dashboard?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"},he=e("li",null,[e("p",null,"If you are using it for the first time, you need to create a new project first (just write whatever you want, skip it if it has already been created)")],-1),de=e("li",null,[e("p",null,[t("Then configure the "),e("a",{href:"#agree-to-screen-configuration"},"consent screen"),t(" (there is a separate instruction on how to configure the document, if it is already configured, skip it)")])],-1),ue=e("li",null,[e("p",null,"After configuring the unified screen, we click the credentials on the left, create credentials, and select OAuth client ID")],-1),pe=e("ul",null,[e("li",null,"Application Type Select Web Application, and write the name as you like"),e("li",null,"Then add our two callback parameters in the authorized redirect URI")],-1),ge=e("div",{class:"language-Callback line-numbers-mode","data-ext":"Callback"},[e("pre",{class:"language-Callback"},[e("code",null,`http://127.0.0.1:5244/api/auth/sso_callback?method=get_sso_id
http://127.0.0.1:5244/api/auth/sso_callback?method=sso_get_token
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),_e=e("ul",null,[e("li",null,[t("Write "),e("strong",null,"http(s)://your own domain name/api/auth/sso_callback?method=get_sso_id"),t(" when filling in and using it by yourself")]),e("li",null,[t("Write "),e("strong",null,"http(s)://your own domain name/api/auth/sso_callback?method=sso_get_token"),t(" when filling in and using it by yourself")])],-1),fe=e("p",null,"After filling it out, click Create to get the OAuth client ID and secret key",-1),me=e("ul",null,[e("li",null,"(It doesn't matter if you accidentally close it here, just click on the name of the application we created and enter it in the upper right position to see it)")],-1),be=e("p",null,"We have got the client ID and secret key and fill them in the AList single sign-on configuration.",-1),ye=e("p",null,"Remember to write and save the background parameters of AList. After writing and saving, you have to go back to the bottom of the personal data and there will be a button that needs to be bound, otherwise it cannot be used",-1),we=e("h4",{id:"agree-to-screen-configuration",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#agree-to-screen-configuration","aria-hidden":"true"},"#"),t(),e("strong",null,"Agree to screen configuration")],-1),ke=e("p",null,"If it has been configured, just ignore this picture (you can zoom in if you can’t see it clearly)",-1),ve=e("p",null,[e("img",{src:m,alt:"Google"})],-1),Ae=e("h3",{id:"completely-fill-in-the-reference-schematic-3",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#completely-fill-in-the-reference-schematic-3","aria-hidden":"true"},"#"),t(),e("strong",null,"Completely fill in the reference schematic")],-1),Ce=e("p",null,[e("img",{src:g,alt:"sso"})],-1),Ie=e("p",null,null,-1),xe=e("code",null,"Cadoor",-1),Le={href:"https://casdoor.org/docs/basic/server-installation",target:"_blank",rel:"noopener noreferrer"},De=e("strong",null,"Self-deployment",-1),Te=e("p",null,"Now, Casdoor supports many OAuth application providers, as many as dozens of kinds, you have seen and not seen",-1),Re={href:"https://github.com/casdoor/casdoor",target:"_blank",rel:"noopener noreferrer"},We=e("hr",null,null,-1),Ge=e("p",null,[t("After we enter "),e("code",null,"Casdoor"),t(", we first create "),e("strong",null,"Organization"),e("sup",null,"1"),t(", "),e("strong",null,"Token"),e("sup",null,"2"),t(", "),e("strong",null,"Application"),e("sup",null,"3"),t(", "),e("strong",null,"User"),e("sup",null,"4")],-1),ze=e("p",null,[t("Then fill in the "),e("code",null,"AList"),t(" backstage single sign-on option one by one. The user’s parameters are ignored for the time being. They are filled in when the personal data is bound to the single sign-on.")],-1),Be=e("p",null,[e("img",{src:_,alt:"sso"})],-1),Ne=e("p",null,[t("After filling in the above parameters, we come to the personal data and click "),e("code",null,"Bind point single sign-on platform"),t(" to bind")],-1),He=e("p",null,[t("Then the "),e("code",null,"Casdoor"),t(" window will pop up, we can enter our registered user name")],-1),Oe=e("p",null,[e("img",{src:f,alt:"sso"})],-1),je=e("hr",null,null,-1),Ue=e("h4",{id:"access-some-other-vendors-on-casdoor",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#access-some-other-vendors-on-casdoor","aria-hidden":"true"},"#"),t(),e("strong",null,"Access some other vendors on Casdoor")],-1),Me=e("code",null,"AList",-1),Pe=e("code",null,"GitHub Dingding Google Microsoft",-1),Se=e("code",null,"QQ Baidu Feishu WeChat/Enterprise WeChat Douyin Bilibili",-1),Ee={href:"https://casdoor.org/docs/provider/oauth/overview",target:"_blank",rel:"noopener noreferrer"},Fe=e("strong",null,"click Check out all the manufacturers that can be accessed here",-1),Ve=e("code",null,"AList",-1),Qe=e("code",null,"Casdoor",-1),qe={href:"https://anwen-anyi.github.io/index/09-ssologin.html",target:"_blank",rel:"noopener noreferrer"},Je=e("details",{class:"hint-container details"},[e("summary",null,"Direct iframe viewing"),e("iframe",{src:"https://anwen-anyi.github.io/index/09-ssologin.html#%E6%8E%A5%E5%85%A5",name:"iframe_a",scrolling:"ok",frameborder:"0",width:"100%",height:"1000",style:{scrolling:"no","border-radius":"16px"}})],-1);function Ke(Ye,$e){const o=r("ExternalLinkIcon"),c=r("ArtPlayer"),h=r("Tabs");return y(),w("div",null,[A,n(h,{id:"41",data:[{title:"GitHub"},{title:"Dingtalk"},{title:"Microsoft"},{title:"Google"},{title:"Casdoor"}],"tab-id":"sso"},{tab0:l(({title:i,value:s,isActive:a})=>[C,e("p",null,[t("Open "),e("strong",null,[e("a",I,[t("https://github.com/settings/developers"),n(o)])]),t(" Click "),x]),L,D,T,R,W,G,z,n(c,{src:"https://hub.onmicrosoft.cn/public/video/weibo?uid=7821998556&cursor=4872400300415846&raw=true",poster:"/img/advanced/github-login.png"}),e("p",null,[e("strong",null,[t("If the video fails, you can watch it here: "),e("a",B,[t("https://b23.tv/Fm8AkC5"),n(o)])])])]),tab1:l(({title:i,value:s,isActive:a})=>[e("p",null,[t("First open "),e("strong",null,[e("a",N,[t("https://open-dev.dingtalk.com/fe/app#/corp/app"),n(o)])])]),H,O,j,U,M,e("ul",null,[e("li",null,[t("Note: I used the callback parameter here for local testing. "),e("a",P,[t("http://127.x"),n(o)]),t(" When you use it, Write "),S,t(" when filling in and using it by yourself")])]),E,F,V,Q,q]),tab2:l(({title:i,value:s,isActive:a})=>[e("p",null,[t("First open "),e("strong",null,[e("a",J,[t("https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade"),n(o)])])]),K,Y,e("p",null,[t('Microsoft callback parameters: must start with "HTTPS" or "'),e("a",$,[t("http://localhost"),n(o)]),t(" (I used localhost here for local testing)")]),X,Z,ee,te,ne,oe,le,ie,se,ae]),tab3:l(({title:i,value:s,isActive:a})=>[re,e("ol",null,[e("li",null,[e("p",null,[t("First open "),e("strong",null,[e("a",ce,[t("https://console.cloud.google.com/projectselector2/apis/dashboard?hl=zh-cn"),n(o)])])])]),he,de,ue]),pe,ge,_e,fe,me,be,ye,we,ke,ve,Ae,Ce,Ie]),tab4:l(({title:i,value:s,isActive:a})=>[e("p",null,[t("What is "),xe,t("? Yes, you can use other OAuth applications to log in. "),e("a",Le,[De,n(o)]),t(" is open source and free, and official hosting requires payment.")]),Te,e("p",null,[e("strong",null,[t("GitHub open source link: "),e("a",Re,[t("https://github.com/casdoor/casdoor"),n(o)])])]),We,Ge,ze,Be,Ne,He,Oe,je,Ue,e("p",null,[t("In addition to the four that "),Me,t(" has already connected to "),Pe,t(", it is also connected to "),Se,t(" and so on, all "),e("a",Ee,[Fe,n(o)]),t(", of course, the four that "),Ve,t(" has already accessed can also be added to "),Qe]),e("p",null,[e("strong",null,[t("View detailed tutorials on accessing other providers: "),e("a",qe,[t("click to view"),n(o)])])]),Je]),_:1})])}const tt=b(v,[["render",Ke],["__file","sso.html.vue"]]);export{tt as default};
