import{d as k,h as C,u as e,o as t,F as s,w as c,e as f,I as m,au as g,a as _,b4 as w,N as v,aw as x,b5 as S,b6 as I,b as T,_ as y,r as B,c as P}from"./app-a9cb884d.js";import{N as h}from"./Alert-1f9ed551.js";import{N as V}from"./Input-4021a7bd.js";import"./browser-33a4a7ed.js";const z=r=>(S("data-v-c64c0e7f"),r=r(),I(),r),j=z(()=>T("b",null,"refresh_token:",-1)),E=k({__name:"Callback",setup(r){const l=new URL(window.location.href),n=l.searchParams.get("code"),o=l.searchParams.get("error"),N=l.searchParams.get("error_description"),a=C();return n&&!o&&(async()=>{const i=await(await fetch(x()+"/alist/ali_open/code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n,grant_type:"authorization_code"})})).json();a.value=i})(),(b,i)=>!e(n)||e(o)?(t(),s(e(h),{key:0,title:e(o)||"Error",type:"error"},{default:c(()=>[f(m(e(N)),1)]),_:1},8,["title"])):(t(),s(e(v),{key:1,vertical:"",size:"large"},{default:c(()=>{var p,u,d;return[(p=a.value)!=null&&p.error||(u=a.value)!=null&&u.error?(t(),s(e(h),{key:0,title:(d=a.value)==null?void 0:d.error,type:"error"},{default:c(()=>[f(m(a.value.error),1)]),_:1},8,["title"])):g("v-if",!0),_(e(v),{vertical:""},{default:c(()=>[j,a.value?(t(),s(e(V),{key:1,type:"textarea",autosize:"",readonly:"",value:a.value.refresh_token},null,8,["value"])):(t(),s(e(w),{key:0}))]),_:1})]}),_:1}))}});const O=y(E,[["__scopeId","data-v-c64c0e7f"],["__file","Callback.vue"]]),A=k({__name:"callback.html",setup(r){return(l,n)=>{const o=B("NaiveClient");return t(),P("div",null,[_(o,null,{default:c(()=>[_(e(O))]),_:1})])}}}),U=y(A,[["__file","callback.html.vue"]]);export{U as default};
