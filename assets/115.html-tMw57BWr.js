import{d as T,h as k,r as m,o as v,c as h,b as n,e as s,a,I as y,an as x,v as A,w as i,f as p,aw as _,_ as D}from"./app-hVuiW0zP.js";import{_ as P,a as I,b as R,c as M,d as Q}from"./add_error-0FyA4cZ0.js";import{_ as O}from"./offline_download_error-eo5g2FwF.js";const L=p('<h1 id="_115-cloud-share" tabindex="-1"><a class="header-anchor" href="#_115-cloud-share" aria-hidden="true">#</a> 115 Cloud / Share</h1><h2 id="_115-cloud" tabindex="-1"><a class="header-anchor" href="#_115-cloud" aria-hidden="true">#</a> <strong>115 Cloud</strong></h2><h3 id="root-folder-id" tabindex="-1"><a class="header-anchor" href="#root-folder-id" aria-hidden="true">#</a> <strong>Root folder ID</strong></h3><p>Open the official website of 115 Cloud and click the string behind the url when you click into the folder you want to set,</p>',4),z={href:"https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan",target:"_blank",rel:"noopener noreferrer"},U=p(`<p>which is <code>249163533602609229</code></p><br><h3 id="cookie-acquisition-method" tabindex="-1"><a class="header-anchor" href="#cookie-acquisition-method" aria-hidden="true">#</a> <strong>Cookie acquisition method</strong></h3><p>The following message is displayed when mounting a 115 cloud. This is because 115 has removed the three client applications of <code>Windows, Mac, and Linux</code>.</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;登录失败，系统已下架！如果你有电脑端的使用需求，我们诚挚邀请你下载体验115产品专属客户端“115浏览器”或在线使用“115网页端(115.com)”，畅享智能高效云生活。&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;errno&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;登录失败，系统已下架！如果你有电脑端的使用需求，我们诚挚邀请你下载体验115产品专属客户端“115浏览器”或在线使用“115网页端(115.com)”，畅享智能高效云生活。&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The cookies you have obtained from these three devices cannot be used. Please obtain the cookies from other devices again to mount them.</p><br><h4 id="_1-qrcode-scanning-method-login" tabindex="-1"><a class="header-anchor" href="#_1-qrcode-scanning-method-login" aria-hidden="true">#</a> <strong>1. QRCode scanning method login</strong></h4>`,8),B=["disabled"],W=n("br",null,null,-1),F=n("br",null,null,-1),G={style:{margin:"4px"}},N=["src"],H={class:"hint-container info"},V={class:"hint-container-title"},Y=n("hr",null,null,-1),K=n("i",{class:"fa-solid fa-up fa-bounce",style:{color:"#70c6be"}},null,-1),j=n("code",null," Use 115 Cloud APP To Scan Then Click",-1),X=n("strong",null,[n("code",null,"QRcode Token")],-1),J=n("code",null,"Qrcode source",-1),Z=p("<ul><li>Equipment to choose from：<code>Web</code>、<code>android</code>、<code>ios</code>、<code>tv</code>、<code>alipaymini</code>、<code>wechatmini</code>、<code>qandroid</code><ul><li>It is not recommended to choose <code>Web</code> and <code>Android</code> (<code>ios</code>), because after logging in with your commonly used device, the original login status will be kicked offline.</li></ul></li></ul>",1),$=p('<br><p><img src="'+R+'" alt=""></p><br><h4 id="_2-log-in-by-manually-grabbing-cookies" tabindex="-1"><a class="header-anchor" href="#_2-log-in-by-manually-grabbing-cookies" aria-hidden="true">#</a> <strong>2. Log in by manually grabbing Cookies</strong></h4><p>The <code>cookie</code> is obtained from the request.</p><br><h4 id="_3-get-cookies-using-python-script" tabindex="-1"><a class="header-anchor" href="#_3-get-cookies-using-python-script" aria-hidden="true">#</a> <strong>3. Get Cookies Using Python Script</strong></h4><p><i class="fa-solid fa-lightbulb fa-bounce" style="color:#4abf8a;"></i> Expand the detailed description to view the tutorial and script source code</p>',8),nn={class:"hint-container details"},sn=n("summary",null,"Detailed description",-1),an={class:"hint-container details"},tn=p(`<summary>View source</summary><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token comment"># encoding: utf-8</span>

<span class="token string">&quot;扫码获取 115 cookie&quot;</span>

__author__ <span class="token operator">=</span> <span class="token string">&quot;ChenyangGao &lt;https://chenyanggao.github.io&gt;&quot;</span>
__version__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
__all__ <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;AppEnum&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;get_qrcode_token&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;get_qrcode_status&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;post_qrcode_result&quot;</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;get_qrcode&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;login_with_qrcode&quot;</span><span class="token punctuation">,</span> 
<span class="token punctuation">]</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">from</span> argparse <span class="token keyword">import</span> ArgumentParser<span class="token punctuation">,</span> RawTextHelpFormatter

    parser <span class="token operator">=</span> ArgumentParser<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token triple-quoted-string string">&quot;&quot;&quot;\\
扫码获取 115 cookie

默认在命令行输出，需要安装 qrcode: pip install qrcode
    - https://pypi.org/project/qrcode/
可以指定 -o 或 --open-qrcode 直接打开图片扫码
&quot;&quot;&quot;</span><span class="token punctuation">,</span> formatter_class<span class="token operator">=</span>RawTextHelpFormatter<span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">,</span> nargs<span class="token operator">=</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">,</span> choices<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;android&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ios&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mac&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;windows&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tv&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;alipaymini&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wechatmini&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qandroid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;选择一个 app 进行登录，注意：这会把已经登录的相同 app 踢下线&quot;</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-o&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--open-qrcode&quot;</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">&quot;store_true&quot;</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;打开二维码图片，而不是在命令行输出&quot;</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-v&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--version&quot;</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">&quot;store_true&quot;</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;输出版本号&quot;</span><span class="token punctuation">)</span>
    args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> args<span class="token punctuation">.</span>version<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> __version__<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">raise</span> SystemExit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum
<span class="token keyword">from</span> json <span class="token keyword">import</span> loads
<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> urlencode
<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> urlopen<span class="token punctuation">,</span> Request


AppEnum <span class="token operator">=</span> Enum<span class="token punctuation">(</span><span class="token string">&quot;AppEnum&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;web, android, ios, linux, mac, windows, tv, alipaymini, wechatmini, qandroid&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">get_enum_name</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> val<span class="token punctuation">.</span>name
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> cls<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">.</span>name
    <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">return</span> cls<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">.</span>name


<span class="token keyword">def</span> <span class="token function">get_qrcode_token</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;获取登录二维码，扫码可用
    GET https://qrcodeapi.115.com/api/1.0/web/1.0/token/
    :return: dict
    &quot;&quot;&quot;</span>
    api <span class="token operator">=</span> <span class="token string">&quot;https://qrcodeapi.115.com/api/1.0/web/1.0/token/&quot;</span>
    <span class="token keyword">return</span> loads<span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>api<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">get_qrcode_status</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;获取二维码的状态（未扫描、已扫描、已登录、已取消、已过期等）
    GET https://qrcodeapi.115.com/get/status/
    :param payload: 请求的查询参数，取自 \`login_qrcode_token\` 接口响应，有 3 个
        - uid:  str
        - time: int
        - sign: str
    :return: dict
    &quot;&quot;&quot;</span>
    api <span class="token operator">=</span> <span class="token string">&quot;https://qrcodeapi.115.com/get/status/?&quot;</span> <span class="token operator">+</span> urlencode<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
    <span class="token keyword">return</span> loads<span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>api<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">post_qrcode_result</span><span class="token punctuation">(</span>uid<span class="token punctuation">,</span> app<span class="token operator">=</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;获取扫码登录的结果，并且绑定设备，包含 cookie
    POST https://passportapi.115.com/app/1.0/{app}/1.0/login/qrcode/
    :param uid: 二维码的 uid，取自 \`login_qrcode_token\` 接口响应
    :param app: 扫码绑定的设备，可以是 int、str 或者 AppEnum
        app 目前发现的可用值：
            - 1,  &quot;web&quot;,        AppEnum.web
            - 2,  &quot;android&quot;,    AppEnum.android
            - 3,  &quot;ios&quot;,        AppEnum.ios
            - 4,  &quot;linux&quot;,      AppEnum.linux
            - 5,  &quot;mac&quot;,        AppEnum.mac
            - 6,  &quot;windows&quot;,    AppEnum.windows
            - 7,  &quot;tv&quot;,         AppEnum.tv
            - 8,  &quot;alipaymini&quot;, AppEnum.alipaymini
            - 9,  &quot;wechatmini&quot;, AppEnum.wechatmini
            - 10, &quot;qandroid&quot;,   AppEnum.qandroid
    :return: dict，包含 cookie
    &quot;&quot;&quot;</span>
    app <span class="token operator">=</span> get_enum_name<span class="token punctuation">(</span>app<span class="token punctuation">,</span> AppEnum<span class="token punctuation">)</span>
    payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">:</span> app<span class="token punctuation">,</span> <span class="token string">&quot;account&quot;</span><span class="token punctuation">:</span> uid<span class="token punctuation">}</span>
    api <span class="token operator">=</span> <span class="token string">&quot;https://passportapi.115.com/app/1.0/%s/1.0/login/qrcode/&quot;</span> <span class="token operator">%</span> app
    <span class="token keyword">return</span> loads<span class="token punctuation">(</span>urlopen<span class="token punctuation">(</span>Request<span class="token punctuation">(</span>api<span class="token punctuation">,</span> data<span class="token operator">=</span>urlencode<span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">get_qrcode</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;获取二维码图片（注意不是链接）
    :return: 一个文件对象，可以读取
    &quot;&quot;&quot;</span>
    url <span class="token operator">=</span> <span class="token string">&quot;https://qrcodeapi.115.com/api/1.0/mac/1.0/qrcode?uid=%s&quot;</span> <span class="token operator">%</span> uid
    <span class="token keyword">return</span> urlopen<span class="token punctuation">(</span>url<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">login_with_qrcode</span><span class="token punctuation">(</span>app<span class="token operator">=</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span> scan_in_console<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;用二维码登录
    :param app: 扫码绑定的设备，可以是 int、str 或者 AppEnum
        app 目前发现的可用值：
            - 1,  &quot;web&quot;,        AppEnum.web
            - 2,  &quot;android&quot;,    AppEnum.android
            - 3,  &quot;ios&quot;,        AppEnum.ios
            - 4,  &quot;linux&quot;,      AppEnum.linux
            - 5,  &quot;mac&quot;,        AppEnum.mac
            - 6,  &quot;windows&quot;,    AppEnum.windows
            - 7,  &quot;tv&quot;,         AppEnum.tv
            - 8,  &quot;alipaymini&quot;, AppEnum.alipaymini
            - 9,  &quot;wechatmini&quot;, AppEnum.wechatmini
            - 10, &quot;qandroid&quot;,   AppEnum.qandroid
    :return: dict，扫码登录结果
    &quot;&quot;&quot;</span>
    qrcode_token <span class="token operator">=</span> get_qrcode_token<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">]</span>
    qrcode <span class="token operator">=</span> qrcode_token<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">&quot;qrcode&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> scan_in_console<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">from</span> qrcode <span class="token keyword">import</span> QRCode
        <span class="token keyword">except</span> ModuleNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">from</span> sys <span class="token keyword">import</span> executable
            <span class="token keyword">from</span> subprocess <span class="token keyword">import</span> run
            run<span class="token punctuation">(</span><span class="token punctuation">[</span>executable<span class="token punctuation">,</span> <span class="token string">&quot;-m&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pip&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;install&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qrcode&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> check<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            <span class="token keyword">from</span> qrcode <span class="token keyword">import</span> QRCode <span class="token comment"># type: ignore</span>
        qr <span class="token operator">=</span> QRCode<span class="token punctuation">(</span>border<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        qr<span class="token punctuation">.</span>add_data<span class="token punctuation">(</span>qrcode<span class="token punctuation">)</span>
        qr<span class="token punctuation">.</span>print_ascii<span class="token punctuation">(</span>tty<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">from</span> atexit <span class="token keyword">import</span> register
        <span class="token keyword">from</span> os <span class="token keyword">import</span> remove
        <span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread
        <span class="token keyword">from</span> tempfile <span class="token keyword">import</span> NamedTemporaryFile
        qrcode_image <span class="token operator">=</span> get_qrcode<span class="token punctuation">(</span>qrcode_token<span class="token punctuation">[</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">with</span> NamedTemporaryFile<span class="token punctuation">(</span>suffix<span class="token operator">=</span><span class="token string">&quot;.png&quot;</span><span class="token punctuation">,</span> delete<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>qrcode_image<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>
        register<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> remove<span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">def</span> <span class="token function">open_qrcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            platform <span class="token operator">=</span> <span class="token builtin">__import__</span><span class="token punctuation">(</span><span class="token string">&quot;platform&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> platform <span class="token operator">==</span> <span class="token string">&quot;Windows&quot;</span><span class="token punctuation">:</span>
                <span class="token keyword">from</span> os <span class="token keyword">import</span> startfile <span class="token comment"># type: ignore</span>
                startfile<span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
            <span class="token keyword">elif</span> platform <span class="token operator">==</span> <span class="token string">&quot;Darwin&quot;</span><span class="token punctuation">:</span>
                <span class="token keyword">from</span> subprocess <span class="token keyword">import</span> run
                run<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">from</span> subprocess <span class="token keyword">import</span> run
                run<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;xdg-open&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>
        Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>open_qrcode<span class="token punctuation">)</span><span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            resp <span class="token operator">=</span> get_qrcode_status<span class="token punctuation">(</span>qrcode_token<span class="token punctuation">)</span>
        <span class="token keyword">except</span> TimeoutError<span class="token punctuation">:</span>
            <span class="token keyword">continue</span>
        status <span class="token operator">=</span> resp<span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;[status=0] qrcode: waiting&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;[status=1] qrcode: scanned&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;[status=2] qrcode: signed in&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> OSError<span class="token punctuation">(</span><span class="token string">&quot;[status=-1] qrcode: expired&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> OSError<span class="token punctuation">(</span><span class="token string">&quot;[status=-2] qrcode: canceled&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> OSError<span class="token punctuation">(</span><span class="token string">&quot;qrcode: aborted with %r&quot;</span> <span class="token operator">%</span> resp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> post_qrcode_result<span class="token punctuation">(</span>qrcode_token<span class="token punctuation">[</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> app<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    resp <span class="token operator">=</span> login_with_qrcode<span class="token punctuation">(</span>args<span class="token punctuation">.</span>app<span class="token punctuation">,</span> scan_in_console<span class="token operator">=</span><span class="token keyword">not</span> args<span class="token punctuation">.</span>open_qrcode<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;; &quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">&quot;%s=%s&quot;</span> <span class="token operator">%</span> t <span class="token keyword">for</span> t <span class="token keyword">in</span> resp<span class="token punctuation">[</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;cookie&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),en={href:"https://gist.github.com/ChenyangGao/d26a592a0aeb13465511c885d5c7ad61",target:"_blank",rel:"noopener noreferrer"},on=n("strong",null,"https://gist.github.com/ChenyangGao/d26a592a0aeb13465511c885d5c7ad61",-1),pn=n("br",null,null,-1),ln={href:"https://www.python.org/downloads/",target:"_blank",rel:"noopener noreferrer"},cn=n("strong",null,"Python 3.11.x",-1),un=p(`<p>If the QR code cannot be displayed properly in the <code>CMD</code> and <code>powershell</code> terminals, you can use the <code>-o</code> parameter to generate an image to scan the code, or you need to install an additional terminal</p><ol><li>Use the <code>-o</code> parameter to generate the image method and scan the QR code to confirm <ul><li><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>python main<span class="token punctuation">.</span>py wechatmini <span class="token operator">-</span>o
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ol><p>The devices that can be obtained are as follows. If you do not fill in the device, the default device on the <code>Web</code> side will be used</p><p><code>Web</code>，<code>android</code>，<code>ios</code>，<s><code>linux</code>，<code>mac</code>，<code>windows</code></s>，<code>tv</code>，<code>alipaymini</code>，<code>wechatmini</code>，<code>qandroid</code></p><ul><li><code>alipaymini</code> and <code>wechatmini</code> They are Alipay Mini Program and WeChat Mini Program.</li><li><strong>Windows、Mac、Linux should not be able to use it anymore. The official client was recently removed from the shelves.</strong></li><li>It is recommended to use some devices that you do not commonly use, otherwise logging in will crowd out the previous ones.</li></ul><hr>`,6),rn={start:"2"},dn=n("p",null,"Additional installation terminal",-1),kn={href:"https://apps.microsoft.com/detail/9n0dx20hk701?rtc=1&hl=zh-cn&gl=CN",target:"_blank",rel:"noopener noreferrer"},mn={href:"https://github.com/microsoft/terminal/releases",target:"_blank",rel:"noopener noreferrer"},vn=n("li",null,[n("p",null,"Other ways, solve it yourself")],-1),hn=n("hr",null,null,-1),bn=n("p",null,[s("Execute the command and obtain the QR code. Scan the QR code on the APP to obtain "),n("code",null,"Cookie")],-1),gn=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[s("PS C:"),n("span",{class:"token punctuation"},"\\"),s("Users"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"233"),n("span",{class:"token punctuation"},"\\"),s("Desktop"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"11"),n("span",{class:"token operator"},[n("span",{class:"token file-descriptor important"},"5"),s(">")]),s(" python "),n("span",{class:"token parameter variable"},"--version"),s(`
Python `),n("span",{class:"token number"},"3.12"),s(`.2
PS C:`),n("span",{class:"token punctuation"},"\\"),s("Users"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"233"),n("span",{class:"token punctuation"},"\\"),s("Desktop"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"11"),n("span",{class:"token operator"},[n("span",{class:"token file-descriptor important"},"5"),s(">")]),s(` python main.py wechatmini
█▀▀▀▀▀▀▀█▀▀▀▀█▀███▀▀▀█▀█▀▀▀██▀█▀▀▀▀▀▀▀█
█ █▀▀▀█ █ █▀▄▀█▄▀▀█▀█  ▄█▀▀ █▀█ █▀▀▀█ █
█ █   █ █▀█  ▄ ▄▀▄ ▀ ▀▄ █▀▄▀█▀█ █   █ █
█ ▀▀▀▀▀ █▀█ ▄▀▄ ▄ ▄ █ ▄▀▄▀█▀█▀█ ▀▀▀▀▀ █
█▀██▀▀▀▀▀▀▀ ▄█ ▀█ █▀▀▀ █▀ ▄▄▄ ▀██▀█▀▀▀█
██▄▀▀▄▀▀▀▀ ▄██▀▄██▀██▄█ █▀▀▀ ▀▀▀▄▄▀ ▄▀█
█   ▀██▀████ ▀ ▀ ▀ █▀ ▀▀▄▄▀▄ █▄▀▄▄ ▀▀▀█
█ ▄▀▀█▄▀█▀▀██ ▀▀▀▀ ▄▀ ▀███▀██▀▄▀▀▄▄   █
██▄█ ▄▀▀█▄   ▀█▄▀▄▄ █ █▀ ▄▀▀  ▄▀█▀█▀█▀█
███▄ █ ▀ ▀█  █▄ ▀▀▀▀█▀█▀█ ▄▀▀ ▄ █  ██▄█
█ █▀▀▀█ █ ▄▄▀▄▄▀ █▄▄▀█▀ █▀▄█  ▀▀▀ ▀█▀ █
█ █   █ █▄ ▄▀ █▀▀ ▀▄▀▀█▀▀  █ █ ▄█▀▄▄ ▀█
█ ▀▀▀▀▀ █▀  █▄▀ ▀ ▄█▄ █▄▀▀█▄ ▀ ▀▄▄ ▄▄ █
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),qn=n("p",null,"Execute the command directly. The QR code will appear in the terminal for display.",-1),_n=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[s("PS C:"),n("span",{class:"token punctuation"},"\\"),s("Users"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"233"),n("span",{class:"token punctuation"},"\\"),s("Desktop"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"11"),n("span",{class:"token operator"},[n("span",{class:"token file-descriptor important"},"5"),s(">")]),s(" python "),n("span",{class:"token parameter variable"},"--version"),s(`
Python `),n("span",{class:"token number"},"3.12"),s(`.2
PS C:`),n("span",{class:"token punctuation"},"\\"),s("Users"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"233"),n("span",{class:"token punctuation"},"\\"),s("Desktop"),n("span",{class:"token punctuation"},"\\"),n("span",{class:"token number"},"11"),n("span",{class:"token operator"},[n("span",{class:"token file-descriptor important"},"5"),s(">")]),s(" python main.py wechatmini "),n("span",{class:"token parameter variable"},"-o"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),wn=n("p",null,[s("After using the "),n("code",null,"-o"),s(" parameter, a QR code image will pop up automatically")],-1),fn=p('<br><h3 id="rapid-upload" tabindex="-1"><a class="header-anchor" href="#rapid-upload" aria-hidden="true">#</a> <strong>Rapid upload</strong></h3><ul><li><p><strong>v.3.27.0</strong> version Enhanced Rapid upload: You can directly upload files with <code>Alibaba Cloud Disk Open</code> by copying</p><ul><li>The premise is to upload the file from 115 Rapid upload to Alibaba Cloud Disk Open, the file already exists in Alibaba Cloud Disk Open, otherwise it is a normal copy task.</li><li>If you want to transfer 115 cloud disk files to Alibaba Cloud Disk in seconds, you need to turn on the Rapid upload option of Alibaba Cloud Disk, otherwise it will be uploaded in normal mode.</li></ul></li></ul><p>If you want to upload files using Miaochuan, it is recommended to build an AList locally on your home computer and add a <code>local storage</code> and <code>115 cloud disk</code> to copy Miaochuan to save resources.</p><br><h3 id="offline-download" tabindex="-1"><a class="header-anchor" href="#offline-download" aria-hidden="true">#</a> <strong>Offline Download</strong></h3>',6),yn=n("code",null,"115 Cloud",-1),xn={style:{color:"rgb(24, 144, 255)"}},An={fill:"none","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"toolbar-toggle hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css",height:"1em",width:"1em",style:{overflow:"visible"}},Cn=n("path",{fill:"currentColor",d:"M7 14a2 2 0 100-4 2 2 0 000 4zM14 12a2 2 0 11-4 0 2 2 0 014 0zM17 14a2 2 0 100-4 2 2 0 000 4z"},null,-1),En=n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12zm-2 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z","clip-rule":"evenodd"},null,-1),Sn=[Cn,En],Tn={style:{color:"rgb(24, 144, 255)"}},Dn={fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-iipViGO-css",tips:"offline_download",height:"1em",width:"1em",style:{overflow:"visible"}},Pn=n("path",{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M421.83 293.82A144 144 0 00218.18 90.17M353.94 225.94a48 48 0 00-67.88-67.88"},null,-1),In=n("path",{"stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M192 464v-48M90.18 421.82l33.94-33.94M48 320h48"},null,-1),Rn=n("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M286.06 158.06L172.92 271.19a32 32 0 01-45.25 0L105 248.57a32 32 0 010-45.26L218.18 90.17M421.83 293.82L308.69 407a32 32 0 01-45.26 0l-22.62-22.63a32 32 0 010-45.26l113.13-113.17M139.6 169.98l67.88 67.89M275.36 305.75l67.89 67.88"},null,-1),Mn=[Pn,In,Rn],Qn=n("code",null,"115 Cloud",-1),On=n("ul",null,[n("li",null,[s("Support: "),n("code",null,"magne"),s(", "),n("code",null,"http"),s(", "),n("code",null,"ed2k"),s(" links")])],-1),Ln=n("p",null,"Only 115 Cloud is supported for offline download. If it is not 115 Cloud, the following error message will be displayed, Although the offline download prompt was successfully added, an error will be prompted in the background.",-1),zn=n("ul",null,[n("li",null,"unsupported storage driver for offline download, only 115 Cloud is supported")],-1),Un=n("p",null,[n("img",{src:O,alt:""})],-1),Bn={style:{color:"rgb(24, 144, 255)"}},Wn={fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css",tips:"refresh",height:"1em",width:"1em",style:{overflow:"visible"}},Fn=n("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Gn=n("path",{d:"M5.463 4.433A9.961 9.961 0 0112 2c5.523 0 10 4.477 10 10 0 2.136-.67 4.116-1.81 5.74L17 12h3A8 8 0 006.46 6.228l-.997-1.795zm13.074 15.134A9.961 9.961 0 0112 22C6.477 22 2 17.523 2 12c0-2.136.67-4.116 1.81-5.74L7 12H4a8 8 0 0013.54 5.772l.997 1.795z"},null,-1),Nn=[Fn,Gn],Hn=n("li",null,"Currently, when the download is successful, completed tasks in the offline list are deleted.",-1),Vn=n("li",null,"115 Task URLs that are already in the offline list cannot be added again.",-1),Yn=n("br",null,null,-1),Kn=n("h3",{id:"the-default-download-method-used",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#the-default-download-method-used","aria-hidden":"true"},"#"),s(),n("strong",null,"The default download method used")],-1),jn=p('<h2 id="_115-share" tabindex="-1"><a class="header-anchor" href="#_115-share" aria-hidden="true">#</a> 115 Share</h2><p><img src="'+M+'" alt="url_demo"></p><p><code>Sharing link ID</code><sup>1</sup> and <code>Sharing link extraction code</code><sup>2</sup> How to obtain them respectively is clear at a glance.</p><h3 id="root-folder-id-1" tabindex="-1"><a class="header-anchor" href="#root-folder-id-1" aria-hidden="true">#</a> <strong>Root folder ID</strong></h3><p>The default is empty and the entire directory file is mounted.</p><p>The folder IDs are the root folder ID and the subfolder ID respectively. The following demonstrates how to obtain the <code>shared root folder directory ID</code><sup>1</sup> and <code>other subfolder directory ID</code><sup>2</sup> respectively.</p>',6),Xn=n("p",null,"Open developer mode (F12) and clear all requests first. Before we enter the folder, clear all requests first.",-1),Jn=n("p",null,[s("Let's click on the root folder to enter. There will be a new request on the right, and then select "),n("code",null,"Load"),s(" to see the ID (cid) of our folder.")],-1),Zn=n("p",null,[n("img",{src:P,alt:"url_demo"})],-1),$n=n("p",null,"Open developer mode (F12) and clear all requests first. Before we enter the folder, clear all requests first.",-1),ns=n("p",null,[s("There will be a new request on the right, then select "),n("code",null,"Preview"),s(" and expand it to see the IDs (cid) of other subfolders.")],-1),ss=n("p",null,[n("img",{src:I,alt:"url_demo"})],-1),as=p('<br><h3 id="error-tips" tabindex="-1"><a class="header-anchor" href="#error-tips" aria-hidden="true">#</a> <strong>Error Tips</strong></h3><p>For example, the 115 sharing link shown in the picture below has expired, but the sharing link can still be opened.</p><p><img src="'+Q+'" alt="url_demo"></p><p>But when adding and saving, the following error code will appear:</p><p><code>Failed init storage but storage is already created: failed init storage: failed to get share snap: json: cannot unmarshal number into Go struct field .data.shareinfo.share_state of type string </code></p><h3 id="the-default-download-method-used-1" tabindex="-1"><a class="header-anchor" href="#the-default-download-method-used-1" aria-hidden="true">#</a> <strong>The default download method used</strong></h3>',7),ts=T({__name:"115.html",setup(es){const u=k("Get QRCode"),t=k(0),b=k(""),g=k(""),r=k(""),C=async()=>{u.value="等待...",t.value=1;const e=await(await fetch(`${_()}/proxy/qrcodeapi.115.com/api/1.0/web/1.0/token`)).json();console.log(e),u.value="Use 115 Cloud APP To Scan Then Click",t.value=2,r.value={uid:e.data.uid,time:e.data.time.toString(),sign:e.data.sign,_:(new Date().getTime()/1e3).toString()},b.value=`${_()}/qr/?size=400&text=${encodeURIComponent(e.data.qrcode)}`},E=async()=>{t.value=3,u.value="Waiting...";const e=await(await fetch(`${_()}/proxy/qrcodeapi.115.com/get/status/?uid=${r.value.uid}&time=${r.value.time}&sign=${r.value.sign}&_=${r.value._}`)).json(),{data:{version:d,status:o,msg:q}}=e;if(o!==2){t.value=2,u.value="Use 115 Cloud APP To Scan Then Click",alert("Status:"+o);return}g.value=r.value.uid,u.value="Get Token Success",t.value=4,console.log(e)},S=async()=>{t.value===0&&C(),t.value===2&&E()};return(w,e)=>{const d=m("ExternalLinkIcon"),o=m("Badge"),q=m("Tabs"),f=m("Mermaid");return v(),h("div",null,[L,n("p",null,[s("such as "),n("a",z,[s("https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan"),a(d)]),s(",")]),U,n("p",null,[n("button",{disabled:t.value===3||t.value===1,style:{outline:"none",padding:"12px",background:"#70c6be",border:"none","border-radius":"8px",cursor:"pointer","font-size":"20px"},onClick:S},[W,s(" "+y(u.value),1),F],8,B)]),x(n("div",G,[n("img",{src:b.value},null,8,N)],512),[[A,b.value]]),x(n("div",null,[n("div",H,[n("p",V,"Token: "+y(g.value),1)])],512),[[A,g.value]]),Y,n("ol",null,[n("li",null,[s("Click "),K,s(),a(o,{text:"Get QRCode",color:"rgb(112,198,190)",type:"tip",vertical:"middle"}),s("，Then use the 115 mobile APP to scan the code")]),n("li",null,[s("After confirming the login by scanning the QR code using the APP，Click "),j,s(" Button, Get "),a(o,{text:"Token",type:"info",vertical:"middle"})]),n("li",null,[s("You will get "),a(o,{text:"Token",type:"info",vertical:"middle"}),s(" added to the "),X,s(" option of the AList 115 Cloud, and then select the "),J,s(" device (leave the Cookie option blank) "),Z]),n("li",null,[s("Fill in the "),a(o,{text:"Token",type:"info",vertical:"middle"}),s(" selection. After selecting the device and saving it, the "),a(o,{text:"Token",type:"info",vertical:"middle"}),s(" will automatically obtain the Cookie of the corresponding device and fill it in automatically.")])]),$,n("details",nn,[sn,n("details",an,[tn,n("p",null,[s("Source code from："),n("a",en,[on,a(d)])])]),pn,n("ol",null,[n("li",null,[n("p",null,[s("You need to install "),n("a",ln,[cn,a(d)]),s(" or above")])]),n("li",null,[un,n("ol",rn,[n("li",null,[dn,n("ul",null,[n("li",null,[s("Windows Store："),n("strong",null,[n("a",kn,[s("https://apps.microsoft.com/detail/9n0dx20hk701?rtc=1&hl=zh-cn&gl=CN"),a(d)])])]),n("li",null,[s("GitHub Download："),n("strong",null,[n("a",mn,[s("https://github.com/microsoft/terminal/releases"),a(d)])])])])]),vn])])]),hn,bn,a(q,{id:"181",data:[{id:"Direct Execution"},{id:"Using the -o parameter"}],"tab-id":"qr"},{title0:i(({value:l,isActive:c})=>[s("Direct Execution")]),title1:i(({value:l,isActive:c})=>[s("Using the -o parameter")]),tab0:i(({value:l,isActive:c})=>[gn,qn]),tab1:i(({value:l,isActive:c})=>[_n,wn]),_:1})]),fn,a(o,{text:"v3.37.0",type:"info",vertical:"middle"}),s(" and above versions support calling "),yn,s(" offline download function in AList"),n("p",null,[s("Select "),n("span",xn,[(v(),h("svg",An,Sn))]),n("span",Tn,[(v(),h("svg",Dn,Mn))]),s(" in the lower right corner and select "),Qn,s(" for offline download options")]),On,Ln,zn,Un,n("ul",null,[n("li",null,[s("Some tips for using 115 offline downloads: "),n("ol",null,[n("li",null,[s("Out of sync problems may occur (manual refresh in the lower right corner "),n("span",Bn,[(v(),h("svg",Wn,Nn))]),s(")")]),Hn,Vn])])]),Yn,Kn,a(f,{id:"mermaid-279",code:"eJydkE1vwjAMhu/8CguutKztAC3SNmniuNO0aYeKQz6cJSJtuiSlVOLHr7QFscMkNF8S2+/zynYURZOgg0ECn0pzBcI2pbFUQIFBWQHaQ+1RAGtBoKS1Cc+TEySNbbiiLsD7ywS68KE1CDQBqY0hM8bk3Adnd0hmcrUa/1GjRVAkrQ5zbo11XU/KazwdcSnXy/Xy4pBl2W+H++owYDX7crRSoAUmkMO2r9Kkf7AUY5pnd+mWEOJtgdxQ7x+7OI4LHWmadzs6wO9aVwWWYXDphRuUcKHOwz2sBkGSG8upgcrZQ7uNYmoCupIGvcc4evrDliX55nzkHoSPt9dbYW40352uPI3jhXCd1vkFt0Vhy1iFwswaZILuo8p2wnZ6xbB/MPxm5gdtZr9x"}),jn,a(q,{id:"298",data:[{id:"1 shared root folder directory ID"},{id:"2 other subfolder directory ID"}],"tab-id":"115"},{title0:i(({value:l,isActive:c})=>[s("1 shared root folder directory ID")]),title1:i(({value:l,isActive:c})=>[s("2 other subfolder directory ID")]),tab0:i(({value:l,isActive:c})=>[Xn,Jn,Zn]),tab1:i(({value:l,isActive:c})=>[$n,ns,ss]),_:1}),as,a(f,{id:"mermaid-341",code:"eJydkE1vwjAMhu/8CguutKztAC3SNmniuNO0aYeKQz6cJSJtuiSlVOLHr7QFscMkNF8S2+/zynYURZOgg0ECn0pzBcI2pbFUQIFBWQHaQ+1RAGtBoKS1Cc+TEySNbbiiLsD7ywS68KE1CDQBqY0hM8bk3Adnd0hmcrUa/1GjRVAkrQ5zbo11XU/KazwdcSnXy/Xy4pBl2W+H++owYDX7crRSoAUmkMO2r9Kkf7AUY5pnd+mWEOJtgdxQ7x+7OI4LHWmadzs6wO9aVwWWYXDphRuUcKHOwz2sBkGSG8upgcrZQ7uNYmoCupIGvcc4evrDliX55nzkHoSPt9dbYW40352uPI3jhXCd1vkFt0Vhy1iFwswaZILuo8p2wnZ6xbB/MPxm5gdtZr9x"})])}}}),ls=D(ts,[["__file","115.html.vue"]]);export{ls as default};
