import{_ as d,r as o,o as r,c as l,b as t,e as n,a as e,f as s}from"./app-ff454395.js";const p={},i=s(`<h1 id="auth" tabindex="-1"><a class="header-anchor" href="#auth" aria-hidden="true">#</a> auth</h1><h2 id="post-token获取" tabindex="-1"><a class="header-anchor" href="#post-token获取" aria-hidden="true">#</a> POST token获取</h2><p>POST /api/auth/login</p><p>获取某个用户的临时JWt token</p><blockquote><p>Body 请求参数</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{alist_username}}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{alist_password}}&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="请求参数" tabindex="-1"><a class="header-anchor" href="#请求参数" aria-hidden="true">#</a> 请求参数</h3><table><thead><tr><th>名称</th><th>位置</th><th>类型</th><th>必选</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>body</td><td>body</td><td>object</td><td>否</td><td></td><td>none</td></tr><tr><td>» username</td><td>body</td><td>string</td><td>是</td><td>用户名</td><td>用户名</td></tr><tr><td>» password</td><td>body</td><td>string</td><td>是</td><td>密码</td><td>密码</td></tr><tr><td>» otp_code</td><td>body</td><td>string</td><td>是</td><td>二步验证码</td><td>二步验证码</td></tr></tbody></table><blockquote><p>返回示例</p></blockquote><blockquote><p>成功</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;abcd&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回结果" tabindex="-1"><a class="header-anchor" href="#返回结果" aria-hidden="true">#</a> 返回结果</h3>`,12),u=t("thead",null,[t("tr",null,[t("th",null,"状态码"),t("th",null,"状态码含义"),t("th",null,"说明"),t("th",null,"数据模型")])],-1),c=t("td",null,"200",-1),h={href:"https://tools.ietf.org/html/rfc7231#section-6.3.1",target:"_blank",rel:"noopener noreferrer"},b=t("td",null,"成功",-1),k=t("td",null,"Inline",-1),v=s('<h3 id="返回数据结构" tabindex="-1"><a class="header-anchor" href="#返回数据结构" aria-hidden="true">#</a> 返回数据结构</h3><p>状态码 <strong>200</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必选</th><th>约束</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>» code</td><td>integer</td><td>true</td><td>none</td><td></td><td>状态码</td></tr><tr><td>» message</td><td>string</td><td>true</td><td>none</td><td></td><td>信息</td></tr><tr><td>» data</td><td>object</td><td>true</td><td>none</td><td></td><td>data</td></tr><tr><td>»» token</td><td>string</td><td>true</td><td>none</td><td></td><td>token</td></tr></tbody></table><h2 id="post-token获取hash" tabindex="-1"><a class="header-anchor" href="#post-token获取hash" aria-hidden="true">#</a> POST token获取hash</h2><p>POST /api/auth/login/hash</p>',5),q={href:"https://github.com/alist-org/alist%E5%90%8E%E7%BC%80%E5%90%8E%E5%86%8D%E8%BF%9B%E8%A1%8Csha256",target:"_blank",rel:"noopener noreferrer"},g=s(`<blockquote><p>Body 请求参数</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{alist_username}}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{alist_password}}&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="请求参数-1" tabindex="-1"><a class="header-anchor" href="#请求参数-1" aria-hidden="true">#</a> 请求参数</h3><table><thead><tr><th>名称</th><th>位置</th><th>类型</th><th>必选</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>body</td><td>body</td><td>object</td><td>否</td><td></td><td>none</td></tr><tr><td>» username</td><td>body</td><td>string</td><td>是</td><td>用户名</td><td>用户名</td></tr><tr><td>» password</td><td>body</td><td>string</td><td>是</td><td>密码</td><td>hash后密码，获取方式为<code>sha256(密码-https://github.com/alist-org/alist)</code></td></tr><tr><td>» otp_code</td><td>body</td><td>string</td><td>是</td><td>二步验证码</td><td>二步验证码</td></tr></tbody></table><blockquote><p>返回示例</p></blockquote><blockquote><p>成功</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;abcd&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回结果-1" tabindex="-1"><a class="header-anchor" href="#返回结果-1" aria-hidden="true">#</a> 返回结果</h3>`,8),m=t("thead",null,[t("tr",null,[t("th",null,"状态码"),t("th",null,"状态码含义"),t("th",null,"说明"),t("th",null,"数据模型")])],-1),_=t("td",null,"200",-1),y={href:"https://tools.ietf.org/html/rfc7231#section-6.3.1",target:"_blank",rel:"noopener noreferrer"},f=t("td",null,"成功",-1),x=t("td",null,"Inline",-1),j=s(`<h3 id="返回数据结构-1" tabindex="-1"><a class="header-anchor" href="#返回数据结构-1" aria-hidden="true">#</a> 返回数据结构</h3><p>状态码 <strong>200</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必选</th><th>约束</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>» code</td><td>integer</td><td>true</td><td>none</td><td></td><td>状态码</td></tr><tr><td>» message</td><td>string</td><td>true</td><td>none</td><td></td><td>信息</td></tr><tr><td>» data</td><td>object</td><td>true</td><td>none</td><td></td><td>data</td></tr><tr><td>»» token</td><td>string</td><td>true</td><td>none</td><td></td><td>token</td></tr></tbody></table><h2 id="post-生成2fa密钥" tabindex="-1"><a class="header-anchor" href="#post-生成2fa密钥" aria-hidden="true">#</a> POST 生成2FA密钥</h2><p>POST /api/auth/2fa/generate</p><h3 id="请求参数-2" tabindex="-1"><a class="header-anchor" href="#请求参数-2" aria-hidden="true">#</a> 请求参数</h3><table><thead><tr><th>名称</th><th>位置</th><th>类型</th><th>必选</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>Authorization</td><td>header</td><td>string</td><td>是</td><td></td><td>none</td></tr></tbody></table><blockquote><p>返回示例</p></blockquote><blockquote><p>成功</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;qr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RPQZG4MDS3&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回结果-2" tabindex="-1"><a class="header-anchor" href="#返回结果-2" aria-hidden="true">#</a> 返回结果</h3>`,11),E=t("thead",null,[t("tr",null,[t("th",null,"状态码"),t("th",null,"状态码含义"),t("th",null,"说明"),t("th",null,"数据模型")])],-1),O=t("td",null,"200",-1),S={href:"https://tools.ietf.org/html/rfc7231#section-6.3.1",target:"_blank",rel:"noopener noreferrer"},A=t("td",null,"成功",-1),T=t("td",null,"Inline",-1),w=s(`<h3 id="返回数据结构-2" tabindex="-1"><a class="header-anchor" href="#返回数据结构-2" aria-hidden="true">#</a> 返回数据结构</h3><p>状态码 <strong>200</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必选</th><th>约束</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>» code</td><td>integer</td><td>true</td><td>none</td><td>状态码</td><td>none</td></tr><tr><td>» message</td><td>string</td><td>true</td><td>none</td><td>信息</td><td>none</td></tr><tr><td>» data</td><td>object</td><td>true</td><td>none</td><td>数据</td><td>none</td></tr><tr><td>»» qr</td><td>string</td><td>true</td><td>none</td><td>二维码</td><td>二维码图片的data url</td></tr><tr><td>»» secret</td><td>string</td><td>true</td><td>none</td><td>密钥</td><td>none</td></tr></tbody></table><h2 id="post-验证2fa-code" tabindex="-1"><a class="header-anchor" href="#post-验证2fa-code" aria-hidden="true">#</a> POST 验证2FA code</h2><p>POST /api/auth/2fa/verify</p><blockquote><p>Body 请求参数</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="请求参数-3" tabindex="-1"><a class="header-anchor" href="#请求参数-3" aria-hidden="true">#</a> 请求参数</h3><table><thead><tr><th>名称</th><th>位置</th><th>类型</th><th>必选</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>Authorization</td><td>header</td><td>string</td><td>是</td><td></td><td>none</td></tr><tr><td>body</td><td>body</td><td>object</td><td>否</td><td></td><td>none</td></tr><tr><td>» code</td><td>body</td><td>string</td><td>是</td><td>2FA验证码</td><td>none</td></tr><tr><td>» secret</td><td>body</td><td>string</td><td>是</td><td>2FA密钥</td><td>none</td></tr></tbody></table><blockquote><p>返回示例</p></blockquote><blockquote><p>成功</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回结果-3" tabindex="-1"><a class="header-anchor" href="#返回结果-3" aria-hidden="true">#</a> 返回结果</h3>`,13),B=t("thead",null,[t("tr",null,[t("th",null,"状态码"),t("th",null,"状态码含义"),t("th",null,"说明"),t("th",null,"数据模型")])],-1),P=t("td",null,"200",-1),I={href:"https://tools.ietf.org/html/rfc7231#section-6.3.1",target:"_blank",rel:"noopener noreferrer"},K=t("td",null,"成功",-1),V=t("td",null,"Inline",-1),F=s(`<h3 id="返回数据结构-3" tabindex="-1"><a class="header-anchor" href="#返回数据结构-3" aria-hidden="true">#</a> 返回数据结构</h3><p>状态码 <strong>200</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必选</th><th>约束</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>» code</td><td>integer</td><td>true</td><td>none</td><td>状态码</td><td>none</td></tr><tr><td>» message</td><td>string</td><td>true</td><td>none</td><td>信息</td><td>none</td></tr><tr><td>» data</td><td>null</td><td>true</td><td>none</td><td></td><td>none</td></tr></tbody></table><h2 id="get-获取当前用户信息" tabindex="-1"><a class="header-anchor" href="#get-获取当前用户信息" aria-hidden="true">#</a> GET 获取当前用户信息</h2><p>GET /api/me</p><h3 id="请求参数-4" tabindex="-1"><a class="header-anchor" href="#请求参数-4" aria-hidden="true">#</a> 请求参数</h3><table><thead><tr><th>名称</th><th>位置</th><th>类型</th><th>必选</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>Authorization</td><td>header</td><td>string</td><td>否</td><td></td><td>none</td></tr></tbody></table><blockquote><p>返回示例</p></blockquote><blockquote><p>成功</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Salt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EV1R&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;base_path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sso_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;otp&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回结果-4" tabindex="-1"><a class="header-anchor" href="#返回结果-4" aria-hidden="true">#</a> 返回结果</h3>`,11),N=t("thead",null,[t("tr",null,[t("th",null,"状态码"),t("th",null,"状态码含义"),t("th",null,"说明"),t("th",null,"数据模型")])],-1),G=t("td",null,"200",-1),z={href:"https://tools.ietf.org/html/rfc7231#section-6.3.1",target:"_blank",rel:"noopener noreferrer"},C=t("td",null,"成功",-1),R=t("td",null,"Inline",-1),D=s('<h3 id="返回数据结构-4" tabindex="-1"><a class="header-anchor" href="#返回数据结构-4" aria-hidden="true">#</a> 返回数据结构</h3><p>状态码 <strong>200</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必选</th><th>约束</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>» code</td><td>integer</td><td>true</td><td>none</td><td>状态码</td><td>none</td></tr><tr><td>» message</td><td>string</td><td>true</td><td>none</td><td>信息</td><td>none</td></tr><tr><td>» data</td><td>object</td><td>true</td><td>none</td><td>数据</td><td>none</td></tr><tr><td>»» id</td><td>integer</td><td>true</td><td>none</td><td>id</td><td>none</td></tr><tr><td>»» username</td><td>string</td><td>true</td><td>none</td><td>用户名</td><td>none</td></tr><tr><td>»» Salt</td><td>string</td><td>true</td><td>none</td><td>salt</td><td>none</td></tr><tr><td>»» password</td><td>string</td><td>true</td><td>none</td><td>密码</td><td>none</td></tr><tr><td>»» base_path</td><td>string</td><td>true</td><td>none</td><td>根目录</td><td>none</td></tr><tr><td>»» role</td><td>integer</td><td>true</td><td>none</td><td>角色</td><td>none</td></tr><tr><td>»» disabled</td><td>boolean</td><td>true</td><td>none</td><td>是否禁用</td><td>none</td></tr><tr><td>»» permission</td><td>integer</td><td>true</td><td>none</td><td>权限</td><td>none</td></tr><tr><td>»» sso_id</td><td>string</td><td>true</td><td>none</td><td>sso id</td><td>none</td></tr><tr><td>»» otp</td><td>boolean</td><td>true</td><td>none</td><td>是否开启二步验证</td><td>none</td></tr></tbody></table><h1 id="数据模型" tabindex="-1"><a class="header-anchor" href="#数据模型" aria-hidden="true">#</a> 数据模型</h1>',4);function J(L,W){const a=o("ExternalLinkIcon");return r(),l("div",null,[i,t("table",null,[u,t("tbody",null,[t("tr",null,[c,t("td",null,[t("a",h,[n("OK"),e(a)])]),b,k])])]),v,t("p",null,[n("获取某个用户的临时JWt token，传入的密码需要在添加-"),t("a",q,[n("https://github.com/alist-org/alist后缀后再进行sha256"),e(a)])]),g,t("table",null,[m,t("tbody",null,[t("tr",null,[_,t("td",null,[t("a",y,[n("OK"),e(a)])]),f,x])])]),j,t("table",null,[E,t("tbody",null,[t("tr",null,[O,t("td",null,[t("a",S,[n("OK"),e(a)])]),A,T])])]),w,t("table",null,[B,t("tbody",null,[t("tr",null,[P,t("td",null,[t("a",I,[n("OK"),e(a)])]),K,V])])]),F,t("table",null,[N,t("tbody",null,[t("tr",null,[G,t("td",null,[t("a",z,[n("OK"),e(a)])]),C,R])])]),D])}const Q=d(p,[["render",J],["__file","auth.html.vue"]]);export{Q as default};
