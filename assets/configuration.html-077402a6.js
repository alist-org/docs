import{_ as o,N as p,a9 as r,Q as s,W as a,a1 as e,ag as t,G as i}from"./framework-95cb4087.js";const l={},c=t(`<h3 id="初始配置" tabindex="-1"><a class="header-anchor" href="#初始配置" aria-hidden="true">#</a> 初始配置</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;force&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">5244</span><span class="token punctuation">,</span>
  <span class="token property">&quot;site_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cdn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;jwt_secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;random generated&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;token_expires_in&quot;</span><span class="token operator">:</span> <span class="token number">48</span><span class="token punctuation">,</span>
  <span class="token property">&quot;database&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sqlite3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;db_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data\\\\data.db&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;table_prefix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x_&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ssl_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scheme&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;https&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cert_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;temp_dir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data\\\\temp&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bleve_dir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data\\\\bleve&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;log&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data\\\\log\\\\log.log&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_backups&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_age&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
    <span class="token property">&quot;compress&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_connections&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tls_insecure_skip_verify&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="字段说明" tabindex="-1"><a class="header-anchor" href="#字段说明" aria-hidden="true">#</a> 字段说明</h2><h3 id="force" tabindex="-1"><a class="header-anchor" href="#force" aria-hidden="true">#</a> force</h3><p>程序会优先从环境变量中读取配置，设置 <code>force</code> 为 <code>true</code> 会使程序忽略环境变量强制读取配置文件。</p><h3 id="address" tabindex="-1"><a class="header-anchor" href="#address" aria-hidden="true">#</a> address</h3><p>要监听的地址，默认为 0.0.0.0</p><h3 id="port" tabindex="-1"><a class="header-anchor" href="#port" aria-hidden="true">#</a> port</h3><p>要监听的端口，默认为 5244</p><h3 id="site-url" tabindex="-1"><a class="header-anchor" href="#site-url" aria-hidden="true">#</a> site_url</h3><p>你的网站URL，比如<code>https://pan.nn.ci</code>，这个地址会在程序中的某些地方使用，如果不设置这个字段，一些功能可能无法正常工作，比如</p><ul><li>本地存储的缩略图</li><li>开启web代理后的预览</li><li>开启web代理后的下载地址</li><li>反向代理至二级目录</li><li>...</li></ul><h3 id="cdn" tabindex="-1"><a class="header-anchor" href="#cdn" aria-hidden="true">#</a> cdn</h3><p>CDN 地址，如果要使用 CDN，可以设置该字段，<code>$version</code> 会被替换为 <code>alist-web</code> 的实际版本 这是动态的。 现有的 dist 资源托管在 npm 和 GitHub 上，它们的位置是：</p>`,14),u={href:"https://www.npmjs.com/package/alist-web",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/alist-org/web-dist",target:"_blank",rel:"noopener noreferrer"},k=s("p",null,"所以你可以使用任何 npm 或 GitHub CDN 作为路径，例如：",-1),h={href:"https://cdn.jsdelivr.net/npm/alist-web@$version/dist/",target:"_blank",rel:"noopener noreferrer"},v={href:"https://unpkg.com/alist-web@$version/dist/",target:"_blank",rel:"noopener noreferrer"},b={href:"https://cdn.jsdelivr.net/gh/alist-org/web-dist@$version/dist/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://cdn1.tianli0.top/npm/alist-web@$version/dist/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://cdn1.tianli0.top/gh/alist-org/web-dist@$version/dist/",target:"_blank",rel:"noopener noreferrer"},_={href:"https://npm.elemecdn.com/alist-web@$version/dist/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://jsd.onmicrosoft.cn/npm/alist-web@$version/dist/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://jsd.onmicrosoft.cn/gh/alist-org/web-dist@$version/dist/",target:"_blank",rel:"noopener noreferrer"},y=t(`<p>您也可以将其设置为空以使用本地 dist。</p><h3 id="jwt-secret" tabindex="-1"><a class="header-anchor" href="#jwt-secret" aria-hidden="true">#</a> jwt_secret</h3><p>用于签署 JWT 令牌的密钥，第一次启动时随机生成。</p><h3 id="token-expires-in" tabindex="-1"><a class="header-anchor" href="#token-expires-in" aria-hidden="true">#</a> token_expires_in</h3><p>用户登录过期时间，单位：小时</p><h3 id="database" tabindex="-1"><a class="header-anchor" href="#database" aria-hidden="true">#</a> database</h3><p>数据库配置，默认是 <code>sqlite3</code>，也可以使用 <code>mysql</code> 或者 <code>postgres</code>。</p><h3 id="scheme" tabindex="-1"><a class="header-anchor" href="#scheme" aria-hidden="true">#</a> scheme</h3><p>协议配置，如果要使用 HTTPS，可以设置该字段。</p><ul><li>填写示例：记得把证书文件丢到data目录里面才会识别到喔~</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>  <span class="token property">&quot;scheme&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;https&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cert_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data\\\\public.crt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data\\\\key.key&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="temp-dir" tabindex="-1"><a class="header-anchor" href="#temp-dir" aria-hidden="true">#</a> temp_dir</h3><p>程序临时目录，默认 <code>data/temp</code></p><div class="hint-container danger"><p class="hint-container-title">警告</p><p>temp_dir为alist独占的临时文件夹，为避免程序中断产生垃圾文件会在每次启动时清空，故请不要手动在此文件夹内放置任何内容，也不要在使用docker时将此文件夹及其子文件夹映射至正在使用的文件夹。</p></div><h3 id="log" tabindex="-1"><a class="header-anchor" href="#log" aria-hidden="true">#</a> log</h3><p>日志配置，如果要查看详细日志（或禁用它），可以设置该字段。</p><h3 id="max-connections" tabindex="-1"><a class="header-anchor" href="#max-connections" aria-hidden="true">#</a> max_connections</h3><p>同时最多的连接数(并发)，默认为0即不限制.</p><ul><li>对于一般的设备比如n1推荐10或者20 <ul><li>使用场景（例如打开图片模式会并发不是很好的设备就会崩溃）</li></ul></li></ul><h3 id="tls-insecure-skip-verify" tabindex="-1"><a class="header-anchor" href="#tls-insecure-skip-verify" aria-hidden="true">#</a> tls_insecure_skip_verify</h3><p>是否检查SSL证书，开启后如使用的网站的证书出现问题（如未包含中级证书、证书过期、证书伪造等），将不能使用该服务，关闭该选项请尽量在安全的网络环境下运行程序</p>`,21);function x(w,j){const n=i("ExternalLinkIcon");return p(),r("div",null,[c,s("ul",null,[s("li",null,[s("a",u,[a("https://www.npmjs.com/package/alist-web"),e(n)])]),s("li",null,[s("a",d,[a("https://github.com/alist-org/web-dist"),e(n)])])]),k,s("ul",null,[s("li",null,[s("a",h,[a("https://cdn.jsdelivr.net/npm/alist-web@$version/dist/"),e(n)])]),s("li",null,[s("a",v,[a("https://unpkg.com/alist-web@$version/dist/"),e(n)])]),s("li",null,[s("a",b,[a("https://cdn.jsdelivr.net/gh/alist-org/web-dist@$version/dist/"),e(n)])]),s("li",null,[s("a",m,[a("https://cdn1.tianli0.top/npm/alist-web@$version/dist/"),e(n)])]),s("li",null,[s("a",q,[a("https://cdn1.tianli0.top/gh/alist-org/web-dist@$version/dist/"),e(n)])]),s("li",null,[s("a",_,[a("https://npm.elemecdn.com/alist-web@$version/dist/"),e(n)])]),s("li",null,[s("a",g,[a("https://jsd.onmicrosoft.cn/npm/alist-web@$version/dist/"),e(n)])]),s("li",null,[s("a",f,[a("https://jsd.onmicrosoft.cn/gh/alist-org/web-dist@$version/dist/"),e(n)])])]),y])}const N=o(l,[["render",x],["__file","configuration.html.vue"]]);export{N as default};
