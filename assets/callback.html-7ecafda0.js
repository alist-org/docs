import{d as x,h as S,u as e,o as r,F as s,w as i,e as l,I as _,b as a,au as I,a as f,b4 as P,N as k,b5 as B,b6 as T,_ as C,r as V,c as z}from"./app-c2ec6812.js";import{N as v}from"./Alert-cc62307b.js";import{N as E}from"./Input-02855924.js";import"./browser-ab1ba968.js";const b=c=>(B("data-v-07bce39d"),c=c(),T(),c),L=b(()=>a("b",null,"client_id: ",-1)),R=b(()=>a("b",null,"client_secret: ",-1)),U=b(()=>a("b",null,"redirect_uri: ",-1)),j=b(()=>a("b",null,"refresh_token:",-1)),y="a78d5a69054042fa936f6c77f9a0ae8b",N="9c119bbb04b346d2a52aa64401936b2b",A="https://alist.nn.ci/tool/yandex/callback",D=x({__name:"Callback",setup(c){const d=new URL(window.location.href),p=d.searchParams.get("code"),n=d.searchParams.get("error"),g=d.searchParams.get("error_description"),t=S();return p&&!n&&(async()=>{const o=new URLSearchParams;o.append("grant_type","authorization_code"),o.append("client_id",y),o.append("client_secret",N),o.append("code",p||"");const u=await(await fetch("https://oauth.yandex.com/token",{method:"POST",body:o})).json();t.value=u})(),(o,w)=>!e(p)||e(n)?(r(),s(e(v),{key:0,title:e(n)||"Error",type:"error"},{default:i(()=>[l(_(e(g)),1)]),_:1},8,["title"])):(r(),s(e(k),{key:1,vertical:"",size:"large"},{default:i(()=>{var u,m,h;return[a("p",null,[L,l(_(y))]),a("p",null,[R,l(_(N))]),a("p",null,[U,l(_(A))]),(u=t.value)!=null&&u.error||(m=t.value)!=null&&m.error_description?(r(),s(e(v),{key:0,title:(h=t.value)==null?void 0:h.error,type:"error"},{default:i(()=>[l(_(t.value.error_description),1)]),_:1},8,["title"])):I("v-if",!0),f(e(k),{vertical:""},{default:i(()=>[j,t.value?(r(),s(e(E),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(r(),s(e(P),{key:0}))]),_:1})]}),_:1}))}});const F=C(D,[["__scopeId","data-v-07bce39d"],["__file","Callback.vue"]]),O=x({__name:"callback.html",setup(c){return(d,p)=>{const n=V("NaiveClient");return r(),z("div",null,[f(n,null,{default:i(()=>[f(e(F))]),_:1})])}}}),K=C(O,[["__file","callback.html.vue"]]);export{K as default};
