import{a as nu}from"./commonjsHelpers-87174ba5.js";function ru(kr,bi){for(var Nr=0;Nr<bi.length;Nr++){const ur=bi[Nr];if(typeof ur!="string"&&!Array.isArray(ur)){for(const Fn in ur)if(Fn!=="default"&&!(Fn in kr)){const Cr=Object.getOwnPropertyDescriptor(ur,Fn);Cr&&Object.defineProperty(kr,Fn,Cr.get?Cr:{enumerable:!0,get:()=>ur[Fn]})}}}return Object.freeze(Object.defineProperty(kr,Symbol.toStringTag,{value:"Module"}))}var ho={exports:{}};/*! For license information please see dash.all.min.js.LICENSE.txt */(function(kr,bi){(function(Nr,ur){kr.exports=ur()})(self,()=>(()=>{var Nr={4593:(tt,De)=>{var D,ae,b,e,n,S=function(h){for(var _=[],t=0;t<h.length;++t){var l=h.charCodeAt(t);l<128?_.push(l):l<2048?(_.push(192|l>>6),_.push(128|63&l)):l<65536?(_.push(224|l>>12),_.push(128|63&l>>6),_.push(128|63&l)):(_.push(240|l>>18),_.push(128|63&l>>12),_.push(128|63&l>>6),_.push(128|63&l))}return _},g=function(h){for(var _=[],t=0;t<h.length;){var l=h[t++];l<128||(l<224?(l=(31&l)<<6,l|=63&h[t++]):l<240?(l=(15&l)<<12,l|=(63&h[t++])<<6,l|=63&h[t++]):(l=(7&l)<<18,l|=(63&h[t++])<<12,l|=(63&h[t++])<<6,l|=63&h[t++])),_.push(String.fromCharCode(l))}return _.join("")},i={};D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ae=function(h){for(var _=0,t=[],l=0|h.length/3;0<l--;){var d=(h[_]<<16)+(h[_+1]<<8)+h[_+2];_+=3,t.push(D.charAt(63&d>>18)),t.push(D.charAt(63&d>>12)),t.push(D.charAt(63&d>>6)),t.push(D.charAt(63&d))}return h.length-_==2?(d=(h[_]<<16)+(h[_+1]<<8),t.push(D.charAt(63&d>>18)),t.push(D.charAt(63&d>>12)),t.push(D.charAt(63&d>>6)),t.push("=")):h.length-_==1&&(d=h[_]<<16,t.push(D.charAt(63&d>>18)),t.push(D.charAt(63&d>>12)),t.push("==")),t.join("")},b=function(){for(var h=[],_=0;_<D.length;++_)h[D.charCodeAt(_)]=_;return h["=".charCodeAt(0)]=0,h}(),e=function(h){for(var _=0,t=[],l=0|h.length/4;0<l--;){var d=(b[h.charCodeAt(_)]<<18)+(b[h.charCodeAt(_+1)]<<12)+(b[h.charCodeAt(_+2)]<<6)+b[h.charCodeAt(_+3)];t.push(255&d>>16),t.push(255&d>>8),t.push(255&d),_+=4}return t&&(h.charAt(_-2)=="="?(t.pop(),t.pop()):h.charAt(_-1)=="="&&t.pop()),t},n={encode:function(h){for(var _=[],t=0;t<h.length;++t)_.push(h.charCodeAt(t));return _},decode:function(h){for(var _=0;_<s.length;++_)a[_]=String.fromCharCode(a[_]);return a.join("")}},i.decodeArray=function(h){var _=e(h);return new Uint8Array(_)},i.encodeASCII=function(h){var _=n.encode(h);return ae(_)},i.decodeASCII=function(h){var _=e(h);return n.decode(_)},i.encode=function(h){var _=S(h);return ae(_)},i.decode=function(h){var _=e(h);return g(_)},De.decode=i.decode,De.decodeArray=i.decodeArray,De.encode=i.encode,De.encodeASCII=i.encodeASCII},452:(tt,De)=>{(function(D){var ae={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},b=function(O){var I=O;return ae.hasOwnProperty(O)&&(I=ae[O]),String.fromCharCode(I)},e=15,n=32,S={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},i={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},_=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],t={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(O){this.time=O},log:function(O,I){var k=this.verboseFilter[O];this.verboseLevel>=k&&console.log(this.time+" ["+O+"] "+I)}},l=function(O){for(var I=[],k=0;k<O.length;k++)I.push(O[k].toString(16));return I},d=function(O,I,k,$,J){this.foreground=O||"white",this.underline=I||!1,this.italics=k||!1,this.background=$||"black",this.flash=J||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(O){for(var I=["foreground","underline","italics","background","flash"],k=0;k<I.length;k++){var $=I[k];O.hasOwnProperty($)&&(this[$]=O[$])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(O){return this.foreground===O.foreground&&this.underline===O.underline&&this.italics===O.italics&&this.background===O.background&&this.flash===O.flash},copy:function(O){this.foreground=O.foreground,this.underline=O.underline,this.italics=O.italics,this.background=O.background,this.flash=O.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var P=function(O,I,k,$,J,we){this.uchar=O||" ",this.penState=new d(I,k,$,J,we)};P.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(O,I){this.uchar=O,this.penState.copy(I)},setPenState:function(O){this.penState.copy(O)},equals:function(O){return this.uchar===O.uchar&&this.penState.equals(O.penState)},copy:function(O){this.uchar=O.uchar,this.penState.copy(O.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var F=function(){this.chars=[];for(var O=0;O<n;O++)this.chars.push(new P);this.pos=0,this.currPenState=new d};F.prototype={equals:function(O){for(var I=!0,k=0;k<n;k++)if(!this.chars[k].equals(O.chars[k])){I=!1;break}return I},copy:function(O){for(var I=0;I<n;I++)this.chars[I].copy(O.chars[I])},isEmpty:function(){for(var O=!0,I=0;I<n;I++)if(!this.chars[I].isEmpty()){O=!1;break}return O},setCursor:function(O){this.pos!==O&&(this.pos=O),this.pos<0?(t.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>n&&(t.log("ERROR","Too large cursor position "+this.pos),this.pos=n)},moveCursor:function(O){var I=this.pos+O;if(O>1)for(var k=this.pos+1;k<I+1;k++)this.chars[k].setPenState(this.currPenState);this.setCursor(I)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(O){O>=144&&this.backSpace();var I=b(O);this.pos>=n?t.log("ERROR","Cannot insert "+O.toString(16)+" ("+I+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(I,this.currPenState),this.moveCursor(1))},clearFromPos:function(O){var I;for(I=O;I<n;I++)this.chars[I].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var O=[],I=!0,k=0;k<n;k++){var $=this.chars[k].uchar;$!==" "&&(I=!1),O.push($)}return I?"":O.join("")},setPenStyles:function(O){this.currPenState.setStyles(O),this.chars[this.pos].setPenState(this.currPenState)}};var j=function(){this.rows=[];for(var O=0;O<e;O++)this.rows.push(new F);this.currRow=14,this.nrRollUpRows=null,this.reset()};j.prototype={reset:function(){for(var O=0;O<e;O++)this.rows[O].clear();this.currRow=14},equals:function(O){for(var I=!0,k=0;k<e;k++)if(!this.rows[k].equals(O.rows[k])){I=!1;break}return I},copy:function(O){for(var I=0;I<e;I++)this.rows[I].copy(O.rows[I])},isEmpty:function(){for(var O=!0,I=0;I<e;I++)if(!this.rows[I].isEmpty()){O=!1;break}return O},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(O){this.rows[this.currRow].insertChar(O)},setPen:function(O){this.rows[this.currRow].setPenStyles(O)},moveCursor:function(O){this.rows[this.currRow].moveCursor(O)},setCursor:function(O){t.log("INFO","setCursor: "+O),this.rows[this.currRow].setCursor(O)},setPAC:function(O){t.log("INFO","pacData = "+JSON.stringify(O));var I=O.row-1;this.nrRollUpRows&&I<this.nrRollUpRows-1&&(I=this.nrRollUpRows-1),this.currRow=I;var k=this.rows[this.currRow];if(O.indent!==null){var $=O.indent,J=Math.max($-1,0);k.setCursor(O.indent),O.color=k.chars[J].penState.foreground}var we={foreground:O.color,underline:O.underline,italics:O.italics,background:"black",flash:!1};this.setPen(we)},setBkgData:function(O){t.log("INFO","bkgData = "+JSON.stringify(O)),this.backSpace(),this.setPen(O),this.insertChar(32)},setRollUpRows:function(O){this.nrRollUpRows=O},rollUp:function(){if(this.nrRollUpRows!==null){t.log("TEXT",this.getDisplayText());var O=this.currRow+1-this.nrRollUpRows,I=this.rows.splice(O,1)[0];I.clear(),this.rows.splice(this.currRow,0,I),t.log("INFO","Rolling up")}else t.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(O){O=O||!1;for(var I=[],k="",$=-1,J=0;J<e;J++){var we=this.rows[J].getTextString();we&&($=J+1,O?I.push("Row "+$+': "'+we+'"'):I.push(we.trim()))}return I.length>0&&(k=O?"["+I.join(" | ")+"]":I.join(`
`)),k},getTextAndFormat:function(){return this.rows}};var B=function(O,I){this.chNr=O,this.outputFilter=I,this.mode=null,this.verbose=0,this.displayedMemory=new j,this.nonDisplayedMemory=new j,this.lastOutputScreen=new j,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};B.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(O){this.outputFilter=O},setPAC:function(O){this.writeScreen.setPAC(O)},setBkgData:function(O){this.writeScreen.setBkgData(O)},setMode:function(O){O!==this.mode&&(this.mode=O,t.log("INFO","MODE="+O),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=O)},insertChars:function(O){for(var I=0;I<O.length;I++)this.writeScreen.insertChar(O[I]);var k=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";t.log("INFO",k+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(t.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){t.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){t.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){t.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(O){t.log("INFO","RU("+O+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(O)},cc_FON:function(){t.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){t.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){t.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){t.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){t.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){t.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){t.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(t.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var O=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=O,this.writeScreen=this.nonDisplayedMemory,t.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(O){t.log("INFO","TO("+O+") - Tab Offset"),this.writeScreen.moveCursor(O)},cc_MIDROW:function(O){var I={flash:!1};if(I.underline=O%2==1,I.italics=O>=46,I.italics)I.foreground="white";else{var k=Math.floor(O/2)-16;I.foreground=["white","green","blue","cyan","red","yellow","magenta"][k]}t.log("INFO","MIDROW: "+JSON.stringify(I)),this.writeScreen.setPen(I)},outputDataUpdate:function(){var O=t.time;O!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(O,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,O,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:O):this.cueStartTime=O,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(O){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,O,this.displayedMemory),this.cueStartTime=O))}};var X=function(O,I,k){this.field=O||1,this.outputs=[I,k],this.channels=[new B(1,I),new B(2,k)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};X.prototype={getHandler:function(O){return this.channels[O].getHandler()},setHandler:function(O,I){this.channels[O].setHandler(I)},addData:function(O,I){var k,$,J,we=!1;this.lastTime=O,t.setTime(O);for(var Be=0;Be<I.length;Be+=2)$=127&I[Be],J=127&I[Be+1],$>=16&&$<=31&&$===this.lastCmdA&&J===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,t.log("DEBUG","Repeated command ("+l([$,J])+") is dropped")):$!==0||J!==0?(t.log("DATA","["+l([I[Be],I[Be+1]])+"] -> ("+l([$,J])+")"),(k=this.parseCmd($,J))||(k=this.parseMidrow($,J)),k||(k=this.parsePAC($,J)),k||(k=this.parseBackgroundAttributes($,J)),k||(we=this.parseChars($,J))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(we):t.log("WARNING","No channel found yet. TEXT-MODE?")),k?this.dataCounters.cmd+=2:we?this.dataCounters.char+=2:(this.dataCounters.other+=2,t.log("WARNING","Couldn't parse cleaned data "+l([$,J])+" orig: "+l([I[Be],I[Be+1]])))):this.dataCounters.padding+=2},parseCmd:function(O,I){var k;if(!((O===20||O===21||O===28||O===29)&&32<=I&&I<=47||(O===23||O===31)&&33<=I&&I<=35))return!1;k=O===20||O===21||O===23?1:2;var $=this.channels[k-1];return O===20||O===21||O===28||O===29?I===32?$.cc_RCL():I===33?$.cc_BS():I===34?$.cc_AOF():I===35?$.cc_AON():I===36?$.cc_DER():I===37?$.cc_RU(2):I===38?$.cc_RU(3):I===39?$.cc_RU(4):I===40?$.cc_FON():I===41?$.cc_RDC():I===42?$.cc_TR():I===43?$.cc_RTD():I===44?$.cc_EDM():I===45?$.cc_CR():I===46?$.cc_ENM():I===47&&$.cc_EOC():$.cc_TO(I-32),this.lastCmdA=O,this.lastCmdB=I,this.currChNr=k,!0},parseMidrow:function(O,I){var k=null;if((O===17||O===25)&&32<=I&&I<=47){if((k=O===17?1:2)!==this.currChNr)return t.log("ERROR","Mismatch channel in midrow parsing"),!1;var $=this.channels[k-1];return $.insertChars([32]),$.cc_MIDROW(I),t.log("DEBUG","MIDROW ("+l([O,I])+")"),this.lastCmdA=O,this.lastCmdB=I,!0}return!1},parsePAC:function(O,I){var k,$;if(!((17<=O&&O<=23||25<=O&&O<=31)&&64<=I&&I<=127||(O===16||O===24)&&64<=I&&I<=95))return!1;k=O<=23?1:2,$=64<=I&&I<=95?k===1?S[O]:i[O]:k===1?g[O]:h[O];var J=this.interpretPAC($,I);return this.channels[k-1].setPAC(J),this.lastCmdA=O,this.lastCmdB=I,this.currChNr=k,!0},interpretPAC:function(O,I){var k,$={color:null,italics:!1,indent:null,underline:!1,row:O};return k=I>95?I-96:I-64,$.underline=(1&k)==1,k<=13?$.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(k/2)]:k<=15?($.italics=!0,$.color="white"):$.indent=4*Math.floor((k-16)/2),$},parseChars:function(O,I){var k=null,$=null,J=null;if(O>=25?(k=2,J=O-8):(k=1,J=O),17<=J&&J<=19){var we;we=J===17?I+80:J===18?I+112:I+144,t.log("INFO","Special char '"+b(we)+"' in channel "+k),$=[we],this.lastCmdA=O,this.lastCmdB=I}else 32<=O&&O<=127&&($=I===0?[O]:[O,I],this.lastCmdA=null,this.lastCmdB=null);if($){var Be=l($);t.log("DEBUG","Char codes =  "+Be.join(","))}return $},parseBackgroundAttributes:function(O,I){var k,$,J;return((O===16||O===24)&&32<=I&&I<=47||(O===23||O===31)&&45<=I&&I<=47)&&(k={},O===16||O===24?($=Math.floor((I-32)/2),k.background=_[$],I%2==1&&(k.background=k.background+"_semi")):I===45?k.background="transparent":(k.foreground="black",I===47&&(k.underline=!0)),J=O<24?1:2,this.channels[J-1].setBkgData(k),this.lastCmdA=O,this.lastCmdB=I,!0)},reset:function(){for(var O=0;O<this.channels.length;O++)this.channels[O]&&this.channels[O].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(O){for(var I=0;I<this.channels.length;I++)this.channels[I]&&this.channels[I].cueSplitAtTime(O)}},D.logger=t,D.PenState=d,D.CaptionScreen=j,D.Cea608Parser=X,D.findCea608Nalus=function(O,I,k){for(var $=0,J=I,we=[],Be=function(ye,be,He,ut){if(ye!==4||be<8)return null;var et=He.getUint8(ut),Te=He.getUint16(ut+1),We=He.getUint32(ut+3),lt=He.getUint8(ut+7);return et==181&&Te==49&&We==1195456820&&lt==3};J<I+k;){if($=O.getUint32(J),(31&O.getUint8(J+4))==6)for(var te=J+5,st=-1;te<J+4+$-1;){st=0;for(var Ae=255;Ae===255;)st+=Ae=O.getUint8(te),te++;var ke=0;for(Ae=255;Ae===255;)ke+=Ae=O.getUint8(te),te++;Be(st,ke,O,te)&&we.push([te,ke]),te+=ke}J+=$+4}return we},D.extractCea608DataFromRange=function(O,I){var k=I[0],$=[[],[]];k+=8;var J=31&O.getUint8(k);k+=2;for(var we=0;we<J;we++){var Be=O.getUint8(k),te=4&Be,st=3&Be;k++;var Ae=O.getUint8(k);k++;var ke=O.getUint8(k);k++,te&&(127&Ae)+(127&ke)!=0&&(st===0?($[0].push(Ae),$[0].push(ke)):st===1&&($[1].push(Ae),$[1].push(ke)))}return $}})(De)},8416:(tt,De,D)=>{var ae=D(7688),b=D(5448),e=D(6398),n=D(2032),S=(D(5530),typeof window<"u"&&window||D.g),g=S.dashjs;g||(g=S.dashjs={}),g.MediaPlayer=ae.Z,g.FactoryMaker=b.Z,g.Debug=e.Z,g.Version=(0,n.e)()},6398:(tt,De,D)=>{D.d(De,{Z:()=>l});var ae=D(5595),b=D(8512),e=D(5448),n=1,S=2,g=3,i=4,h=5;function _(d){d=d||{};var P,F,j,B,X=this.context,O=(0,ae.Z)(X).getInstance(),I=d.settings,k=[];function $(ke){return ke&&ke.bind?ke.bind(window.console):window.console.log.bind(window.console)}function J(){for(var ke=arguments.length,ye=new Array(ke),be=0;be<ke;be++)ye[be]=arguments[be];Ae.apply(void 0,[n,this].concat(ye))}function we(){for(var ke=arguments.length,ye=new Array(ke),be=0;be<ke;be++)ye[be]=arguments[be];Ae.apply(void 0,[S,this].concat(ye))}function Be(){for(var ke=arguments.length,ye=new Array(ke),be=0;be<ke;be++)ye[be]=arguments[be];Ae.apply(void 0,[g,this].concat(ye))}function te(){for(var ke=arguments.length,ye=new Array(ke),be=0;be<ke;be++)ye[be]=arguments[be];Ae.apply(void 0,[i,this].concat(ye))}function st(){for(var ke=arguments.length,ye=new Array(ke),be=0;be<ke;be++)ye[be]=arguments[be];Ae.apply(void 0,[h,this].concat(ye))}function Ae(ke,ye){var be="",He=null;F&&(He=new Date().getTime(),be+="["+(He-B)+"]"),j&&ye&&ye.getClassName&&(be+="["+ye.getClassName()+"]",ye.getType&&(be+="["+ye.getType()+"]")),be.length>0&&(be+=" ");for(var ut=arguments.length,et=new Array(ut>2?ut-2:0),Te=2;Te<ut;Te++)et[Te-2]=arguments[Te];Array.apply(null,et).forEach(function(We){be+=We+" "}),k[ke]&&I&&I.get().debug.logLevel>=ke&&k[ke](be),I&&I.get().debug.dispatchEvent&&O.trigger(b.Z.LOG,{message:be,level:ke})}return P={getLogger:function(ke){return{fatal:J.bind(ke),error:we.bind(ke),warn:Be.bind(ke),info:te.bind(ke),debug:st.bind(ke)}},setLogTimestampVisible:function(ke){F=ke},setCalleeNameVisible:function(ke){j=ke}},F=!0,j=!0,B=new Date().getTime(),typeof window<"u"&&window.console&&(k[n]=$(window.console.error),k[S]=$(window.console.error),k[g]=$(window.console.warn),k[i]=$(window.console.info),k[h]=$(window.console.debug)),P}_.__dashjs_factory_name="Debug";var t=e.Z.getSingletonFactory(_);t.LOG_LEVEL_NONE=0,t.LOG_LEVEL_FATAL=n,t.LOG_LEVEL_ERROR=S,t.LOG_LEVEL_WARNING=g,t.LOG_LEVEL_INFO=i,t.LOG_LEVEL_DEBUG=h,e.Z.updateSingletonFactory(_.__dashjs_factory_name,t);const l=t},5595:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b=D(8825);function e(){var g={};function i(_,t,l){var d=-1;return g[_]&&g[_].some(function(P,F){if(P&&P.callback===t&&(!l||l===P.scope))return d=F,!0}),d}var h={on:function(_,t,l){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!_)throw new Error("event type cannot be null or undefined");if(!t||typeof t!="function")throw new Error("listener must be a function: "+t);var P=d.priority||0;if(!(i(_,t,l)>=0)){g[_]=g[_]||[];var F={callback:t,scope:l,priority:P};l&&l.getStreamId&&(F.streamId=l.getStreamId()),l&&l.getType&&(F.mediaType=l.getType()),d&&d.mode&&(F.mode=d.mode);var j=g[_].some(function(B,X){if(B&&P>B.priority)return g[_].splice(X,0,F),!0});j||g[_].push(F)}},off:function(_,t,l){if(_&&t&&g[_]){var d=i(_,t,l);d<0||(g[_][d]=null)}},trigger:function(_){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(_&&g[_]){if((t=t||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=_,l.streamId&&(t.streamId=l.streamId),l.mediaType&&(t.mediaType=l.mediaType),g[_].filter(function(d){return!(!d||l.streamId&&d.streamId&&d.streamId!==l.streamId||l.mediaType&&d.mediaType&&d.mediaType!==l.mediaType||l.mode&&d.mode&&d.mode!==l.mode||!d.mode&&l.mode&&l.mode===b.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(d){return d&&d.callback.call(d.scope,t)})}},reset:function(){g={}}};return h}e.__dashjs_factory_name="EventBus";var n=ae.Z.getSingletonFactory(e);n.EVENT_PRIORITY_LOW=0,n.EVENT_PRIORITY_HIGH=5e3,ae.Z.updateSingletonFactory(e.__dashjs_factory_name,n);const S=n},5448:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function(){var b,e=[],n={},S={};function g(t,l){for(var d in e){var P=e[d];if(P.context===t&&P.name===l)return P.instance}return null}function i(t,l){return l[t]}function h(t,l,d){t in d&&(d[t]=l)}function _(t,l,d){var P,F=t.__dashjs_factory_name,j=l[F];if(j){var B=j.instance;if(!j.override)return B.apply({context:l,factory:b},d);for(var X in P=t.apply({context:l},d),B=B.apply({context:l,factory:b,parent:P},d))P.hasOwnProperty(X)&&(P[X]=B[X])}else P=t.apply({context:l},d);return P.getClassName=function(){return F},P}return b={extend:function(t,l,d,P){!P[t]&&l&&(P[t]={instance:l,override:d})},getSingletonInstance:g,setSingletonInstance:function(t,l,d){for(var P in e){var F=e[P];if(F.context===t&&F.name===l)return void(e[P].instance=d)}e.push({name:l,context:t,instance:d})},deleteSingletonInstances:function(t){e=e.filter(function(l){return l.context!==t})},getSingletonFactory:function(t){var l=i(t.__dashjs_factory_name,n);return l||(l=function(d){var P;return d===void 0&&(d={}),{getInstance:function(){return P||(P=g(d,t.__dashjs_factory_name)),P||(P=_(t,d,arguments),e.push({name:t.__dashjs_factory_name,context:d,instance:P})),P}}},n[t.__dashjs_factory_name]=l),l},getSingletonFactoryByName:function(t){return i(t,n)},updateSingletonFactory:function(t,l){h(t,l,n)},getClassFactory:function(t){var l=i(t.__dashjs_factory_name,S);return l||(l=function(d){return d===void 0&&(d={}),{create:function(){return _(t,d,arguments)}}},S[t.__dashjs_factory_name]=l),l},getClassFactoryByName:function(t){return i(t,S)},updateClassFactory:function(t,l){h(t,l,S)}},b}()},1264:(tt,De,D)=>{D.d(De,{Z:()=>l});var ae=D(5448),b=D(703),e=D(6398),n=D(3393),S=D(7855),g=D(5595),i=D(8512);function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},h(d)}function _(d,P,F){return P in d?Object.defineProperty(d,P,{value:F,enumerable:!0,configurable:!0,writable:!0}):d[P]=F,d}function t(){var d,P,F=this.context,j=(0,g.Z)(F).getInstance(),B={"streaming.delay.liveDelay":i.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":i.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":i.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":i.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":i.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},X={debug:{logLevel:e.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:n.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:n.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:n.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:n.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(d={},_(d,S.w.MPD_TYPE,500),_(d,S.w.XLINK_EXPANSION_TYPE,500),_(d,S.w.MEDIA_SEGMENT_TYPE,1e3),_(d,S.w.INIT_SEGMENT_TYPE,1e3),_(d,S.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),_(d,S.w.INDEX_SEGMENT_TYPE,1e3),_(d,S.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),_(d,S.w.LICENSE,1e3),_(d,S.w.OTHER_TYPE,1e3),_(d,"lowLatencyReductionFactor",10),d),retryAttempts:(P={},_(P,S.w.MPD_TYPE,3),_(P,S.w.XLINK_EXPANSION_TYPE,1),_(P,S.w.MEDIA_SEGMENT_TYPE,3),_(P,S.w.INIT_SEGMENT_TYPE,3),_(P,S.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),_(P,S.w.INDEX_SEGMENT_TYPE,3),_(P,S.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),_(P,S.w.LICENSE,3),_(P,S.w.OTHER_TYPE,3),_(P,"lowLatencyMultiplyFactor",5),P),abr:{movingAverageMethod:n.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:n.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:n.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:n.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},O=b.Z.clone(X);function I(k,$,J){for(var we in k)k.hasOwnProperty(we)&&($.hasOwnProperty(we)?h(k[we])!=="object"||k[we]instanceof Array||k[we]===null?($[we]=b.Z.clone(k[we]),B[J+we]&&j.trigger(B[J+we])):I(k[we],$[we],J.slice()+we+"."):console.error("Settings parameter "+J+we+" is not supported"))}return{get:function(){return O},update:function(k){h(k)==="object"&&I(k,O,"")},reset:function(){O=b.Z.clone(X)}}}t.__dashjs_factory_name="Settings";const l=ae.Z.getSingletonFactory(t)},703:(tt,De,D)=>{D.d(De,{Z:()=>g});var ae=D(3875),b=D.n(ae),e=D(1067);function n(i){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(i)}function S(i,h){for(var _=0;_<h.length;_++){var t=h[_];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}const g=function(){function i(){(function(t,l){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i)}var h,_;return h=i,_=[{key:"mixin",value:function(t,l,d){var P,F={};if(t)for(var j in l)l.hasOwnProperty(j)&&(P=l[j],j in t&&(t[j]===P||j in F&&F[j]===P)||(n(t[j])==="object"&&t[j]!==null?t[j]=i.mixin(t[j],P,d):t[j]=d(P)));return t}},{key:"clone",value:function(t){if(!t||n(t)!=="object")return t;var l;if(t instanceof Array){l=[];for(var d=0,P=t.length;d<P;++d)d in t&&l.push(i.clone(t[d]))}else l={};return i.mixin(l,t,i.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(t,l){try{if(!l||l.length===0)return t;var d=new URL(t);return l.forEach(function(P){P.key&&P.value&&d.searchParams.set(P.key,P.value)}),d.href}catch{return t}}},{key:"parseHttpHeaders",value:function(t){var l={};if(!t)return l;for(var d=t.trim().split(`\r
`),P=0,F=d.length;P<F;P++){var j=d[P],B=j.indexOf(": ");B>0&&(l[j.substring(0,B)]=j.substring(B+2))}return l}},{key:"generateUuid",value:function(){var t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var d=(t+16*Math.random())%16|0;return t=Math.floor(t/16),(l=="x"?d:3&d|8).toString(16)})}},{key:"generateHashCode",value:function(t){var l=0;if(t.length===0)return l;for(var d=0;d<t.length;d++)l=(l<<5)-l+t.charCodeAt(d),l|=0;return l}},{key:"getRelativeUrl",value:function(t,l){try{var d=new URL(t),P=new URL(l);if(d.protocol=P.protocol,d.origin!==P.origin)return l;var F=b().relative(d.pathname.substr(0,d.pathname.lastIndexOf("/")),P.pathname.substr(0,P.pathname.lastIndexOf("/"))),j=F.length===0?1:0;return F+=P.pathname.substr(P.pathname.lastIndexOf("/")+j,P.pathname.length-1),P.pathname.length<F.length?P.pathname:F}catch{return l}}},{key:"parseUserAgent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var l=t===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,e.UAParser)(l)}catch{return{}}}}],_&&S(h,_),i}()},2032:(tt,De,D)=>{function ae(){return"4.7.0"}D.d(De,{e:()=>ae})},2230:(tt,De,D)=>{function ae(e,n){for(var S=0;S<n.length;S++){var g=n[S];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(e,g.key,g)}}D.d(De,{Z:()=>b});const b=function(){function e(){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e)}var n,S;return n=e,(S=[{key:"extend",value:function(g,i){if(g){var h=!!i&&i.override,_=!!i&&i.publicOnly;for(var t in g)!g.hasOwnProperty(t)||this[t]&&!h||_&&g[t].indexOf("public_")===-1||(this[t]=g[t])}}}])&&ae(n.prototype,S),e}()},4351:(tt,De,D)=>{function ae(g){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ae(g)}function b(g,i){return b=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h},b(g,i)}function e(g,i){return!i||ae(i)!=="object"&&typeof i!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):i}function n(g){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},n(g)}D.d(De,{Z:()=>S});const S=function(g){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),d&&b(l,d)})(t,g);var i,h,_=(i=t,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=n(i);if(h){var P=n(this).constructor;l=Reflect.construct(d,arguments,P)}else l=d.apply(this,arguments);return e(this,l)});function t(){var l;return function(d,P){if(!(d instanceof P))throw new TypeError("Cannot call a class as a function")}(this,t),(l=_.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",l.BUFFERING_COMPLETED="bufferingCompleted",l.BUFFER_CLEARED="bufferCleared",l.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",l.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",l.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",l.CMSD_STATIC_HEADER="cmsdStaticHeader",l.CURRENT_TRACK_CHANGED="currentTrackChanged",l.DATA_UPDATE_COMPLETED="dataUpdateCompleted",l.INBAND_EVENTS="inbandEvents",l.INITIAL_STREAM_SWITCH="initialStreamSwitch",l.INIT_FRAGMENT_LOADED="initFragmentLoaded",l.INIT_FRAGMENT_NEEDED="initFragmentNeeded",l.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",l.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",l.LOADING_COMPLETED="loadingCompleted",l.LOADING_PROGRESS="loadingProgress",l.LOADING_DATA_PROGRESS="loadingDataProgress",l.LOADING_ABANDONED="loadingAborted",l.MANIFEST_UPDATED="manifestUpdated",l.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",l.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",l.QUOTA_EXCEEDED="quotaExceeded",l.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",l.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",l.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",l.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",l.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",l.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",l.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",l.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",l.SOURCE_BUFFER_ERROR="sourceBufferError",l.STREAMS_COMPOSED="streamsComposed",l.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",l.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",l.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",l.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",l.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",l.URL_RESOLUTION_FAILED="urlResolutionFailed",l.VIDEO_CHUNK_RECEIVED="videoChunkReceived",l.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",l.XLINK_ELEMENT_LOADED="xlinkElementLoaded",l.XLINK_READY="xlinkReady",l.SEEK_TARGET="seekTarget",l.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",l.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",l.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",l.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",l.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",l}return t}(D(8342).Z)},8512:(tt,De,D)=>{function ae(i){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},ae(i)}function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}function e(i,h){return e=Object.setPrototypeOf||function(_,t){return _.__proto__=t,_},e(i,h)}function n(i,h){return!h||ae(h)!=="object"&&typeof h!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(i):h}function S(i){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},S(i)}D.d(De,{Z:()=>g});const g=new(function(i){(function(d,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(P&&P.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),P&&e(d,P)})(l,i);var h,_,t=(h=l,_=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,P=S(h);if(_){var F=S(this).constructor;d=Reflect.construct(P,arguments,F)}else d=P.apply(this,arguments);return n(this,d)});function l(){return b(this,l),t.apply(this,arguments)}return l}(D(4351).Z))},8342:(tt,De,D)=>{function ae(e,n){for(var S=0;S<n.length;S++){var g=n[S];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(e,g.key,g)}}D.d(De,{Z:()=>b});const b=function(){function e(){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e)}var n,S;return n=e,(S=[{key:"extend",value:function(g,i){if(g){var h=!!i&&i.override,_=!!i&&i.publicOnly;for(var t in g)!g.hasOwnProperty(t)||this[t]&&!h||_&&g[t].indexOf("public_")===-1||(this[t]=g[t])}}}])&&ae(n.prototype,S),e}()},9326:(tt,De,D)=>{D.d(De,{Z:()=>h});var ae=D(3186),b=D(7855),e=D(5448),n=D(8825),S=D(7387),g=D(1553);function i(_){var t,l,d,P,F,j=(_=_||{}).eventBus,B=_.debug,X=_.urlUtils,O=_.type,I=_.streamInfo,k=_.segmentsController,$=_.timelineConverter,J=_.baseURLController;function we(){return O}function Be(){d=null}function te(ye,be,He){var ut,et,Te=J.resolve(He.path),We={};return Te&&be!==Te.url&&X.isRelative(be)?(ut=Te.url,et=Te.serviceLocation,We=Te.queryParams,be&&(ut=X.resolve(be,ut))):ut=be,!X.isRelative(ut)&&(ye.url=ut,ye.serviceLocation=et,ye.queryParams=We,!0)}function st(ye,be){if(be==null)return null;var He=new ae.Z,ut=be.representation,et=ut.adaptation.period.mpd.manifest.Period_asArray[ut.adaptation.period.index].AdaptationSet_asArray[ut.adaptation.index].Representation_asArray[ut.index].bandwidth,Te=be.media;return Te=(0,S.vi)(Te,"Number",be.replacementNumber),Te=(0,S.vi)(Te,"Time",be.replacementTime),Te=(0,S.vi)(Te,"Bandwidth",et),Te=(0,S.Aj)(Te,ut.id),Te=(0,S.eR)(Te),He.mediaType=we(),He.type=b.w.MEDIA_SEGMENT_TYPE,He.range=be.mediaRange,He.startTime=be.presentationStartTime,He.mediaStartTime=be.mediaStartTime,He.duration=be.duration,He.timescale=ut.timescale,He.availabilityStartTime=be.availabilityStartTime,He.availabilityEndTime=be.availabilityEndTime,He.availabilityTimeComplete=ut.availabilityTimeComplete,He.wallStartTime=be.wallStartTime,He.quality=ut.index,He.index=be.index,He.mediaInfo=ye,He.adaptationIndex=ut.adaptation.index,He.representationId=ut.id,te(He,Te,ut)?He:void 0}function Ae(ye,be,He){var ut=null;if(!be||!be.segmentInfoType)return ut;var et=k.getSegmentByTime(be,He);return et&&(d=et,l.debug("Index for time "+He+" is "+et.index),ut=st(ye,et)),ut}function ke(){l.debug("Dynamic stream complete"),F=!0}return t={initialize:function(ye){P=ye,F=!1,k.initialize(ye)},getStreamId:function(){return I.id},getType:we,getStreamInfo:function(){return I},getInitRequest:function(ye,be){return be?function(He,ut,et){var Te=new ae.Z,We=ut.adaptation.period,lt=We.start;if(Te.mediaType=et,Te.type=b.w.INIT_SEGMENT_TYPE,Te.range=ut.range,Te.availabilityStartTime=$.calcAvailabilityStartTimeFromPresentationTime(lt,ut,P),Te.availabilityEndTime=$.calcAvailabilityEndTimeFromPresentationTime(lt+We.duration,ut,P),Te.quality=ut.index,Te.mediaInfo=He,Te.representationId=ut.id,te(Te,ut.initialization,ut))return Te.url=(0,S.vi)(Te.url,"Bandwidth",ut.bandwidth),Te}(ye,be,we()):null},getSegmentRequestForTime:Ae,getCurrentIndex:function(){return d?d.index:-1},getNextSegmentRequest:function(ye,be){var He=null;if(!be||!be.segmentInfoType)return null;var ut=d?d.index+1:0,et=k.getSegmentByIndex(be,ut,d?d.mediaStartTime:-1);if(et)He=st(ye,et),d=et;else{if(P&&!F)return l.debug(we()+" No segment found at index: "+ut+". Wait for next loop"),null;F=!0}return He},isLastSegmentRequested:function(ye,be){return!ye||!d?!1:F?!0:!isFinite(ye.adaptation.period.duration)||d.presentationStartTime+d.duration>be?!1:ye.mediaFinishedInformation&&!isNaN(ye.mediaFinishedInformation.numberOfSegments)&&!isNaN(d.index)&&d.index>=ye.mediaFinishedInformation.numberOfSegments-1&&(!P||ye.segmentInfoType===g.Z.SEGMENT_TEMPLATE||P&&ye.segmentInfoType===g.Z.SEGMENT_LIST&&ye.adaptation.period.nextPeriodId)?!0:!!(P&&ye.adaptation.period.nextPeriodId&&ye.segmentInfoType===g.Z.SEGMENT_TIMELINE&&ye.mediaFinishedInformation&&!isNaN(ye.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&d&&!isNaN(d.mediaStartTime)&&!isNaN(d.duration)&&d.mediaStartTime+d.duration>=ye.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function(){Be(),j.off(n.Z.DYNAMIC_TO_STATIC,ke,t)},getNextSegmentRequestIdempotent:function(ye,be){var He=d?d.index+1:0,ut=k.getSegmentByIndex(be,He,d?d.mediaStartTime:-1);return ut?st(ye,ut):null},getValidTimeAheadOfTargetTime:function(ye,be,He,ut){try{if(isNaN(ye)||!be||!He)return NaN;if(ye<0&&(ye=0),isNaN(ut)&&(ut=.5),Ae(be,He,ye))return ye;if(He.adaptation.period.start+He.adaptation.period.duration<ye)return NaN;for(var et=isFinite(He.adaptation.period.duration)?He.adaptation.period.start+He.adaptation.period.duration:ye+30,Te=Math.min(ye+ut,et),We=NaN,lt=null;Te<=et;){var xe=null;if(Te<=et&&(xe=Ae(be,He,Te)),xe){We=Te,lt=xe;break}Te+=ut}if(lt){var Qe=lt.startTime+lt.duration;return ye>lt.startTime&&Qe-ye>ut?ye:!isNaN(lt.startTime)&&ye<lt.startTime&&We>lt.startTime?lt.startTime+.001:Math.min(Qe-ut,We)}return We}catch{return NaN}}},l=B.getLogger(t),Be(),j.on(n.Z.DYNAMIC_TO_STATIC,ke,t),t}i.__dashjs_factory_name="DashHandler";const h=e.Z.getClassFactory(i)},1553:(tt,De,D)=>{function ae(e,n){for(var S=0;S<n.length;S++){var g=n[S];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(e,g.key,g)}}D.d(De,{Z:()=>b});const b=new(function(){function e(){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),this.init()}var n,S;return n=e,(S=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&ae(n.prototype,S),e}())},7802:(tt,De,D)=>{D.d(De,{Z:()=>i});var ae=D(5448),b=D(1724),e=D(3636),n=D(1736),S=D(5246);function g(h){h=h||{};var _,t,l=this.context,d=h.dashConstants,P=h.type,F=h.segmentBaseController;function j(B){return B?B.segments?t[d.SEGMENT_BASE]:t[B.segmentInfoType]:null}return _={initialize:function(B){t[d.SEGMENT_TIMELINE]=(0,b.Z)(l).create(h,B),t[d.SEGMENT_TEMPLATE]=(0,e.Z)(l).create(h,B),t[d.SEGMENT_LIST]=(0,n.Z)(l).create(h,B),t[d.SEGMENT_BASE]=(0,S.Z)(l).create(h,B)},updateInitData:function(B,X){return X?Promise.resolve():F.getSegmentBaseInitSegment({representation:B,mediaType:P})},updateSegmentData:function(B,X){return X?Promise.resolve():F.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:P})},getSegmentByIndex:function(B,X,O){var I=j(B);return I?I.getSegmentByIndex(B,X,O):null},getSegmentByTime:function(B,X){var O=j(B);return O?O.getSegmentByTime(B,X):null},getMediaFinishedInformation:function(B){var X=j(B);return X?X.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},t={},_}g.__dashjs_factory_name="SegmentsController";const i=ae.Z.getClassFactory(g)},1736:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b=D(3393),e=D(7387);function n(g,i){var h=(g=g||{}).timelineConverter;function _(){if(!h||!h.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.Z.MISSING_CONFIG_ERROR)}function t(l,d){if(_(),!l)return null;var P=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentList,F=P.SegmentURL_asArray.length,j=l&&!isNaN(l.startNumber)?l.startNumber:1,B=Math.max(j-1,0),X=Math.max(d-B,0),O=null;if(X<F){var I=P.SegmentURL_asArray[X];(O=(0,e.NF)(h,i,l,d))&&(O.replacementTime=(j+d-1)*l.segmentDuration,O.media=I.media?I.media:"",O.mediaRange=I.mediaRange,O.indexRange=I.indexRange)}return O}return{getSegmentByIndex:t,getSegmentByTime:function(l,d){if(_(),!l)return null;var P=l.segmentDuration;if(isNaN(P))return null;var F=h.calcPeriodRelativeTimeFromMpdRelativeTime(l,d);return t(l,Math.floor(F/P))},getMediaFinishedInformation:function(l){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!l)return d;var P=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentList,F=l&&!isNaN(l.startNumber)?l.startNumber:1,j=Math.max(F-1,0);return d.numberOfSegments=j+P.SegmentURL_asArray.length,d}}}n.__dashjs_factory_name="ListSegmentsGetter";const S=ae.Z.getClassFactory(n)},5246:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(5448),b=D(3393);function e(S){var g=(S=S||{}).timelineConverter;function i(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.Z.MISSING_CONFIG_ERROR)}function h(_,t){if(i(),!_)return null;var l,d=_.segments?_.segments.length:-1;if(t<d&&(l=_.segments[t])&&l.index===t)return l;for(var P=0;P<d;P++)if((l=_.segments[P])&&l.index===t)return l;return null}return{getSegmentByIndex:h,getSegmentByTime:function(_,t){i();var l=function(d,P){if(!d)return-1;var F,j,B,X,O,I=d.segments,k=I?I.length:null,$=-1;if(I&&k>0){for(O=0;O<k;O++)if(B=(j=I[O]).presentationStartTime,P+(F=(X=j.duration)/2)>=B&&P-F<B+X){$=j.index;break}}return $}(_,t);return h(_,l)},getMediaFinishedInformation:function(_){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return _&&_.segments&&(t.numberOfSegments=_.segments.length),t}}}e.__dashjs_factory_name="SegmentBaseGetter";const n=ae.Z.getClassFactory(e)},7387:(tt,De,D)=>{D.d(De,{Aj:()=>n,NF:()=>h,TJ:()=>_,eR:()=>e,vi:()=>S});var ae=D(2011);function b(t,l){for(;t.length<l;)t="0"+t;return t}function e(t){return t&&t.split("$$").join("$")}function n(t,l){if(!l||!t||t.indexOf("$RepresentationID$")===-1)return t;var d=l.toString();return t.split("$RepresentationID$").join(d)}function S(t,l,d){var P,F,j,B,X,O,I=l.length,k=2;if(!t)return t;for(;;){if((P=t.indexOf("$"+l))<0||(F=t.indexOf("$",P+I))<0)return t;if((j=t.indexOf("%0",P+I))>P&&j<F)switch(B=t.charAt(F-1),X=parseInt(t.substring(j+k,F-1),10),B){case"d":case"i":case"u":O=b(d.toString(),X);break;case"x":O=b(d.toString(16),X);break;case"X":O=b(d.toString(16),X).toUpperCase();break;case"o":O=b(d.toString(8),X);break;default:return t}else O=d;t=t.substring(0,P)+O+t.substring(F+1)}}function g(t,l,d,P,F,j,B,X){var O,I=new ae.Z;return I.representation=t,I.duration=l,I.presentationStartTime=d,I.mediaStartTime=P,I.availabilityStartTime=F.calcAvailabilityStartTimeFromPresentationTime(j,t,B),I.availabilityEndTime=F.calcAvailabilityEndTimeFromPresentationTime(j+l,t,B),I.wallStartTime=F.calcWallTimeForSegment(I,B),I.replacementNumber=(O=X,I.representation.startNumber+O),I.index=X,I}function i(t,l,d,P){var F=l.adaptation.period;if(isFinite(F.duration)&&F.start+F.duration<=d.presentationStartTime)return!1;if(P){if(l.availabilityTimeOffset==="INF")return!0;var j=t.getClientReferenceTime();return d.availabilityStartTime.getTime()<=j&&(!isFinite(d.availabilityEndTime)||d.availabilityEndTime.getTime()>=j)}return!0}function h(t,l,d,P){var F,j,B;F=d.segmentDuration,isNaN(F)&&(F=d.adaptation.period.duration),j=parseFloat((d.adaptation.period.start+P*F).toFixed(5)),B=parseFloat((j+F).toFixed(5));var X=g(d,F,j,t.calcMediaTimeFromPresentationTime(j,d),t,B,l,P);return i(t,d,X,l)?X:null}function _(t,l,d,P,F,j,B,X,O,I){var k,$,J=P/j,we=F/j;return k=t.calcPresentationTimeFromMediaTime(J,d),i(t,d,$=g(d,we,k,J,t,k+we,l,O),l)?($.replacementTime=I||P,B=S(B,"Number",$.replacementNumber),B=S(B,"Time",$.replacementTime),$.media=B,$.mediaRange=X,$):null}},3636:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b=D(3393),e=D(7387);function n(g,i){var h=(g=g||{}).timelineConverter;function _(){if(!h||!h.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.Z.MISSING_CONFIG_ERROR)}function t(l,d){if(_(),!l)return null;var P=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentTemplate;d=Math.max(d,0);var F=(0,e.NF)(h,i,l,d);if(F){F.replacementTime=Math.round((d-1)*l.segmentDuration*l.timescale,10);var j=P.media;j=(0,e.vi)(j,"Number",F.replacementNumber),j=(0,e.vi)(j,"Time",F.replacementTime),F.media=j}return F}return{getSegmentByIndex:t,getSegmentByTime:function(l,d){if(_(),!l)return null;var P=l.segmentDuration;if(isNaN(P))return null;var F=h.calcPeriodRelativeTimeFromMpdRelativeTime(l,d);return t(l,Math.floor(F/P))},getMediaFinishedInformation:function(l){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!l)return d;var P=l.segmentDuration;return isNaN(P)?d.numberOfSegments=1:d.numberOfSegments=Math.ceil(l.adaptation.period.duration/P),d}}}n.__dashjs_factory_name="TemplateSegmentsGetter";const S=ae.Z.getClassFactory(n)},1724:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b=D(3393),e=D(7387);function n(g,i){var h=(g=g||{}).timelineConverter,_=g.dashMetrics;function t(){if(!h)throw new Error(b.Z.MISSING_CONFIG_ERROR)}function l(P,F){var j,B,X,O,I,k,$,J=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentTemplate||P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,we=J.SegmentTimeline,Be=J.SegmentURL_asArray,te=0,st=-1;$=P.timescale;var Ae=!1;for(X=0,O=(j=we.S_asArray).length;X<O&&!Ae;X++)for(k=0,(B=j[X]).hasOwnProperty("r")&&(k=B.r),B.hasOwnProperty("t")&&(te=B.t),k<0&&(k=d(P,j[X+1],B,$,te/$)),I=0;I<=k&&!Ae;I++)(Ae=F(te,J,Be,B,$,++st,X))&&(P.segmentDuration=B.d/$),te+=B.d}function d(P,F,j,B,X){var O;if(F&&F.hasOwnProperty("t"))O=F.t/B;else try{var I=0;if(isNaN(P.adaptation.period.start)||isNaN(P.adaptation.period.duration)||!isFinite(P.adaptation.period.duration)){var k=_.getCurrentDVRInfo();I=isNaN(k.end)?0:k.end}else I=P.adaptation.period.start+P.adaptation.period.duration;O=h.calcMediaTimeFromPresentationTime(I,P),P.segmentDuration=j.d/B}catch{O=0}return Math.max(Math.ceil((O-X)/(j.d/B))-1,0)}return{getSegmentByIndex:function(P,F,j){if(t(),!P)return null;var B=null,X=!1;return l(P,function(O,I,k,$,J,we,Be){if(X||j<0){var te=I.media,st=$.mediaRange;return k&&(te=k[Be].media||"",st=k[Be].mediaRange),B=(0,e.TJ)(h,i,P,O,$.d,J,te,st,we,$.tManifest),!0}return O>=j*J-.5*$.d&&(X=!0),!1}),B},getSegmentByTime:function(P,F){if(t(),!P)return null;F===void 0&&(F=null);var j=null,B=h.calcMediaTimeFromPresentationTime(F,P);return l(P,function(X,O,I,k,$,J,we){var Be=parseFloat((B*$).toPrecision(15));if(Be<X+k.d&&Be>=X){var te=O.media,st=k.mediaRange;return I&&(te=I[we].media||"",st=I[we].mediaRange),j=(0,e.TJ)(h,i,P,X,k.d,$,te,st,J,k.tManifest),!0}return!1}),j},getMediaFinishedInformation:function(P){if(!P)return 0;var F,j,B,X,O,I,k,$=(P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentTemplate||P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList).SegmentTimeline,J=0,we=0,Be=0;for(k=P.timescale,X=(F=$.S_asArray).length,B=0;B<X;B++)for(I=0,(j=F[B]).hasOwnProperty("r")&&(I=j.r),j.hasOwnProperty("t")&&(we=(J=j.t)/k),I<0&&(I=d(P,F[B+1],j,k,we)),O=0;O<=I;O++)Be++,we=(J+=j.d)/k;return{numberOfSegments:Be,mediaTimeOfLastSignaledSegment:we}}}}n.__dashjs_factory_name="TimelineSegmentsGetter";const S=ae.Z.getClassFactory(n)},2011:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function b(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,b),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function b(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,b),this.schemeIdUri="",this.value=""}},7688:(tt,De,D)=>{D.d(De,{Z:()=>tu});var ae=D(452),b=D.n(ae),e=D(3393),n=D(1553),S=D(3860),g=D(5595),i=D(8512),h=D(5448),_=D(6398),t=D(8825);function l(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re,ee,ie,p,L,Z=this.context,M=(0,g.Z)(Z).getInstance();function R(){C(),Y=!1,V=0,q=0,ne=0,ie=!1,se=!0,fe=!1,p=!1,x=NaN,m&&(M.off(i.Z.DATA_UPDATE_COMPLETED,Oe,u),M.off(i.Z.LOADING_PROGRESS,Bt,u),M.off(i.Z.MANIFEST_UPDATED,yt,u),M.off(i.Z.STREAMS_COMPOSED,Ye,u),M.off(t.Z.PLAYBACK_ENDED,fn,u),M.off(t.Z.STREAM_INITIALIZING,Zt,u),M.off(t.Z.REPRESENTATION_SWITCH,Ke,u),M.off(t.Z.BUFFER_LEVEL_STATE_CHANGED,Ge,u),le(),m.removeEventListener("canplay",pe),m.removeEventListener("canplaythrough",Pe),m.removeEventListener("play",Ve),m.removeEventListener("waiting",ct),m.removeEventListener("playing",St),m.removeEventListener("pause",qt),m.removeEventListener("error",gt),m.removeEventListener("seeking",jt),m.removeEventListener("seeked",kt),m.removeEventListener("timeupdate",Ht),m.removeEventListener("progress",Kt),m.removeEventListener("ratechange",rn),m.removeEventListener("loadedmetadata",un),m.removeEventListener("loadeddata",en),m.removeEventListener("stalled",Gt),m.removeEventListener("ended",cn),m.removeEventListener("volumechange",an)),G=null,m=null,N=null,H=null}function K(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((W(Ie)-Re()).toFixed(5))}function W(Ie){var oe=Ie||N;return oe.start+oe.duration}function ue(){var Ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0];N&&m&&m.getElement()?(Ie&&H&&Se(Re()),m.play()):Y=!0}function C(){N&&m&&m.pause()}function U(Ie){var oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(N&&m&&m.getElement()){var Rt=isNaN(x)?m.getTime():x;Ie!==Rt&&((re=Ue===!0)||(x=Ie),r.info("Requesting seek to time: "+Ie+(re?" (internal)":"")),H&&at&&Se(Ie),m.setCurrentTime(Ie,oe))}}function me(){if(N&&m&&H){var Ie=c&&c.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO,oe=A.getCurrentDVRInfo(Ie);return oe&&oe.range?oe.range.end:0}}function Se(Ie){var oe=new Date(w.getClientReferenceTime()),Ue=T.getRegularPeriods()[0],at=w.calcPresentationTimeFromWallTime(oe,Ue);V=at-Ie}function Re(){return N&&m?m.getTime():null}function Me(){return N&&m?m.isPaused():null}function Ee(){return N&&m?m.isSeeking():null}function Fe(){return N&&m?m.isStalled():null}function dt(){return N&&m?m.getPlaybackRate():null}function Je(){return N&&m?m.getEnded():null}function rt(){return H}function Tt(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!Me()&&H&&m.getReadyState()!==0&&!Ee()&&!ie){Ie||(Ie=c.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO);var oe=Re(),Ue=Ct(oe,Ie),at=!isNaN(Ue)&&Ue!==oe;at&&!Ee()&&(Fe()||ee||m.getReadyState()===1)&&(r.debug("UpdateCurrentTime: Seek to actual time: ".concat(Ue," from currentTime: ").concat(oe)),U(Ue,!1,!1))}}function Ct(Ie,oe){var Ue=A.getCurrentDVRInfo(oe),at=Ue?Ue.range:null;return at?Ie>at.end?Math.max(at.end-V,at.start):Ie>0&&Ie+.25<at.start&&Math.abs(Ie-at.start)<31536e4?fe?Math.max(at.end-V,at.start):at.start:Ie:NaN}function _e(){G===null&&(G=setInterval(function(){var Ie;M.trigger(i.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:H,time:new Date}),rt()&&(c.addDVRMetric(),Me()?(Ie=Date.now(),(!ge||Ie>ge+500)&&(ge=Ie,Ht())):Tt())},L.get().streaming.wallclockTimeUpdateInterval))}function le(){clearInterval(G),G=null}function Oe(Ie){var oe=T.convertRepresentationToRepresentationInfo(Ie.currentRepresentation),Ue=oe?oe.mediaInfo.streamInfo:null;Ue!==null&&N.id===Ue.id&&(N=Ue)}function pe(){M.trigger(i.Z.CAN_PLAY)}function Pe(){M.trigger(i.Z.CAN_PLAY_THROUGH)}function Ge(Ie){Ie.streamId===c.getActiveStreamInfo().id&&(ee=Ie.state===S.Z.BUFFER_EMPTY,L.get().streaming.buffer.setStallState&&m.setStallState(Ie.mediaType,Ie.state===S.Z.BUFFER_EMPTY))}function Ve(){r.info("Native video element event: play"),Tt(),_e(),M.trigger(i.Z.PLAYBACK_STARTED,{startTime:Re()})}function ct(){r.info("Native video element event: waiting"),M.trigger(i.Z.PLAYBACK_WAITING,{playingTime:Re()})}function St(){r.info("Native video element event: playing"),re=!1,M.trigger(i.Z.PLAYBACK_PLAYING,{playingTime:Re()})}function qt(){r.info("Native video element event: pause"),M.trigger(i.Z.PLAYBACK_PAUSED,{ended:Je()})}function jt(){if(!re){var Ie=Re();isNaN(x)||x===Ie||(Ie=x),x=NaN,r.info("Seeking to: "+Ie),_e(),M.trigger(i.Z.PLAYBACK_SEEKING,{seekTime:Ie,streamId:N.id})}}function kt(){r.info("Native video element event: seeked"),re=!1,M.trigger(i.Z.PLAYBACK_SEEKED)}function Ht(){N&&M.trigger(i.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:K(),time:Re(),streamId:N.id})}function Kt(){M.trigger(i.Z.PLAYBACK_PROGRESS,{streamId:N.id})}function rn(){var Ie=dt();r.info("Native video element event: ratechange: ",Ie),M.trigger(i.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ie})}function un(){r.info("Native video element event: loadedmetadata"),M.trigger(i.Z.PLAYBACK_METADATA_LOADED),_e()}function en(){r.info("Native video element event: loadeddata"),M.trigger(i.Z.PLAYBACK_LOADED_DATA)}function cn(){r.info("Native video element event: ended"),C(),le();var Ie=c?c.getActiveStreamInfo():null;Ie&&M.trigger(i.Z.PLAYBACK_ENDED,{isLast:Ie.isLast})}function an(){M.trigger(i.Z.PLAYBACK_VOLUME_CHANGED)}function fn(Ie){if(G&&Ie.isLast){r.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var oe=Ie.seekTime?Ie.seekTime:W();m.setCurrentTime(oe),C(),le()}}function gt(Ie){var oe=Ie.target||Ie.srcElement;M.trigger(i.Z.PLAYBACK_ERROR,{error:oe.error})}function Bt(Ie){if(Ie.stream===!1&&fe&&!isNaN(Ie.request.duration)){var oe=1.2*Ie.request.duration;oe>V&&(r.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",oe.toFixed(2)),V=oe,q=oe)}}function Gt(Ie){M.trigger(i.Z.PLAYBACK_STALLED,{e:Ie})}function Zt(Ie){var oe;(oe=Ie.mediaInfo)&&oe.supplementalProperties&&oe.supplementalProperties[e.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]==="true"&&(r.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),fe=!0)}function Ke(Ie){var oe=c.getActiveStreamInfo();Ie&&oe&&Ie.currentRepresentation&&Ie.streamId&&Ie.streamId===oe.id&&Ie.mediaType&&(Ie.mediaType===e.Z.VIDEO||Ie.mediaType===e.Z.AUDIO)&&(se=Ie.currentRepresentation.availabilityTimeComplete,(fe=!se)&&!p&&(p=!0))}function yt(){ie=!0}function Ye(){ie=!1}return u={initialize:function(Ie,oe){N=Ie,oe!==!0&&(m.addEventListener("canplay",pe),m.addEventListener("canplaythrough",Pe),m.addEventListener("play",Ve),m.addEventListener("waiting",ct),m.addEventListener("playing",St),m.addEventListener("pause",qt),m.addEventListener("error",gt),m.addEventListener("seeking",jt),m.addEventListener("seeked",kt),m.addEventListener("timeupdate",Ht),m.addEventListener("progress",Kt),m.addEventListener("ratechange",rn),m.addEventListener("loadedmetadata",un),m.addEventListener("loadeddata",en),m.addEventListener("stalled",Gt),m.addEventListener("ended",cn),m.addEventListener("volumechange",an),H=N.manifestInfo.isDynamic,ee=!1,re=!1,M.on(i.Z.DATA_UPDATE_COMPLETED,Oe,u),M.on(i.Z.LOADING_PROGRESS,Bt,u),M.on(i.Z.MANIFEST_UPDATED,yt,u),M.on(i.Z.STREAMS_COMPOSED,Ye,u),M.on(t.Z.PLAYBACK_ENDED,fn,u,{priority:g.Z.EVENT_PRIORITY_HIGH}),M.on(t.Z.STREAM_INITIALIZING,Zt,u),M.on(t.Z.REPRESENTATION_SWITCH,Ke,u),M.on(t.Z.BUFFER_LEVEL_STATE_CHANGED,Ge,u),Y&&(Y=!1,ue()))},setConfig:function(Ie){Ie&&(Ie.streamController&&(c=Ie.streamController),Ie.serviceDescriptionController&&(y=Ie.serviceDescriptionController),Ie.dashMetrics&&(A=Ie.dashMetrics),Ie.adapter&&(T=Ie.adapter),Ie.videoModel&&(m=Ie.videoModel),Ie.timelineConverter&&(w=Ie.timelineConverter),Ie.settings&&(L=Ie.settings))},getTimeToStreamEnd:K,getBufferLevel:function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,oe=null;return c.getActiveStreamProcessors().forEach(function(Ue){if(!Ie||Ie.length===0||Ie.indexOf(Ue.getType())===-1){var at=Ue.getBufferLevel();oe=oe===null?at:Math.min(oe,at)}}),oe},getPlaybackStalled:function(){return ee},getTime:Re,getLowLatencyModeEnabled:function(){return fe},getInitialCatchupModeActivated:function(){return p},getIsManifestUpdateInProgress:function(){return ie},getPlaybackRate:dt,getPlayedRanges:function(){return N&&m?m.getPlayedRanges():null},getEnded:Je,getIsDynamic:rt,getStreamController:function(){return c},computeAndSetLiveDelay:function(Ie,oe){var Ue,at,Rt,xt=!isNaN(Ie)&&isFinite(Ie)?Ie:NaN,nn=T.getSuggestedPresentationDelay(),In=y.getServiceDescriptionSettings();return Ue=isNaN(L.get().streaming.delay.liveDelay)?L.get().streaming.delay.liveDelayFragmentCount===null||isNaN(L.get().streaming.delay.liveDelayFragmentCount)||isNaN(xt)?In&&!isNaN(In.liveDelay)&&In.liveDelay>0?In.liveDelay:L.get().streaming.delay.useSuggestedPresentationDelay===!0&&nn!==null&&!isNaN(nn)&&nn>0?nn:isNaN(xt)?oe&&!isNaN(oe.minBufferTime)?4*oe.minBufferTime:4*N.manifestInfo.minBufferTime:4*xt:xt*L.get().streaming.delay.liveDelayFragmentCount:L.get().streaming.delay.liveDelay,(Rt=T.getAvailabilityStartTime())!==null&&(ne=Rt),at=oe&&oe.dvrWindowSize>0?Math.min(Ue,oe.dvrWindowSize):Ue,V=at,q=at,at},getLiveDelay:function(){return V},getOriginalLiveDelay:function(){return q},getCurrentLiveLatency:function(){if(!H||isNaN(ne))return NaN;var Ie=Re();if(isNaN(Ie)||Ie===0)return 0;var oe=new Date().getTime()+1e3*w.getClientTimeOffset();return Math.max(((oe-ne-1e3*Ie)/1e3).toFixed(3),0)},play:ue,isPaused:Me,isStalled:Fe,pause:C,isSeeking:Ee,getStreamEndTime:W,seek:U,seekToOriginalLive:function(){var Ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0],oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=me();if(at!==0){var Rt=at-(V=q);U(Rt,Ie,oe,Ue)}},seekToCurrentLive:function(){var Ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0],oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=me();if(at!==0){var Rt=at-V;U(Rt,Ie,oe,Ue)}},reset:R,updateCurrentTime:Tt,getAvailabilityStartTime:function(){return ne}},r=(0,_.Z)(Z).getInstance().getLogger(u),R(),u}l.__dashjs_factory_name="PlaybackController";const d=h.Z.getSingletonFactory(l);var P=D(3186),F="loading",j="executed",B="failed";function X(u){var r,c,y,A,T=(u=u||{}).eventBus,m=u.events,w=u.dashMetrics,G=u.fragmentLoader,V=u.debug,q=u.streamInfo,N=u.type;function H(p){var L;return!!p&&(L=!1,y.some(function(Z){if(M=p,R=Z,!isNaN(M.index)&&M.startTime===R.startTime&&M.adaptationIndex===R.adaptationIndex&&M.type===R.type||function(K,W){return isNaN(K.index)&&isNaN(W.index)&&K.quality===W.quality}(p,Z)||function(K,W){return K.action===P.Z.ACTION_COMPLETE&&K.action===W.action}(p,Z))return L=!0;var M,R}),L)}function Y(p){return isNaN(p.duration)?.25:Math.min(p.duration/8,.5)}function ge(p){y=y.filter(function(L){var Z=Y(L);return isNaN(L.startTime)||p!==void 0&&L.startTime>=p-Z})}function ne(p,L){L<=p+.5||(y=y.filter(function(Z){var M=Y(Z);return isNaN(Z.startTime)||Z.startTime>=L-M||isNaN(Z.duration)||Z.startTime+Z.duration<=p+M}))}function se(p,L,Z){for(var M=p.length-1;M>=0;M--){var R=p[M],K=R.startTime,W=K+R.duration;if(Z=isNaN(Z)?Y(R):Z,!isNaN(K)&&!isNaN(W)&&L+Z>=K&&L-Z<W||isNaN(K)&&isNaN(L))return R}return null}function fe(p,L){w.addSchedulingInfo(p,L),w.addRequestsQueue(p.mediaType,A,y)}function x(p){p.sender===G&&(A.splice(A.indexOf(p.request),1),p.response&&!p.error&&y.push(p.request),fe(p.request,p.error?B:j),T.trigger(m.FRAGMENT_LOADING_COMPLETED,{request:p.request,response:p.response,error:p.error,sender:this},{streamId:q.id,mediaType:N}))}function re(p){p.sender===G&&T.trigger(m.FRAGMENT_LOADING_PROGRESS,{request:p.request,response:p.response,error:p.error,sender:this},{streamId:q.id,mediaType:N})}function ee(p){p.sender===G&&T.trigger(m.FRAGMENT_LOADING_ABANDONED,{request:p.request},{streamId:q.id,mediaType:N})}function ie(){y=[],A=[]}return r={getStreamId:function(){return q.id},getType:function(){return N},getRequests:function(p){var L=p?p.state instanceof Array?p.state:[p.state]:[],Z=[];return L.forEach(function(M){var R=function(K){var W;switch(K){case F:W=A;break;case j:W=y;break;default:W=[]}return W}(M);Z=Z.concat(function(K,W){return W.hasOwnProperty("time")?[se(K,W.time,W.threshold)]:K.filter(function(ue){for(var C in W)if(C!=="state"&&W.hasOwnProperty(C)&&ue[C]!=W[C])return!1;return!0})}(R,p))}),Z},isFragmentLoaded:H,isFragmentLoadedOrPending:function(p){var L,Z=!1,M=0;if(!(Z=H(p)))for(M=0;M<A.length;M++)L=A[M],p.url===L.url&&p.startTime===L.startTime&&(Z=!0);return Z},removeExecutedRequestsBeforeTime:ge,removeExecutedRequestsAfterTime:function(p){y=y.filter(function(L){return isNaN(L.startTime)||p!==void 0&&L.startTime<p})},syncExecutedRequestsWithBufferedRange:function(p,L){if(p&&p.length!==0){for(var Z=0,M=0,R=p.length;M<R;M++)ne(Z,p.start(M)),Z=p.end(M);L>0&&ne(Z,L)}else ge()},abortRequests:function(){c.debug("abort requests"),G.abort(),A=[]},executeRequest:function(p){p.action===P.Z.ACTION_DOWNLOAD?(fe(p,F),A.push(p),function(L){T.trigger(m.FRAGMENT_LOADING_STARTED,{request:L},{streamId:q.id,mediaType:N}),G.load(L)}(p)):c.warn("Unknown request action.")},reset:function(){T.off(m.LOADING_COMPLETED,x,this),T.off(m.LOADING_DATA_PROGRESS,re,this),T.off(m.LOADING_ABANDONED,ee,this),G&&G.reset(),ie()},resetInitialSettings:ie,addExecutedRequest:function(p){y.push(p)}},c=V.getLogger(r),ie(),T.on(m.LOADING_COMPLETED,x,r),T.on(m.LOADING_DATA_PROGRESS,re,r),T.on(m.LOADING_ABANDONED,ee,r),r}X.__dashjs_factory_name="FragmentModel";var O=h.Z.getClassFactory(X);O.FRAGMENT_MODEL_LOADING=F,O.FRAGMENT_MODEL_EXECUTED=j,O.FRAGMENT_MODEL_CANCELED="canceled",O.FRAGMENT_MODEL_FAILED=B,h.Z.updateClassFactory(X.__dashjs_factory_name,O);const I=O;var k=D(5459);function $(u){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(u)}function J(u,r){return J=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},J(u,r)}function we(u,r){return!r||$(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function Be(u){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Be(u)}const te=new(function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&J(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=Be(r);if(c){var w=Be(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return we(this,T)});function A(){var T;return function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,A),(T=y.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return A}(D(2230).Z));var st=D(1264),Ae=D(7855);function ke(u){var r,c,y,A,T,m,w=this.context,G=(0,st.Z)(w).getInstance(),V=u.textController,q=u.eventBus,N=[],H=[],Y=!1,ge=u.mediaSource,ne=null;function se(R){return new Promise(function(K){M(function(){A.changeType&&A.changeType(R),K()})})}function fe(R){return A=V.getTextSourceBuffer(R),Promise.resolve()}function x(){if(typeof A.addEventListener=="function")try{A.addEventListener("updateend",L,!1),A.addEventListener("error",Z,!1),A.addEventListener("abort",Z,!1)}catch{m=setInterval(L,50)}else m=setInterval(L,50)}function re(R){return new Promise(function(K){A&&G.get().streaming.buffer.useAppendWindow?M(function(){try{if(!A)return void K();var W=ge.duration,ue=0;R&&!isNaN(R.start)&&!isNaN(R.duration)&&isFinite(R.duration)&&(W=R.start+R.duration),R&&!isNaN(R.start)&&(ue=R.start),A.appendWindowEnd===W&&A.appendWindowStart===ue||(A.appendWindowStart=0,A.appendWindowEnd=W+.01,A.appendWindowStart=Math.max(ue-.1,0),y.debug("Updated append window for ".concat(T.type,". Set start to ").concat(A.appendWindowStart," and end to ").concat(A.appendWindowEnd))),K()}catch{y.warn("Failed to set append window"),K()}}):K()})}function ee(R){return new Promise(function(K){A?M(function(){try{A.timestampOffset===R||isNaN(R)||(A.timestampOffset=R,y.debug("Set MSE timestamp offset to ".concat(R))),K()}catch{K()}}):K()})}function ie(){if(!Y&&H.length>0){Y=!0;var R=H[0];H.splice(0,1);var K=function(){Y=!1,H.length>0&&ie.call(this),R&&R.data&&R.data.segmentType&&R.data.segmentType!==Ae.w.INIT_SEGMENT_TYPE&&delete R.data.bytes,R.promise.resolve({chunk:R.data})};try{ne=R.request,R.data.bytes.byteLength===0?K.call(this):(A.appendBuffer?A.appendBuffer(R.data.bytes):A.append(R.data.bytes,R.data),M(K.bind(this)))}catch(W){y.fatal('SourceBuffer append failed "'+W+'"'),H.length>0?ie():Y=!1,delete R.data.bytes,R.promise.reject({chunk:R.data,error:new k.Z(W.code,W.message)})}}}function p(){N.length>0&&(A.updating||(N.shift()(),p()))}function L(){A.updating||p()}function Z(R){var K,W,ue=R.target||{};K=i.Z.SOURCE_BUFFER_ERROR,W={error:ue,lastRequestAppended:ne},q.trigger(K,W,{streamId:T.streamInfo.id,mediaType:c})}function M(R){N.push(R),A.updating||p()}return r={getType:function(){return c},getAllBufferRanges:function(){try{return A.buffered}catch(R){return y.error("getAllBufferRanges exception: "+R.message),null}},getBuffer:function(){return A},append:function(R){var K=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(ue,C){R?(H.push({data:R,promise:{resolve:ue,reject:C},request:W}),M(ie.bind(K))):C({chunk:R,error:new k.Z(te.APPEND_ERROR_CODE,te.APPEND_ERROR_MESSAGE)})})},remove:function(R){return new Promise(function(K,W){var ue=R.start,C=R.end;ue>=0&&C>ue?M(function(){try{A.remove(ue,C),M(function(){K({from:ue,to:C,unintended:!1}),R.resolve&&R.resolve()})}catch(U){W({from:ue,to:C,unintended:!1,error:new k.Z(te.REMOVE_ERROR_CODE,te.REMOVE_ERROR_MESSAGE)}),R.reject&&R.reject(U)}}):K()})},abort:function(){return new Promise(function(R){try{H=[],ge.readyState==="open"?M(function(){try{A&&A.abort(),R()}catch{R()}}):(A&&A.setTextTrack&&ge.readyState==="ended"&&A.abort(),R())}catch{R()}})},reset:function(){if(A){try{N=[],function(){try{typeof A.removeEventListener=="function"&&(A.removeEventListener("updateend",L,!1),A.removeEventListener("error",Z,!1),A.removeEventListener("abort",Z,!1)),clearInterval(m)}catch(R){y.error(R)}}(),Y=!1,H=[],A.getClassName&&A.getClassName()==="TextSourceBuffer"||(y.debug("Removing sourcebuffer from media source"),ge.removeSourceBuffer(A))}catch{}A=null}ne=null},updateTimestampOffset:ee,initializeForStreamSwitch:function(R,K,W){c=(T=R).type;var ue=T.codec;(function(U){A=U.getBuffer()})(W),x();var C=[];return C.push(new Promise(function(U){M(function(){var me=A.appendWindowStart,Se=A.appendWindowEnd;A&&(A.abort(),A.appendWindowStart=me,A.appendWindowEnd=Se),U()})})),C.push(re(T.streamInfo)),G.get().streaming.buffer.useChangeTypeForTrackSwitch&&C.push(se(ue)),K&&K.MSETimeOffset!==void 0&&C.push(ee(K.MSETimeOffset)),Promise.all(C)},initializeForFirstUse:function(R,K,W){c=(T=K).type;var ue=T.codec;try{if(ue.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return fe(R);A=ge.addSourceBuffer(ue),x();var C=[];return C.push(re(T.streamInfo)),W&&W.MSETimeOffset!==void 0&&C.push(ee(W.MSETimeOffset)),Promise.all(C)}catch(U){return T.type==e.Z.TEXT&&!T.isFragmented||ue.indexOf('codecs="stpp')!==-1||ue.indexOf('codecs="vtt')!==-1?fe(R):Promise.reject(U)}},updateAppendWindow:re,changeType:se},y=(0,_.Z)(w).getInstance().getLogger(r),r}ke.__dashjs_factory_name="SourceBufferSink";const ye=h.Z.getClassFactory(ke);function be(u){var r,c,y,A=this.context,T=[],m=u;function w(G,V){return T=T.filter(function(q){return!((isNaN(V)||q.start<V)&&(isNaN(G)||q.end>G))}),Promise.resolve()}return r={getAllBufferRanges:function(){for(var G=[],V=0;V<T.length;V++){var q=T[V];G.length===0||q.start>G[G.length-1].end?G.push({start:q.start,end:q.end}):G[G.length-1].end=q.end}var N={start:function(H){return G[H].start},end:function(H){return G[H].end}};return Object.defineProperty(N,"length",{get:function(){return G.length}}),N},append:function(G){return G.segmentType!=="InitializationSegment"?(T.push(G),T.sort(function(V,q){return V.start-q.start}),y=null):y=G,c.debug("PreBufferSink appended chunk s: "+G.start+"; e: "+G.end),m&&m({chunk:G}),Promise.resolve()},remove:w,abort:function(){return Promise.resolve()},discharge:function(G,V){var q=function(N,H){return T.filter(function(Y){return(isNaN(H)||Y.start<H)&&(isNaN(N)||Y.end>N)})}(G,V);return y&&(q.push(y),y=null),w(G,V),q},reset:function(){T=[],y=null,m=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(G){G()},getBuffer:function(){return this}},c=(0,_.Z)(A).getInstance().getLogger(r),r}be.__dashjs_factory_name="PreBufferSink";const He=h.Z.getClassFactory(be);function ut(){var u={};return{save:function(r){var c=r.streamId,y=r.representationId;u[c]=u[c]||{},u[c][y]=r},extract:function(r,c){return u&&u[r]&&u[r][c]?u[r][c]:null},reset:function(){u={}}}}ut.__dashjs_factory_name="InitCache";const et=h.Z.getSingletonFactory(ut);var Te=.01,We="BufferController";function lt(u){u=u||{};var r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re,ee,ie,p=this.context,L=(0,g.Z)(p).getInstance(),Z=u.errHandler,M=u.fragmentModel,R=u.representationController,K=u.adapter,W=u.textController,ue=u.abrController,C=u.playbackController,U=u.streamInfo,me=u.type,Se=u.settings;function Re(Ye){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(oe,Ue){m=Ye,V&&Ie&&typeof V.discharge=="function"?(q=V,Ee(Ie).then(function(){oe()}).catch(function(at){Ue(at)})):oe()})}function Me(Ye){return K.convertRepresentationToRepresentationInfo(R.getRepresentationForQuality(Ye))}function Ee(Ye){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(oe,Ue){x&&Ye?m?(N=!1,dt(Ye,Ie).then(function(at){oe(at)}).catch(function(at){Ue(at)})):(N=!0,Fe().then(function(at){oe(at)}).catch(function(at){Ue(at)})):oe(null)})}function Fe(){var Ye=this;return new Promise(function(Ie,oe){var Ue=ue.getQualityFor(me,U.id);V=He(p).create(_e.bind(Ye)),en(Me(Ue)).then(function(){Ie(V)}).catch(function(){oe()})})}function dt(Ye,Ie){return new Promise(function(oe,Ue){var at=ue.getQualityFor(me,U.id);V=ye(p).create({mediaSource:m,textController:W,eventBus:L}),function(Rt,xt,nn){var In=Me(nn);return xt&&xt[me]&&(me===e.Z.VIDEO||me===e.Z.AUDIO)?V.initializeForStreamSwitch(Rt,In,xt[me]):V.initializeForFirstUse(U,Rt,In)}(Ye,Ie,at).then(function(){return en(Me(at))}).then(function(){oe(V)}).catch(function(Rt){c.fatal("Caught error on create SourceBuffer: "+Rt),Z.error(new k.Z(te.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,te.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+me)),Ue(Rt)})})}function Je(Ye){Se.get().streaming.cacheInitSegments&&(c.info("Init fragment finished loading saving to",me+"'s init cache"),x.save(Ye.chunk)),c.debug("Append Init fragment",me," with representationId:",Ye.chunk.representationId," and quality:",Ye.chunk.quality,", data size:",Ye.chunk.bytes.byteLength),Tt(Ye.chunk)}function rt(Ye){Tt(Ye.chunk,Ye.request)}function Tt(Ye){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;V.append(Ye,Ie).then(function(oe){_e(oe)}).catch(function(oe){_e(oe)}),Ye.mediaInfo.type===e.Z.VIDEO&&Ke(i.Z.VIDEO_CHUNK_RECEIVED,{chunk:Ye})}function Ct(Ye){if(Ye&&Ye.length>0)for(var Ie=0,oe=Ye.length;Ie<oe;Ie++)c.debug("Buffered range: "+Ye.start(Ie)+" - "+Ye.end(Ie)+", currentTime = ",C.getTime())}function _e(Ye){if(Ye.error)return Ye.error.code===22&&function(){if(fe=!0,T=.8*Bt(),c.warn("Quota exceeded, Critical Buffer: "+T),T>0){var Ue=Math.max(.2*T,1),at=T-Ue,Rt=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQuality,.9*at),xt=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*at),nn={streaming:{buffer:{bufferToKeep:parseFloat(Ue.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Rt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(xt.toFixed(5))}}};Se.update(nn)}}(),void(Ye.error.code!==22&&Zt()||(c.warn("Clearing playback buffer to overcome quota exceed situation"),Ke(i.Z.QUOTA_EXCEEDED,{criticalBufferLevel:T,quotaExceededTime:Ye.chunk.start}),Kt(Ht())));if(V&&(ct(),fe=!1,(ge=Ye.chunk)&&ge.endFragment)){ge&&!isNaN(ge.index)&&(w=Math.max(ge.index,w),St());var Ie=V.getAllBufferRanges();ge.segmentType===Ae.w.MEDIA_SEGMENT_TYPE&&(Ct(Ie),pe(),function(){if(!isNaN(ie)&&!N)if(me===e.Z.AUDIO||me===e.Z.VIDEO){var Ue=C.getTime(),at=Ve(Ue,0),Rt=Ve(ie,0);if(at&&Rt&&at.start===Rt.start)ie=NaN;else{var xt=R.getCurrentRepresentation().segmentDuration,nn=Ve(ie,xt);nn&&(Se.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ue-ie)>xt?ie<=nn.end&&C.seek(Math.max(ie,nn.start),!1,!0):Ue<nn.start&&C.seek(nn.start,!1,!0))}}else ie=NaN}());var oe=!1;H&&(H.indexOf(ge)>0&&(oe=!0),H=null),ge&&!oe&&Ke(i.Z.BYTES_APPENDED_END_FRAGMENT,{quality:ge.quality,startTime:ge.start,index:ge.index,bufferedRanges:Ie,segmentType:ge.segmentType,mediaType:me})}}function le(){return new Promise(function(Ye,Ie){var oe=Oe();if(!oe||oe.length===0)return pe(),void Ye();Kt(oe).then(function(){Ye()}).catch(function(Ue){Ie(Ue)})})}function Oe(Ye){var Ie=[],oe=V.getAllBufferRanges();if(!oe||oe.length===0)return Ie;if(!Ye&&Ye!==0||isNaN(Ye))Ie.push({start:oe.start(0),end:oe.end(oe.length-1)+.5});else{var Ue=function(Rt,xt){var nn=Se.get().streaming.buffer.bufferToKeep,In=xt.start(0);if(Rt-In>nn){var Xn=Math.max(0,Rt-nn),Sn=M.getRequests({state:I.FRAGMENT_MODEL_EXECUTED,time:Rt,threshold:Te})[0];if(Sn&&(Xn=Math.min(Sn.startTime,Xn)),Xn>0)return{start:In,end:Xn}}return null}(Ye,oe),at=function(Rt,xt){var nn=xt.end(xt.length-1)+.5,In=Gt(Rt),Xn=U.manifestInfo.duration>=Se.get().streaming.buffer.longFormContentDurationThreshold?Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Se.get().streaming.buffer.bufferTimeAtTopQuality,Sn=isNaN(In)?Rt:Math.min(In,Rt+Xn);if(Sn>=xt.end(xt.length-1))return null;var Jn=M.getRequests({state:I.FRAGMENT_MODEL_EXECUTED,time:Rt,threshold:Te})[0];if(Jn&&(Sn=Math.max(Jn.startTime+Jn.duration,Sn)),Se.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var Yn=0;Yn<xt.length;Yn++)if(xt.start(Yn)<=Rt&&Rt<=xt.end(Yn)&&xt.start(Yn)<=Sn&&Sn<=xt.end(Yn)){var dr=Sn;Sn=Yn+1<xt.length?xt.start(Yn+1):xt.end(Yn)+1,c.debug("Buffered range ["+xt.start(Yn)+", "+xt.end(Yn)+"] overlaps with targetTime "+Rt+" and range to be pruned ["+dr+", "+nn+"], using ["+Sn+", "+nn+"] instead"+(Sn<nn?"":" (no actual pruning)"));break}}return Sn<xt.end(xt.length-1)?{start:Sn,end:nn}:null}(Ye,oe);Ue&&Ie.push(Ue),at&&Ie.push(at)}return Ie}function pe(){(!ee||me===e.Z.TEXT&&W.isTextEnabled())&&ct()}function Pe(){qt()}function Ge(){qt(),ie=NaN}function Ve(Ye,Ie){var oe,Ue,at=V.getAllBufferRanges(),Rt=0,xt=0,nn=null,In=null,Xn=0,Sn=isNaN(Ie)?.15:Ie;if(at!=null){for(Ue=0,oe=at.length;Ue<oe;Ue++)if(Rt=at.start(Ue),xt=at.end(Ue),nn===null)Xn=Math.abs(Rt-Ye),(Ye>=Rt&&Ye<xt||Xn<=Sn)&&(nn=Rt,In=xt);else{if(!((Xn=Rt-In)<=Sn))break;In=xt}if(nn!==null)return{start:nn,end:In}}return null}function ct(){if(C){var Ye=C.getTime()||0;N&&(Ye=isNaN(ie)?0:ie);var Ie=Se.get().streaming.gaps.jumpGaps&&!isNaN(Se.get().streaming.gaps.smallGapLimit)?Se.get().streaming.gaps.smallGapLimit:NaN;A=Math.max(function(oe,Ue){var at;return Se.get().streaming.gaps.jumpGaps&&(Ue=Se.get().streaming.gaps.smallGapLimit),(at=Ve(oe,Ue))===null?0:at.end-oe}(Ye,Ie),0),Ke(i.Z.BUFFER_LEVEL_UPDATED,{mediaType:me,bufferLevel:A}),qt()}}function St(){var Ye=w>=G-1,Ie=C.getTimeToStreamEnd(U)-A<1e-5;!Ye&&!Ie||y||(gt(!0),c.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(U.id," and type ").concat(me)))}function qt(){me!==e.Z.AUDIO&&me!==e.Z.VIDEO||((!C.getLowLatencyModeEnabled()&&A<Se.get().streaming.buffer.stallThreshold||A===0)&&!y?jt(S.Z.BUFFER_EMPTY):(y||A>=Se.get().streaming.buffer.stallThreshold||C.getLowLatencyModeEnabled()&&A>0)&&jt(S.Z.BUFFER_LOADED))}function jt(Ye){Y===Ye||Ye===S.Z.BUFFER_EMPTY&&C.getTime()===0||me===e.Z.TEXT&&!W.isTextEnabled()||(Y=Ye,Ke(i.Z.BUFFER_LEVEL_STATE_CHANGED,{state:Ye}),Ke(Ye===S.Z.BUFFER_LOADED?i.Z.BUFFER_LOADED:i.Z.BUFFER_EMPTY),c.debug(Ye===S.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function kt(){V&&me!==e.Z.TEXT&&(y||Kt(Ht()))}function Ht(){var Ye=[],Ie=V.getAllBufferRanges();if(!Ie||Ie.length===0)return Ye;var oe=C.getTime(),Ue=Math.max(0,oe-Se.get().streaming.buffer.bufferToKeep),at=M.getRequests({state:I.FRAGMENT_MODEL_EXECUTED,time:oe,threshold:Te})[0];if(at)Ue=Math.min(at.startTime,Ue);else if(oe===0&&C.getIsDynamic())return[];if(Ie.start(0)<=Ue){for(var Rt={start:0,end:Ue},xt=0;xt<Ie.length&&Ie.end(xt)<=Ue;xt++)Rt.end=Ie.end(xt);Rt.start<Rt.end&&Ye.push(Rt)}return Ye}function Kt(Ye){return new Promise(function(Ie,oe){if(Ye&&V&&Ye.length!==0){var Ue=[];Ye.forEach(function(at){Ue.push(function(Rt){return new Promise(function(xt,nn){Rt.resolve=xt,Rt.reject=nn,re.push(Rt)})}(at))}),se||rn(),Promise.all(Ue).then(function(){Ie()}).catch(function(at){oe(at)})}else Ie()})}function rn(){try{if(re.length===0||!V)return c.debug("Nothing to prune, halt pruning"),re=[],void(se=!1);var Ye=V.getBuffer();if(!Ye||!Ye.buffered||Ye.buffered.length===0)return c.debug("SourceBuffer is empty (or does not exist), halt pruning"),re=[],void(se=!1);var Ie=re.shift();c.debug("".concat(me,": Removing buffer from: ").concat(Ie.start," to ").concat(Ie.end)),se=!0,C.getTime()<Ie.end&&gt(!1),V.remove(Ie).then(function(oe){un(oe)}).catch(function(oe){un(oe)})}catch{se=!1}}function un(Ye){c.debug("onRemoved buffer from:",Ye.from,"to",Ye.to),Ct(V.getAllBufferRanges()),re.length===0&&(se=!1,ct()),Ye.unintended&&(c.warn("Detected unintended removal from:",Ye.from,"to",Ye.to,"setting streamprocessor time to",Ye.from),Ke(i.Z.SEEK_TARGET,{time:Ye.from})),se?rn():(ee?ee=!1:ct(),Ke(i.Z.BUFFER_CLEARED,{from:Ye.from,to:Ye.to,unintended:Ye.unintended,hasEnoughSpaceToAppend:Zt(),quotaExceeded:fe}))}function en(Ye){return new Promise(function(Ie){Ye&&Ye.MSETimeOffset!==void 0&&V&&V.updateTimestampOffset?V.updateTimestampOffset(Ye.MSETimeOffset).then(function(){Ie()}).catch(function(){Ie()}):Ie()})}function cn(){return V&&!y?V.updateAppendWindow(U):Promise.resolve()}function an(){++ne*(Se.get().streaming.wallclockTimeUpdateInterval/1e3)>=Se.get().streaming.buffer.bufferPruningInterval&&(ne=0,kt())}function fn(){qt()}function gt(Ye){(y=Ye)?Ke(i.Z.BUFFERING_COMPLETED):G=Number.POSITIVE_INFINITY}function Bt(){try{var Ye,Ie,oe=V.getAllBufferRanges(),Ue=0;if(!oe)return Ue;for(Ie=0,Ye=oe.length;Ie<Ye;Ie++)Ue+=oe.end(Ie)-oe.start(Ie);return Ue}catch{return 0}}function Gt(Ye){try{var Ie=Ye,oe=V.getAllBufferRanges();if(!oe||oe.length===0)return NaN;for(var Ue=0;Ie===Ye&&Ue<oe.length;){var at=oe.start(Ue),Rt=oe.end(Ue);Ie>=at&&Ie<=Rt&&(Ie=Rt),Ue+=1}return Ie===Ye?NaN:Ie}catch{}}function Zt(){var Ye=Bt();return isNaN(Ye)||Ye<T}function Ke(Ye,Ie){var oe=Ie||{};L.trigger(Ye,oe,{streamId:U.id,mediaType:me})}function yt(Ye,Ie){if(T=Number.POSITIVE_INFINITY,Y=void 0,G=Number.POSITIVE_INFINITY,w=0,ge=null,y=!1,se=!1,fe=!1,A=0,ne=0,re=[],ie=NaN,N=!1,V){var oe=V;V=null,Ye||Ie||oe.abort().then(function(){oe.reset(Ie),oe=null})}ee=!1}return r={initialize:function(Ye){Re(Ye),L.on(i.Z.INIT_FRAGMENT_LOADED,Je,r),L.on(i.Z.MEDIA_FRAGMENT_LOADED,rt,r),L.on(i.Z.WALLCLOCK_TIME_UPDATED,an,r),L.on(t.Z.PLAYBACK_PLAYING,Ge,r),L.on(t.Z.PLAYBACK_PROGRESS,pe,r),L.on(t.Z.PLAYBACK_TIME_UPDATED,pe,r),L.on(t.Z.PLAYBACK_RATE_CHANGED,fn,r),L.on(t.Z.PLAYBACK_STALLED,Pe,r)},getStreamId:function(){return U.id},getType:function(){return me},getBufferControllerType:function(){return We},createBufferSink:Ee,dischargePreBuffer:function(){if(V&&q&&typeof q.discharge=="function"){var Ye=q.getAllBufferRanges();if(Ye.length>0){for(var Ie="Beginning "+me+"PreBuffer discharge, adding buffer for:",oe=0;oe<Ye.length;oe++)Ie+=" start: "+Ye.start(oe)+", end: "+Ye.end(oe)+";";c.debug(Ie)}else c.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");H=[];for(var Ue=q.discharge(),at=null,Rt=0;Rt<Ue.length;Rt++){var xt=Ue[Rt];if(xt.segmentType!==Ae.w.INIT_SEGMENT_TYPE){var nn=x.extract(xt.streamId,xt.representationId);nn&&at!==nn&&(H.push(nn),V.append(nn),at=nn)}H.push(xt),V.append(xt)}q.reset(),q=null}},getBuffer:function(){return V},getBufferLevel:function(){return A},getRangeAt:Ve,hasBufferAtTime:function(Ye){try{var Ie=V.getAllBufferRanges();if(!Ie||Ie.length===0)return!1;for(var oe=0;oe<Ie.length;){var Ue=Ie.start(oe),at=Ie.end(oe);if(Ye>=Ue&&Ye<=at)return!0;oe+=1}return!1}catch(Rt){return c.error(Rt),!1}},pruneBuffer:kt,setMediaSource:Re,getMediaSource:function(){return m},appendInitSegmentFromCache:function(Ye){var Ie=x.extract(U.id,Ye);return!!Ie&&(c.info("Append Init fragment",me," with representationId:",Ie.representationId," and quality:",Ie.quality,", data size:",Ie.bytes.byteLength),Tt(Ie),!0)},getIsBufferingCompleted:function(){return y},setIsBufferingCompleted:gt,getIsPruningInProgress:function(){return se},reset:function(Ye,Ie){L.off(i.Z.INIT_FRAGMENT_LOADED,Je,this),L.off(i.Z.MEDIA_FRAGMENT_LOADED,rt,this),L.off(i.Z.WALLCLOCK_TIME_UPDATED,an,this),L.off(t.Z.PLAYBACK_PLAYING,Ge,this),L.off(t.Z.PLAYBACK_PROGRESS,pe,this),L.off(t.Z.PLAYBACK_TIME_UPDATED,pe,this),L.off(t.Z.PLAYBACK_RATE_CHANGED,fn,this),L.off(t.Z.PLAYBACK_STALLED,Pe,this),yt(Ye,Ie)},prepareForPlaybackSeek:function(){return y&&gt(!1),V.abort()},prepareForReplacementTrackSwitch:function(Ye){return new Promise(function(Ie,oe){V.abort().then(function(){return cn()}).then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?V.changeType(Ye):Promise.resolve()}).then(function(){return le()}).then(function(){gt(!1),Ie()}).catch(function(Ue){oe(Ue)})})},prepareForNonReplacementTrackSwitch:function(Ye){return new Promise(function(Ie,oe){cn().then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?V.changeType(Ye):Promise.resolve()}).then(function(){Ie()}).catch(function(Ue){oe(Ue)})})},prepareForForceReplacementQualitySwitch:function(Ye){return new Promise(function(Ie,oe){V.abort().then(function(){return cn()}).then(function(){return le()}).then(function(){return en(Ye)}).then(function(){gt(!1),Ie()}).catch(function(Ue){oe(Ue)})})},updateAppendWindow:cn,getAllRangesWithSafetyFactor:Oe,getContinuousBufferTimeForTargetTime:Gt,clearBuffers:Kt,pruneAllSafely:le,updateBufferTimestampOffset:en,setSeekTarget:function(Ye){ie=Ye},segmentRequestingCompleted:function(Ye){isNaN(Ye)||(G=Ye,St())}},c=(0,_.Z)(p).getInstance().getLogger(r),x=et(p).getInstance(),yt(),r}lt.__dashjs_factory_name=We;const xe=h.Z.getClassFactory(lt);var Qe="NotFragmentedTextBufferController";function ce(u){u=u||{};var r,c,y,A,T,m,w=this.context,G=(0,g.Z)(w).getInstance(),V=u.textController,q=u.errHandler,N=u.streamInfo,H=u.type;function Y(se){A=se}function ge(se){var fe,x;c!==se&&(c=se)&&(fe=i.Z.BUFFERING_COMPLETED,x={},G.trigger(fe,x,{streamId:N.id,mediaType:H}))}function ne(se){se.chunk.bytes&&!c&&(m.save(se.chunk),T.append(se.chunk),ge(!0))}return r={initialize:function(se){Y(se)},getStreamId:function(){return N.id},getType:function(){return H},getBufferControllerType:function(){return Qe},createBufferSink:function(se){return new Promise(function(fe,x){try{(T=ye(w).create({mediaSource:A,textController:V,eventBus:G})).initializeForFirstUse(N,se),y||(T.getBuffer()&&typeof T.getBuffer().initialize=="function"&&T.getBuffer().initialize(),y=!0),fe(T)}catch(re){q.error(new k.Z(te.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,te.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+H)),x(re)}})},dischargePreBuffer:function(){},getBuffer:function(){return T},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:Y,getMediaSource:function(){return A},appendInitSegmentFromCache:function(se){return m.extract(N.id,se)!==null},getIsBufferingCompleted:function(){return c},setIsBufferingCompleted:ge,getIsPruningInProgress:function(){return!1},reset:function(se){G.off(i.Z.INIT_FRAGMENT_LOADED,ne,r),!se&&T&&(T.abort(),T.reset(),T=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return c=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},y=!1,A=null,c=!1,m=et(w).getInstance(),G.on(i.Z.INIT_FRAGMENT_LOADED,ne,r),r}ce.__dashjs_factory_name=Qe;const de=h.Z.getClassFactory(ce);function je(u){u=u||{};var r,c,y,A,T,m,w,G,V,q,N,H,Y=this.context,ge=(0,g.Z)(Y).getInstance(),ne=u.dashMetrics,se=u.mediaPlayerModel,fe=u.fragmentModel,x=u.abrController,re=u.playbackController,ee=u.textController,ie=u.type,p=u.bufferController,L=u.representationController,Z=u.settings;function M(Me){if(!p.getIsBufferingCompleted()){R();var Ee=isNaN(Me)?0:Me;T=setTimeout(K,Ee)}}function R(){T&&(clearTimeout(T),T=null)}function K(){try{if(function(){try{return ie===e.Z.TEXT&&!ee.isTextEnabled()||re.isPaused()&&(!re.getStreamController().getInitialPlayback()||!re.getStreamController().getAutoPlay())&&!Z.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void R();if(function(){try{return L.getCurrentRepresentationInfo()&&(isNaN(V)||q||(Fe=c.id,dt=x.getMaxAllowedIndexFor(ie,Fe),!(!isNaN(G)&&G==dt||(y.info("Top quality "+ie+" index has changed from "+G+" to "+dt),G=dt,0)))||function(){var Je=L.getCurrentRepresentationInfo();return!ie||!Je||ne.getCurrentBufferLevel(ie)<W()}())}catch{return!1}var Fe,dt}()){var Me=!1;H&&(Me=x.checkPlaybackQuality(ie,c.id)),Me||(Ee=L.getCurrentRepresentationInfo(),N||Ee.quality!==V||q?(q?(y.debug("Switch track for "+ie+", representation id = "+Ee.id),q=!1):y.debug("Quality has changed, get init request for representationid = "+Ee.id),ge.trigger(i.Z.INIT_FRAGMENT_NEEDED,{representationId:Ee.id,sender:r},{streamId:c.id,mediaType:ie}),H=!1,N=!1):(y.debug("Media segment needed for ".concat(ie," and stream id ").concat(c.id)),ge.trigger(i.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:c.id,mediaType:ie}),H=!0))}else M(re.getLowLatencyModeEnabled()?Z.get().streaming.scheduling.lowLatencyTimeout:Z.get().streaming.scheduling.defaultTimeout)}catch{M(re.getLowLatencyModeEnabled()?Z.get().streaming.scheduling.lowLatencyTimeout:Z.get().streaming.scheduling.defaultTimeout)}var Ee}function W(){var Me=NaN,Ee=L.getCurrentRepresentationInfo();return ie&&Ee&&(Me=ie===e.Z.TEXT?function(){try{if(ee.isTextEnabled()){var Fe=L.getCurrentRepresentationInfo();if(isNaN(Fe.fragmentDuration)){var dt=ne.getCurrentSchedulingInfo(S.Z.SCHEDULING_INFO);return dt?dt.duration:0}return Fe.fragmentDuration}return 0}catch{return 0}}():ie===e.Z.AUDIO&&m?function(){try{var Fe=ne.getCurrentBufferLevel(e.Z.VIDEO),dt=L.getCurrentRepresentationInfo();return isNaN(dt.fragmentDuration)?Fe+1:Math.max(Fe+1,dt.fragmentDuration)}catch{return 0}}():function(){try{var Fe=L.getCurrentRepresentationInfo().mediaInfo.streamInfo;return x.isPlayingAtTopQuality(Fe)?Fe.manifestInfo.duration>=Z.get().streaming.buffer.longFormContentDurationThreshold?Z.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Z.get().streaming.buffer.bufferTimeAtTopQuality:se.getStableBufferTime()}catch{return se.getStableBufferTime()}}()),Me}function ue(){C(!0)}function C(Me){if(re&&fe){var Ee=fe.getRequests({state:I.FRAGMENT_MODEL_EXECUTED,time:re.getTime(),threshold:0})[0];Ee&&re.getTime()>=Ee.startTime&&((!w.mediaInfo||Ee.mediaInfo.type===w.mediaInfo.type&&Ee.mediaInfo.id!==w.mediaInfo.id)&&Me&&ge.trigger(i.Z.TRACK_CHANGE_RENDERED,{mediaType:ie,oldMediaInfo:w.mediaInfo,newMediaInfo:Ee.mediaInfo,streamId:c.id}),Ee.quality===w.quality&&Ee.adaptationIndex===w.adaptationIndex||!Me||(y.debug("Quality change rendered for streamId ".concat(c.id," and type ").concat(ie)),ge.trigger(i.Z.QUALITY_CHANGE_RENDERED,{mediaType:ie,oldQuality:w.quality,newQuality:Ee.quality,streamId:c.id})),w={mediaInfo:Ee.mediaInfo,quality:Ee.quality,adaptationIndex:Ee.adaptationIndex})}}function U(){fe.abortRequests(),R()}function me(){Z.get().streaming.scheduling.scheduleWhilePaused||M()}function Se(Me){ne.updatePlayListTraceMetrics({playbackspeed:Me.playbackRate.toString()})}function Re(){H=!0,A=0,V=NaN,w={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},G=NaN,q=!1,N=!1}return r={initialize:function(Me){m=Me,ge.on(i.Z.URL_RESOLUTION_FAILED,U,r),ge.on(t.Z.PLAYBACK_STARTED,me,r),ge.on(t.Z.PLAYBACK_RATE_CHANGED,Se,r),ge.on(t.Z.PLAYBACK_TIME_UPDATED,ue,r)},getType:function(){return ie},getStreamId:function(){return c.id},setTimeToLoadDelay:function(Me){A=Me},getTimeToLoadDelay:function(){return A},setSwitchTrack:function(Me){q=Me},getSwitchTrack:function(){return q},startScheduleTimer:M,clearScheduleTimer:R,reset:function(){ge.off(i.Z.URL_RESOLUTION_FAILED,U,r),ge.off(t.Z.PLAYBACK_STARTED,me,r),ge.off(t.Z.PLAYBACK_RATE_CHANGED,Se,r),ge.off(t.Z.PLAYBACK_TIME_UPDATED,ue,r),R(),C(!1),Re(),c=null},getBufferTarget:W,getPlaybackController:function(){return re},setCheckPlaybackQuality:function(Me){H=Me},setInitSegmentRequired:function(Me){N=Me},setLastInitializedQuality:function(Me){V=Me}},y=(0,_.Z)(Y).getInstance().getLogger(r),Re(),c=u.streamInfo,r}je.__dashjs_factory_name="ScheduleController";const f=h.Z.getClassFactory(je);var o=D(7387);function v(u){var r,c,y,A,T,m,w=(u=u||{}).eventBus,G=u.events,V=u.abrController,q=u.dashMetrics,N=u.playbackController,H=u.timelineConverter,Y=u.type,ge=u.streamInfo,ne=u.dashConstants,se=u.segmentsController,fe=u.isDynamic,x=u.adapter;function re(){return Y}function ee(){if(!(V&&q&&N&&H))throw new Error(e.Z.MISSING_CONFIG_ERROR)}function ie(){return y}function p(){return m}function L(){c=null,y=!0,A=[],T=null}function Z(C){return new Promise(function(U,me){var Se=C.hasInitialization(),Re=C.hasSegments(),Me=[];Me.push(se.updateInitData(C,Se)),Me.push(se.updateSegmentData(C,Re)),Promise.all(Me).then(function(Ee){var Fe;Ee[0]&&!Ee[0].error&&(C=function(dt,Je){return Je&&!Je.error&&Je.representation?Je.representation:dt}(C,Ee[0])),Ee[1]&&!Ee[1].error&&(C=function(dt,Je){if(Je&&!Je.error){var rt,Tt,Ct,_e,le=Je.segments,Oe=[],pe=0;for(rt=0,Tt=le?le.length:0;rt<Tt;rt++)Ct=le[rt],(_e=(0,o.TJ)(H,fe,dt,Ct.startTime,Ct.duration,Ct.timescale,Ct.media,Ct.mediaRange,pe))&&(Oe.push(_e),_e=null,pe++);return Oe.length>0&&(dt.segments=Oe),dt}}(C,Ee[1])),(Fe=C).mediaFinishedInformation=se.getMediaFinishedInformation(Fe),function(dt){if(ie()){var Je,rt,Tt=q.getCurrentManifestUpdate(),Ct=!1;if(Tt){for(var _e=0;_e<Tt.representationInfo.length;_e++)if((Je=Tt.representationInfo[_e]).index===dt.index&&Je.mediaType===re()){Ct=!0;break}Ct||q.addManifestUpdateRepresentationInfo(dt,re())}if(function(){for(var Oe=0,pe=A.length;Oe<pe;Oe++){var Pe=A[Oe].segmentInfoType;if(!A[Oe].hasInitialization()||(Pe===ne.SEGMENT_BASE||Pe===ne.BASE_URL)&&!A[Oe].segments)return!1}return!0}()){V.setPlaybackQuality(Y,ge,(rt=m,A.indexOf(rt)));var le=q.getCurrentDVRInfo(Y);le&&q.updateManifestUpdateInfo({latency:le.range.end-N.getTime()}),q.getCurrentRepresentationSwitch(p().adaptation.type)||M(),K()}}}(C),U()}).catch(function(Ee){me(Ee)})})}function M(){ee();var C=new Date,U=p(),me=1e3*N.getTime();U&&q.addRepresentationSwitch(U.adaptation.type,C,me,U.id),w.trigger(t.Z.REPRESENTATION_SWITCH,{mediaType:Y,streamId:ge.id,currentRepresentation:U,numberOfRepresentations:A.length},{streamId:ge.id,mediaType:Y})}function R(C){return C==null||C>=A.length?null:A[C]}function K(C){y=!1,w.trigger(G.DATA_UPDATE_COMPLETED,{data:c,currentRepresentation:m,error:C},{streamId:ge.id,mediaType:Y})}function W(C){m=C,T=x.convertRepresentationToRepresentationInfo(m)}function ue(C){if(C.newDuration){var U=p();U&&U.adaptation.period&&(U.adaptation.period.duration=C.newDuration)}}return r={getStreamId:function(){return ge.id},getType:re,getData:function(){return c},isUpdating:ie,updateData:function(C,U,me,Se,Re){if(ee(),y=!0,A=U,W(R(Re)),c=C,me!==e.Z.VIDEO&&me!==e.Z.AUDIO&&(me!==e.Z.TEXT||!Se))return K(),Promise.resolve();for(var Me=[],Ee=0,Fe=A.length;Ee<Fe;Ee++){var dt=A[Ee];Me.push(Z(dt))}return Promise.all(Me)},getCurrentRepresentation:p,getCurrentRepresentationInfo:function(){return T},getRepresentationForQuality:R,prepareQualityChange:function(C){W(R(C)),M()},reset:function(){w.off(t.Z.MANIFEST_VALIDITY_CHANGED,ue,r),L()}},L(),w.on(t.Z.MANIFEST_VALIDITY_CHANGED,ue,r),r}v.__dashjs_factory_name="RepresentationController";const E=h.Z.getClassFactory(v);var Q=D(3106),z=D(9326),he=D(7473),Ne=D(2594);function Ce(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var ve=function u(){Ce(this,u),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};ve.INITIAL_PLAYOUT_START_REASON="initial_playout",ve.SEEK_START_REASON="seek",ve.RESUME_FROM_PAUSE_START_REASON="resume",ve.METRICS_COLLECTION_START_REASON="metrics_collection_start";var Le=function u(){Ce(this,u),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};Le.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Le.REBUFFERING_REASON="rebuffering",Le.USER_REQUEST_STOP_REASON="user_request",Le.END_OF_PERIOD_STOP_REASON="end_of_period",Le.END_OF_CONTENT_STOP_REASON="end_of_content",Le.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Le.FAILURE_STOP_REASON="failure";var Ze=D(7802);function $e(){return{ntpToUTC:function(u){var r=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(r.getTime()+u).getTime()}}}$e.__dashjs_factory_name="TimeUtils";const pt=h.Z.getSingletonFactory($e);function it(u){u=u||{};var r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne=this.context,se=(0,g.Z)(ne).getInstance(),fe=u.streamInfo,x=u.type,re=u.errHandler,ee=u.mimeType,ie=u.timelineConverter,p=u.adapter,L=u.manifestModel,Z=u.mediaPlayerModel,M=u.fragmentModel,R=u.abrController,K=u.playbackController,W=u.mediaController,ue=u.textController,C=u.dashMetrics,U=u.settings,me=u.boxParser,Se=u.segmentBlacklistController;function Re(){return fe.id}function Me(){return x}function Ee(){return p.getIsTextTrack(G.getData())}function Fe(){T=[],A=null,Y=0,V=!1,q=!1,ge=null}function dt(Ke){return!isNaN(Ke)&&!isNaN(fe.duration)&&isFinite(fe.duration)&&Ke>=fe.start+fe.duration}function Je(Ke){var yt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(Ke.sender){if(K.getIsManifestUpdateInProgress())le();else if((!Ee()||ue.isTextEnabled())&&m&&Ke.representationId&&!m.appendInitSegmentFromCache(Ke.representationId)){var Ye=G.getCurrentRepresentation();if(Ye.range===0)return void rt();var Ie=N?N.getInitRequest(A,Ye):null;Ie?M.executeRequest(Ie):yt&&(w.setInitSegmentRequired(!0),le())}}}function rt(Ke){var yt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(K.getIsManifestUpdateInProgress()||m.getIsPruningInProgress())le();else{var Ye=_e();Ye?(V=!1,Tt(Ye)):Ct(yt)}}function Tt(Ke){isNaN(Ke.startTime+Ke.duration)||(Y=Ke.startTime+Ke.duration),Ke.delayLoadingTime=new Date().getTime()+w.getTimeToLoadDelay(),w.setTimeToLoadDelay(0),function(yt){var Ye=yt.url;return yt.range&&(Ye=Ye.concat("_",yt.range)),Se.contains(Ye)}(Ke)?(c.warn("Fragment request url ".concat(Ke.url," for stream id ").concat(fe.id," and media type ").concat(x," is on the ignore list and will be skipped")),le()):(c.debug("Next fragment request url for stream id ".concat(fe.id," and media type ").concat(x," is ").concat(Ke.url)),M.executeRequest(Ke))}function Ct(Ke){var yt,Ye=G.getCurrentRepresentation();if(!U.get().streaming.gaps.enableSeekFix||!V&&K.getTime()!==0||(y?y&&Ye.segmentInfoType===n.Z.SEGMENT_TIMELINE&&(yt=N.getValidTimeAheadOfTargetTime(Y,A,Ye,U.get().streaming.gaps.threshold)):yt=N.getValidTimeAheadOfTargetTime(Y,A,Ye,U.get().streaming.gaps.threshold),isNaN(yt)||yt===Y)){if(N.isLastSegmentRequested(Ye,Y)){var Ie=N.getCurrentIndex();return c.debug("Segment requesting for stream ".concat(fe.id," has finished")),se.trigger(i.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ie},{streamId:fe.id,mediaType:x}),m.segmentRequestingCompleted(Ie),void w.clearScheduleTimer()}Ke&&le()}else K.isSeeking()||K.getTime()===0?(c.warn("Adjusting playback time ".concat(yt," because of gap in the manifest. Seeking by ").concat(yt-Y)),K.seek(yt,!1,!1)):(c.warn("Adjusting buffering time ".concat(yt," because of gap in the manifest. Adjusting time by ").concat(yt-Y)),Zt(yt),Ke&&le())}function _e(){var Ke,yt=en();if(isNaN(Y)||Me()===e.Z.TEXT&&!ue.isTextEnabled())return null;if(N){var Ye=G&&yt?G.getRepresentationForQuality(yt.quality):null;Ke=V?N.getSegmentRequestForTime(A,Ye,Y):N.getNextSegmentRequest(A,Ye)}return Ke}function le(){w.startScheduleTimer(K.getLowLatencyModeEnabled()?U.get().streaming.scheduling.lowLatencyTimeout:U.get().streaming.scheduling.defaultTimeout)}function Oe(Ke){Ke.error||m.getIsBufferingCompleted()||m.updateBufferTimestampOffset(Ke.currentRepresentation)}function pe(Ke){C.addBufferState(x,Ke.state,w.getBufferTarget()),Ke.state!==S.Z.BUFFER_EMPTY||K.isSeeking()||(c.info("Buffer is empty! Stalling!"),C.pushPlayListTraceMetrics(new Date,Le.REBUFFERING_REASON))}function Pe(Ke){M.syncExecutedRequestsWithBufferedRange(m.getBuffer().getAllBufferRanges(),fe.duration),Ke.quotaExceeded&&Ke.from>K.getTime()&&Zt(Ke.from),Ke.hasEnoughSpaceToAppend&&Ke.quotaExceeded&&w.startScheduleTimer()}function Ge(Ke){if(Ke&&Ke.lastRequestAppended&&Ke.lastRequestAppended.url){var yt=Ke.lastRequestAppended.url;Ke.lastRequestAppended.range&&(yt=yt.concat("_",Ke.lastRequestAppended.range)),c.warn("Blacklisting segment with url ".concat(yt)),Se.add(yt)}}function Ve(Ke){if(c.debug("Appended bytes for ".concat(Ke.mediaType," and stream id ").concat(Ke.streamId)),Ke.segmentType===Ae.w.INIT_SEGMENT_TYPE){var yt=Ke.quality;w.setLastInitializedQuality(yt),c.info("["+x+"] lastInitializedRepresentationInfo changed to "+Ke.quality)}ge?ct(ge):w.startScheduleTimer(0)}function ct(Ke){var yt=M.getRequests({state:I.FRAGMENT_MODEL_LOADING});if(yt&&yt.length>0)return c.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(ge=Ke);m.updateBufferTimestampOffset(Ke).then(function(){A.segmentAlignment||A.subSegmentAlignment?w.startScheduleTimer():Bt(),ge=null,q=!1}).catch(function(){ge=null,q=!1})}function St(Ke){c.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has been aborted"),K.isSeeking()||w.getSwitchTrack()||q||(c.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ke.request&&Ke.request.isInitializationRequest()?w.setInitSegmentRequired(!0):Zt(Ke.request.startTime+Ke.request.duration/2),w.startScheduleTimer(0))}function qt(Ke){c.info("OnFragmentLoadingCompleted for stream id "+fe.id+" and media type "+x+" - Url:",Ke.request?Ke.request.url:"undefined",Ke.request.range?", Range:"+Ke.request.range:""),Ee()&&w.startScheduleTimer(0),Ke.error&&Ke.request.serviceLocation&&function(yt){c.info("Fragment loading completed with an error"),yt&&yt.request&&yt.request.type&&(yt.request.type===Ae.w.INIT_SEGMENT_TYPE?Je({representationId:yt.request.representationId,sender:{}},!1):yt.request.type===Ae.w.MEDIA_SEGMENT_TYPE&&(Zt(yt.request.startTime+yt.request.duration/2),rt({},!1)))}(Ke)}function jt(){Zt(K.getTime()),un().startScheduleTimer()}function kt(Ke){var yt=Ke.currentTrackInfo;if(yt){var Ye=T.find(function(Ie){return Ie.index===yt.index&&Ie.lang===yt.lang});Ye&&rn(Ye).then(function(){m.setIsBufferingCompleted(!1),Zt(K.getTime()),w.setInitSegmentRequired(!0),w.startScheduleTimer()})}}function Ht(Ke){Zt(Ke.quotaExceededTime),w.clearScheduleTimer()}function Kt(){return m?m.getBuffer():null}function rn(Ke){Ke===A||Ke&&A&&Ke.type!==A.type||(A=Ke);var yt=p.getRealAdaptation(fe,A),Ye=p.getVoRepresentations(A);if(G){var Ie,oe=G.getData(),Ue=R.getMaxAllowedIndexFor(x,fe.id),at=R.getMinAllowedIndexFor(x,fe.id),Rt=null;return oe!==null&&oe.id===yt.id||x===e.Z.TEXT?Ie=R.getQualityFor(x,fe.id):(Rt=R.getThroughputHistory().getAverageThroughput(x,y)||R.getInitialBitrateFor(x,fe.id),Ie=R.getQualityForBitrate(A,Rt,fe.id)),at!==void 0&&Ie<at&&(Ie=at),Ie>Ue&&(Ie=Ue),G.updateData(yt,Ye,x,A.isFragmented,Ie)}return Promise.resolve()}function un(){return w}function en(Ke){var yt;return Ke!==void 0?((0,Q.SE)(Ke),yt=G?G.getRepresentationForQuality(Ke):null):yt=G?G.getCurrentRepresentation():null,p.convertRepresentationToRepresentationInfo(yt)}function cn(){return!!m&&m.getIsBufferingCompleted()}function an(Ke){if(U.get().streaming.enableManifestTimescaleMismatchFix){var yt=Ke.chunk,Ye=yt.bytes,Ie=en(yt.quality),oe=G&&Ie?G.getRepresentationForQuality(Ie.quality):null;Ie&&oe&&(oe.timescale=me.getMediaTimescaleFromMoov(Ye))}}function fn(Ke){var yt=Ke.chunk,Ye=yt.bytes,Ie=yt.quality,oe=en(Ie),Ue=G&&oe?G.getRepresentationForQuality(oe.quality):null;if(oe&&Ue){var at;if(U.get().streaming.parseInbandPrft&&Ke.request.type===Ae.w.MEDIA_SEGMENT_TYPE){var Rt=function(Sn,Jn){var Yn=Sn.getBoxes("prft"),dr=[];return Yn.forEach(function(wr){dr.push(function(sr,gr){var nr="unknown";switch(sr.flags){case 0:nr=n.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:nr=n.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:nr=n.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var hr=1e3*sr.ntp_timestamp_sec+sr.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:nr,ntpTimestamp:hr=pt(ne).getInstance().ntpToUTC(hr),mediaTime:sr.media_time/gr}}(wr,Jn))}),dr}(at=at||me.parse(Ye),Ue.timescale);Rt&&Rt.length&&se.trigger(t.Z.INBAND_PRFT,{data:Rt},{streamId:fe.id,mediaType:x})}var xt=p.getEventsFor(oe.mediaInfo,null,fe),nn=p.getEventsFor(oe,Ue,fe);if(xt&&xt.length>0||nn&&nn.length>0){var In=M.getRequests({state:I.FRAGMENT_MODEL_EXECUTED,quality:Ie,index:yt.index})[0],Xn=function(Sn,Jn,Yn,dr){try{for(var wr={},sr=[],gr=Yn.concat(dr),nr=0,hr=gr.length;nr<hr;nr++)wr[gr[nr].schemeIdUri+"/"+gr[nr].value]=gr[nr];var Tr=Sn.getBoxes("emsg");if(!Tr||Tr.length===0)return sr;for(var Sr=Sn.getBox("sidx"),br=!Sr||isNaN(Sr.earliest_presentation_time)||isNaN(Sr.timescale)?Jn&&!isNaN(Jn.mediaStartTime)?Jn.mediaStartTime:0:Sr.earliest_presentation_time/Sr.timescale,Wr=Math.max(br,0),Si=G.getCurrentRepresentation(),Lr=0,xr=Tr.length;Lr<xr;Lr++){var Xr=p.getEvent(Tr[Lr],wr,Wr,Si);Xr&&sr.push(Xr)}return sr}catch{return[]}}(at=at||me.parse(Ye),In,xt,nn);se.trigger(i.Z.INBAND_EVENTS,{events:Xn},{streamId:fe.id})}}}function gt(){var Ke=K.getTime();U.get().streaming.buffer.flushBufferAtTrackSwitch&&K.seek(Ke+.001,!1,!0),Zt(Ke),m.setSeekTarget(Ke),w.startScheduleTimer()}function Bt(){var Ke=K.getTime(),yt=m.getContinuousBufferTimeForTargetTime(Ke);Zt(isNaN(yt)?Ke:yt),w.startScheduleTimer()}function Gt(Ke){Ke&&!isNaN(Ke.time)&&(Zt(Ke.time),m.setSeekTarget(Ke.time))}function Zt(Ke){Y=Ke,V=!0}return r={initialize:function(Ke,yt,Ye){H=(0,Ze.Z)(ne).create({events:i.Z,eventBus:se,streamInfo:fe,timelineConverter:ie,dashConstants:n.Z,segmentBaseController:u.segmentBaseController,type:x}),N=(0,z.Z)(ne).create({streamInfo:fe,type:x,timelineConverter:ie,dashMetrics:C,mediaPlayerModel:Z,baseURLController:u.baseURLController,errHandler:re,segmentsController:H,settings:U,boxParser:me,events:i.Z,eventBus:se,errors:te,debug:(0,_.Z)(ne).getInstance(),requestModifier:(0,he.Z)(ne).getInstance(),dashConstants:n.Z,constants:e.Z,urlUtils:(0,Ne.Z)(ne).getInstance()}),y=fe.manifestInfo.isDynamic,N.initialize(y),R.registerStreamType(x,r),G=E(ne).create({streamInfo:fe,type:x,abrController:R,dashMetrics:C,playbackController:K,timelineConverter:ie,dashConstants:n.Z,events:i.Z,eventBus:se,errors:te,isDynamic:y,adapter:p,segmentsController:H}),m=function(Ie,oe){return Ie?Ie!==e.Z.TEXT||oe?xe(ne).create({streamInfo:fe,type:Ie,mediaPlayerModel:Z,manifestModel:L,fragmentModel:M,errHandler:re,mediaController:W,representationController:G,adapter:p,textController:ue,abrController:R,playbackController:K,settings:U}):de(ne).create({streamInfo:fe,type:Ie,mimeType:ee,fragmentModel:M,textController:ue,errHandler:re,settings:U}):(re.error(new k.Z(te.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,te.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(x,Ye),m&&m.initialize(Ke),(w=f(ne).create({streamInfo:fe,type:x,mimeType:ee,adapter:p,dashMetrics:C,mediaPlayerModel:Z,fragmentModel:M,abrController:R,playbackController:K,textController:ue,mediaController:W,bufferController:m,representationController:G,settings:U})).initialize(yt),Y=0,V=!1},getStreamId:Re,getType:Me,isUpdating:function(){return!!G&&G.isUpdating()},getBufferController:function(){return m},dischargePreBuffer:function(){m.dischargePreBuffer()},getFragmentModel:function(){return M},getScheduleController:un,getRepresentationController:function(){return G},getRepresentationInfo:en,getBufferLevel:function(){return m?m.getBufferLevel():0},isBufferingCompleted:cn,createBufferSinks:function(Ke){var yt=Kt();return yt?Promise.resolve(yt):m?m.createBufferSink(A,Ke):Promise.resolve(null)},updateStreamInfo:function(Ke){return fe=Ke,cn()?Promise.resolve():m.updateAppendWindow()},getStreamInfo:function(){return fe},selectMediaInfo:rn,clearMediaInfoArray:function(){T=[]},addMediaInfo:function(Ke){T.indexOf(Ke)===-1&&T.push(Ke)},prepareTrackSwitch:function(){return new Promise(function(Ke){c.debug("Preparing track switch for type ".concat(x));var yt=x===e.Z.TEXT||U.get().streaming.trackSwitchMode[x]===e.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&K.getTimeToStreamEnd(fe)>U.get().streaming.buffer.stallThreshold;if(m.getIsBufferingCompleted()&&!yt)return m.prepareForNonReplacementTrackSwitch(A.codec).then(function(){se.trigger(i.Z.BUFFERING_COMPLETED,{},{streamId:fe.id,mediaType:x})}).catch(function(){se.trigger(i.Z.BUFFERING_COMPLETED,{},{streamId:fe.id,mediaType:x})}),void Ke();w.clearScheduleTimer(),w.setSwitchTrack(!0),yt?(se.trigger(i.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:x,streamId:fe.id},{mediaType:x,streamId:fe.id}),M.abortRequests(),m.prepareForReplacementTrackSwitch(A.codec).then(function(){var Ye=en();return m.updateBufferTimestampOffset(Ye)}).then(function(){gt(),Ke()}).catch(function(){gt(),Ke()})):m.prepareForNonReplacementTrackSwitch(A.codec).then(function(){Bt(),Ke()}).catch(function(){Bt(),Ke()})})},prepareQualityChange:function(Ke){ge&&c.warning("Canceling queued representation switch to ".concat(ge.quality," for ").concat(x)),c.debug("Preparing quality switch for type ".concat(x));var yt=Ke.newQuality;q=!0,w.clearScheduleTimer(),G.prepareQualityChange(yt);var Ye=en(yt);Ke.reason&&Ke.reason.forceReplace?function(Ie){M.abortRequests(),se.trigger(i.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:x,streamId:fe.id},{mediaType:x,streamId:fe.id}),m.prepareForForceReplacementQualitySwitch(Ie).then(function(){gt(),q=!1}).catch(function(){gt(),q=!1})}(Ye):U.get().streaming.buffer.fastSwitchEnabled?function(Ie){var oe=K.getTime(),Ue=1.5*(isNaN(Ie.fragmentDuration)?1:Ie.fragmentDuration),at=M.getRequests({state:I.FRAGMENT_MODEL_EXECUTED,time:oe+Ue,threshold:0})[0];if(at&&!Ee()){var Rt=m.getBufferLevel(),xt=R.getAbandonmentStateFor(fe.id,x);at.quality<Ie.quality&&Rt>=Ue&&xt!==S.Z.ABANDON_LOAD?m.updateBufferTimestampOffset(Ie).then(function(){M.abortRequests(),Zt(oe+Ue),w.setCheckPlaybackQuality(!1),w.startScheduleTimer(),q=!1}).catch(function(){q=!1}):ct(Ie)}else w.startScheduleTimer(),q=!1}(Ye):ct(Ye),C.pushPlayListTraceMetrics(new Date,Le.REPRESENTATION_SWITCH_STOP_REASON),C.createPlaylistTraceMetrics(Ye.id,1e3*K.getTime(),K.getPlaybackRate())},getMediaInfo:function(){return A},getMediaSource:function(){return m.getMediaSource()},setMediaSource:function(Ke){return m.setMediaSource(Ke,A)},getBuffer:Kt,setExplicitBufferingTime:Zt,finalisePlayList:function(Ke,yt){C.pushPlayListTraceMetrics(Ke,yt)},probeNextRequest:function(){var Ke=en(),yt=G&&Ke?G.getRepresentationForQuality(Ke.quality):null;return N.getNextSegmentRequestIdempotent(A,yt)},prepareInnerPeriodPlaybackSeeking:function(Ke){return new Promise(function(yt){if(m.hasBufferAtTime(Ke.seekTime))return m.pruneBuffer(),dt(m.getContinuousBufferTimeForTargetTime(Ke.seekTime))&&m.setIsBufferingCompleted(!0),void yt();w.clearScheduleTimer(),M.abortRequests(),m.prepareForPlaybackSeek().then(function(){var Ye=m.getAllRangesWithSafetyFactor(Ke.seekTime);return m.clearBuffers(Ye)}).then(function(){var Ye=m.getContinuousBufferTimeForTargetTime(Ke.seekTime);if(dt(Ye))m.setIsBufferingCompleted(!0),yt();else{var Ie=isNaN(Ye)?Ke.seekTime:Ye;Zt(Ie),m.setSeekTarget(Ie);var oe=[];oe.push(m.updateAppendWindow());var Ue=en();oe.push(m.updateBufferTimestampOffset(Ue)),Promise.all(oe).then(function(){w.setInitSegmentRequired(!0),w.setCheckPlaybackQuality(!1),w.startScheduleTimer(),yt()})}}).catch(function(Ye){c.error(Ye)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(Ke,yt){try{w.clearScheduleTimer(),M.abortRequests(),m.prepareForPlaybackSeek().then(function(){return m.pruneAllSafely()}).then(function(){Ke()})}catch(Ye){yt(Ye)}})},reset:function(Ke,yt){N&&N.reset(),m&&(m.reset(Ke,yt),m=null),w&&(w.reset(),w=null),G&&(G.reset(),G=null),H&&(H=null),R&&R.unRegisterStreamType(Re(),x),se.off(i.Z.DATA_UPDATE_COMPLETED,Oe,r),se.off(i.Z.INIT_FRAGMENT_NEEDED,Je,r),se.off(i.Z.MEDIA_FRAGMENT_NEEDED,rt,r),se.off(i.Z.INIT_FRAGMENT_LOADED,an,r),se.off(i.Z.MEDIA_FRAGMENT_LOADED,fn,r),se.off(i.Z.BUFFER_LEVEL_STATE_CHANGED,pe,r),se.off(i.Z.BUFFER_CLEARED,Pe,r),se.off(i.Z.SEEK_TARGET,Gt,r),se.off(i.Z.FRAGMENT_LOADING_ABANDONED,St,r),se.off(i.Z.FRAGMENT_LOADING_COMPLETED,qt,r),se.off(i.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,jt,r),se.off(i.Z.SET_NON_FRAGMENTED_TEXT,kt,r),se.off(i.Z.QUOTA_EXCEEDED,Ht,r),se.off(i.Z.SOURCE_BUFFER_ERROR,Ge,r),se.off(i.Z.BYTES_APPENDED_END_FRAGMENT,Ve,r),Fe(),x=null,fe=null}},c=(0,_.Z)(ne).getInstance().getLogger(r),Fe(),se.on(i.Z.DATA_UPDATE_COMPLETED,Oe,r,{priority:g.Z.EVENT_PRIORITY_HIGH}),se.on(i.Z.INIT_FRAGMENT_NEEDED,Je,r),se.on(i.Z.MEDIA_FRAGMENT_NEEDED,rt,r),se.on(i.Z.INIT_FRAGMENT_LOADED,an,r),se.on(i.Z.MEDIA_FRAGMENT_LOADED,fn,r),se.on(i.Z.BUFFER_LEVEL_STATE_CHANGED,pe,r),se.on(i.Z.BUFFER_CLEARED,Pe,r),se.on(i.Z.SEEK_TARGET,Gt,r),se.on(i.Z.FRAGMENT_LOADING_ABANDONED,St,r),se.on(i.Z.FRAGMENT_LOADING_COMPLETED,qt,r),se.on(i.Z.QUOTA_EXCEEDED,Ht,r),se.on(i.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,jt,r),se.on(i.Z.SET_NON_FRAGMENTED_TEXT,kt,r),se.on(i.Z.SOURCE_BUFFER_ERROR,Ge,r),se.on(i.Z.BYTES_APPENDED_END_FRAGMENT,Ve,r),r}it.__dashjs_factory_name="StreamProcessor";const wt=h.Z.getClassFactory(it),Mt=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var Pt=D(9032);function ln(u,r){if(u){if(typeof u=="string")return mn(u,r);var c=Object.prototype.toString.call(u).slice(8,-1);return c==="Object"&&u.constructor&&(c=u.constructor.name),c==="Map"||c==="Set"?Array.from(u):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?mn(u,r):void 0}}function mn(u,r){(r==null||r>u.length)&&(r=u.length);for(var c=0,y=new Array(r);c<r;c++)y[c]=u[c];return y}function vn(u){u=u||{};var r,c,y=this.context,A=u.requestModifier,T=u.lowLatencyThroughputModel,m=u.boxParser,w=(0,st.Z)(y).getInstance();function G(N){var H,Y=new Date,ge=N.request,ne=new Headers;if(ge.range&&ne.append("Range","bytes="+ge.range),N.headers)for(var se in N.headers){var fe=N.headers[se];fe&&ne.append(se,fe)}ge.requestStartDate||(ge.requestStartDate=Y),A&&A.modifyRequestHeader&&A.modifyRequestHeader({setRequestHeader:function(p,L){ne.append(p,L)}},{url:N.url}),typeof window.AbortController=="function"&&(H=new AbortController,N.abortController=H,H.signal.onabort=N.onabort);var x={method:N.method,headers:ne,credentials:N.withCredentials?"include":void 0,signal:H?H.signal:void 0},re=w.get().streaming.abr.fetchThroughputCalculationMode,ee=Date.now(),ie=0;new Promise(function(p){if(re===e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&T&&(ie=T.getThroughputCapacityDelayMS(ge,1e3*c.getCurrentBufferLevel(ge.mediaType))))return setTimeout(p,ie);p()}).then(function(){var p=Date.now();fetch(N.url,x).then(function(L){N.response||(N.response={}),N.response.status=L.status,N.response.statusText=L.statusText,N.response.responseURL=L.url,L.ok||N.onerror();var Z,M="",R=function(pe,Pe){var Ge;if(typeof Symbol>"u"||pe[Symbol.iterator]==null){if(Array.isArray(pe)||(Ge=ln(pe))){Ge&&(pe=Ge);var Ve=0,ct=function(){};return{s:ct,n:function(){return Ve>=pe.length?{done:!0}:{done:!1,value:pe[Ve++]}},e:function(kt){throw kt},f:ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var St,qt=!0,jt=!1;return{s:function(){Ge=pe[Symbol.iterator]()},n:function(){var kt=Ge.next();return qt=kt.done,kt},e:function(kt){jt=!0,St=kt},f:function(){try{qt||Ge.return==null||Ge.return()}finally{if(jt)throw St}}}}(L.headers.keys());try{for(R.s();!(Z=R.n()).done;){var K=Z.value;M+=K+": "+L.headers.get(K)+`\r
`}}catch(pe){R.e(pe)}finally{R.f()}if(N.response.responseHeaders=M,!L.body)return L.arrayBuffer().then(function(pe){N.response.response=pe;var Pe={loaded:pe.byteLength,total:pe.byteLength,stream:!1};N.progress(Pe),N.onload(),N.onend()});var W,ue,C,U,me=parseInt(L.headers.get("Content-Length"),10),Se=0,Re=!1,Me=new Uint8Array,Ee=0;if(re===e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&T){var Fe=p,dt=0,Je=(C=L.body.tee(),U=2,function(pe){if(Array.isArray(pe))return pe}(C)||function(pe,Pe){if(typeof Symbol<"u"&&Symbol.iterator in Object(pe)){var Ge=[],Ve=!0,ct=!1,St=void 0;try{for(var qt,jt=pe[Symbol.iterator]();!(Ve=(qt=jt.next()).done)&&(Ge.push(qt.value),!Pe||Ge.length!==Pe);Ve=!0);}catch(kt){ct=!0,St=kt}finally{try{Ve||jt.return==null||jt.return()}finally{if(ct)throw St}}return Ge}}(C,U)||ln(C,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),rt=Je[0],Tt=Je[1];W=rt.getReader(),ue=[],W.read().then(function pe(Pe){var Ge=Pe.value,Ve=Pe.done;if(dt=Date.now(),Ge&&Ge.length){var ct=dt-Fe,St=Ge.length;ue.push({chunkDownloadTimeRelativeMS:dt-p,chunkDownloadDurationMS:ct,chunkBytes:St,kbps:Math.round(8*St/(ct/1e3)),bufferLevel:c.getCurrentBufferLevel(ge.mediaType)})}if(Ve){var qt=dt-p,jt=ue.reduce(function(kt,Ht){return kt+Ht.chunkBytes},0);return T.addMeasurement(ge,qt,ue,ee,ie,M),void N.progress({loaded:jt,total:jt,lengthComputable:!0,time:T.getEstimatedDownloadDurationMS(ge),stream:!0})}return Fe=Date.now(),W.read().then(pe)}),N.reader=Tt.getReader()}else N.reader=L.body.getReader();var Ct=[],_e=[],le=[],Oe=!0;V(N,function pe(Pe){var Ge=Pe.value;if(Pe.done){if(Me){if(re!==e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ve=null,ct=null;re===e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ve=function(kt,Ht){try{var Kt,rn;Kt=kt.filter(function(Bt,Gt){return Gt<kt.length-1}),rn=Ht.filter(function(Bt,Gt){return Gt<Ht.length-1});var un=[];if(Kt.length>1){for(var en=0,cn=0,an=0;an<Kt.length;an++)if(Kt[an]&&rn[an]){var fn=rn[an].ts-Kt[an].ts;if(fn>1)un.push(8*rn[an].bytes/fn),cn=0;else{cn===0&&(cn=Kt[an].ts,en=0);var gt=rn[an].ts-cn;gt>1?(en+=rn[an].bytes,un.push(8*en/gt),cn=0):en+=rn[an].bytes}}if(un.length>0)return un.reduce(function(Bt,Gt){return Bt+Gt},0)/un.length}return null}catch{return null}}(_e,le),Ve&&(ct=8*Se/Ve)):re===e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(ct=q(Ct,Se)),N.progress({loaded:Se,total:isNaN(me)?Se:me,lengthComputable:!0,time:ct,stream:!0})}N.response.response=Me.buffer}return N.onload(),void N.onend()}if(Ge&&Ge.length>0){Me=function(kt,Ht){if(kt.length===0)return Ht;var Kt=new Uint8Array(kt.length+Ht.length);return Kt.set(kt),Kt.set(Ht,kt.length),Kt}(Me,Ge),Se+=Ge.length,Ct.push({ts:Date.now(),bytes:Ge.length}),re===e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Oe&&m.findLastTopIsoBoxCompleted(["moof"],Me,Ee).found&&(Oe=!1,_e.push({ts:performance.now(),bytes:Ge.length}));var St=m.findLastTopIsoBoxCompleted(["moov","mdat"],Me,Ee);if(St.found){var qt,jt=St.lastCompletedOffset+St.size;re!==e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Oe||(Oe=!0,le.push({ts:performance.now(),bytes:Me.length})),jt===Me.length?(qt=Me,Me=new Uint8Array):(qt=new Uint8Array(Me.subarray(0,jt)),Me=Me.subarray(jt)),N.progress({data:qt.buffer,lengthComputable:!1,noTrace:!0}),Ee=0}else Ee=St.lastCompletedOffset,Re||(N.progress({lengthComputable:!1,noTrace:!0}),Re=!0)}V(N,pe)})}).catch(function(L){N.onerror&&N.onerror(L)})})}function V(N,H){N.reader.read().then(H).catch(function(Y){N.onerror&&N.response.status===200&&N.onerror(Y)})}function q(N,H){try{if((N=N.filter(function(ne){return ne.bytes>H/4/N.length})).length>1){var Y=0,ge=(N[N.length-1].ts-N[0].ts)/N.length;return N.forEach(function(ne,se){var fe=N[se+1];if(fe){var x=fe.ts-ne.ts;Y+=x<ge?x:0}}),Y}return null}catch{return null}}return r={load:function(N){A&&A.modifyRequest?(0,he.k)(N,A).then(function(){return G(N)}):G(N)},abort:function(N){if(N.abortController)N.abortController.abort();else if(N.reader)try{N.reader.cancel(),N.onabort()}catch{}},calculateDownloadedTime:q,setup:function(N){c=N.dashMetrics}},r}vn.__dashjs_factory_name="FetchLoader";const Ln=h.Z.getClassFactory(vn);var yn=D(1180);function Rn(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const Gn=function(){function u(){(function(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var r,c;return r=u,(c=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==n.Z.BASE_URL&&this.segmentInfoType!==n.Z.SEGMENT_BASE&&!this.indexRange}}])&&Rn(r.prototype,c),u}(),_n=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.period=null,this.index=-1,this.type=null};var jn=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};jn.DEFAULT_ID="defaultId";const Zn=jn,Hn=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var $n=D(2610);const Vn=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var ir=function u(r,c,y,A){(function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=r||"",this.serviceLocation=c||r||"",this.dvb_priority=y||1,this.dvb_weight=A||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};ir.DEFAULT_DVB_PRIORITY=1,ir.DEFAULT_DVB_WEIGHT=1;const er=ir,Ar=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},vt=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},ht=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function mt(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const qe=function(){function u(){(function(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),this.schemeIdUri=null,this.value=null,this.id=null}var r,c;return r=u,(c=[{key:"init",value:function(y){return y&&(this.schemeIdUri=y.schemeIdUri?y.schemeIdUri:null,this.value=y.value?y.value:null,this.id=y.id?y.id:null),this}}])&&mt(r.prototype,c),u}();var ot=D(3101),ze=D.n(ot);function nt(){return{areEqual:function(u,r){return ze()(u,r)}}}nt.__dashjs_factory_name="ObjectUtils";const It=h.Z.getSingletonFactory(nt);var Nt=D(7803);const Ut=function u(r,c){(function(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=r||"",this.serviceLocation=c||null,this.queryParams={}},Yt=function u(r,c,y){(function(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=r||"",this.serviceLocation=c||null,this.ttl=y||NaN,this.queryParams={}};function Ot(u,r){var c;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(c=ft(u))||r&&u&&typeof u.length=="number"){c&&(u=c);var y=0,A=function(){};return{s:A,n:function(){return y>=u.length?{done:!0}:{done:!1,value:u[y++]}},e:function(G){throw G},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,m=!0,w=!1;return{s:function(){c=u[Symbol.iterator]()},n:function(){var G=c.next();return m=G.done,G},e:function(G){w=!0,T=G},f:function(){try{m||c.return==null||c.return()}finally{if(w)throw T}}}}function ft(u,r){if(u){if(typeof u=="string")return Ft(u,r);var c=Object.prototype.toString.call(u).slice(8,-1);return c==="Object"&&u.constructor&&(c=u.constructor.name),c==="Map"||c==="Set"?Array.from(u):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Ft(u,r):void 0}}function Ft(u,r){(r==null||r>u.length)&&(r=u.length);for(var c=0,y=new Array(r);c<r;c++)y[c]=u[c];return y}function Lt(){var u,r,c,y,A=this.context,T=(0,Ne.Z)(A).getInstance(),m=Number.isInteger||function(p){return typeof p=="number"&&isFinite(p)&&Math.floor(p)===p};function w(p,L){if(!p)throw new Error("adaptation is not defined");if(!L)throw new Error("type is not defined");if(p.Representation_asArray&&p.Representation_asArray.length){var Z=se(p.Representation_asArray[0]);if(Z&&Z.length>0&&Nt.Y.indexOf(Z[0].schemeIdUri)>=0)return L===e.Z.IMAGE}if(p.ContentComponent_asArray&&p.ContentComponent_asArray.length>0){if(p.ContentComponent_asArray.length>1)return L===e.Z.MUXED;if(p.ContentComponent_asArray[0].contentType===L)return!0}var M=L===e.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(L);if(p.Representation_asArray&&p.Representation_asArray.length){var R=p.Representation_asArray[0].codecs;if(M.test(R))return!0}if(p.hasOwnProperty(n.Z.MIME_TYPE))return M.test(p.mimeType);if(p.Representation_asArray){for(var K,W=0;W<p.Representation_asArray.length;W++)if((K=p.Representation_asArray[W]).hasOwnProperty(n.Z.MIME_TYPE))return M.test(K.mimeType)}return!1}function G(p){if(!p)throw new Error("adaptation is not defined");if(p.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)||p.hasOwnProperty(n.Z.SEGMENT_TIMELINE)||p.hasOwnProperty(n.Z.SEGMENT_LIST)||p.hasOwnProperty(n.Z.SEGMENT_BASE))return!0;if(p.Representation_asArray&&p.Representation_asArray.length>0){var L=p.Representation_asArray[0];if(L.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)||L.hasOwnProperty(n.Z.SEGMENT_TIMELINE)||L.hasOwnProperty(n.Z.SEGMENT_LIST)||L.hasOwnProperty(n.Z.SEGMENT_BASE))return!0}return!1}function V(p){return w(p,e.Z.VIDEO)}function q(p){return w(p,e.Z.TEXT)}function N(p){return w(p,e.Z.IMAGE)}function H(p){return p&&Array.isArray(p.Representation_asArray)&&p.Representation_asArray.sort(function(L,Z){return L.bandwidth-Z.bandwidth}),p}function Y(p,L){return p&&p.Period_asArray&&m(L)&&p.Period_asArray[L]?p.Period_asArray[L].AdaptationSet_asArray:[]}function ge(p){return p&&p.Period_asArray?p.Period_asArray:[]}function ne(p){var L=!1;return p&&p.hasOwnProperty("type")&&(L=p.type===n.Z.DYNAMIC),L}function se(p){return p&&p.EssentialProperty_asArray&&p.EssentialProperty_asArray.length?p.EssentialProperty_asArray.map(function(L){return{schemeIdUri:L.schemeIdUri,value:L.value}}):null}function fe(p){if(!p||!p.S_asArray)return NaN;var L=p.S_asArray[0],Z=p.S_asArray[1];return L.hasOwnProperty("d")?L.d:Z.t-L.t}function x(p,L){if(!p)throw new Error("Period cannot be null or undefined");var Z=Zn.DEFAULT_ID+"_"+L;return p.hasOwnProperty(n.Z.ID)&&p.id.length>0&&p.id!=="__proto__"&&(Z=p.id),Z}function re(p,L,Z){var M,R=[];if(!p)return R;for(M=0;M<p.length;M++){var K=new Ar;if(K.timescale=1,K.representation=L,!p[M].hasOwnProperty(e.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");K.schemeIdUri=p[M].schemeIdUri,p[M].hasOwnProperty(n.Z.TIMESCALE)&&(K.timescale=p[M].timescale),p[M].hasOwnProperty(n.Z.VALUE)&&(K.value=p[M].value),R.push(K),K.period=Z}return R}function ee(p){var L=[],Z=p.BaseURL_asArray||[p.baseUri],M=!1;return Z.some(function(R){if(R){var K=new er,W=R.__text||R;return T.isRelative(W)&&(M=!0,p.baseUri&&(W=T.resolve(W,p.baseUri))),K.url=W,R.hasOwnProperty(n.Z.SERVICE_LOCATION)&&R.serviceLocation.length?K.serviceLocation=R.serviceLocation:K.serviceLocation=W,R.hasOwnProperty(n.Z.DVB_PRIORITY)&&(K.dvb_priority=R[n.Z.DVB_PRIORITY]),R.hasOwnProperty(n.Z.DVB_WEIGHT)&&(K.dvb_weight=R[n.Z.DVB_WEIGHT]),R.hasOwnProperty(n.Z.AVAILABILITY_TIME_OFFSET)&&(K.availabilityTimeOffset=R[n.Z.AVAILABILITY_TIME_OFFSET]),R.hasOwnProperty(n.Z.AVAILABILITY_TIME_COMPLETE)&&(K.availabilityTimeComplete=R[n.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),L.push(K),M}}),L}function ie(p){var L=new ht;return L.serverUrl=p.__text,p.hasOwnProperty(n.Z.DEFAULT_SERVICE_LOCATION)&&(L.defaultServiceLocation=p[n.Z.DEFAULT_SERVICE_LOCATION],L.defaultServiceLocationArray=L.defaultServiceLocation.split(" ")),p.hasOwnProperty(n.Z.QUERY_BEFORE_START)&&(L.queryBeforeStart=p[n.Z.QUERY_BEFORE_START].toLowerCase()==="true"),p.hasOwnProperty(n.Z.CLIENT_REQUIREMENT)&&(L.clientRequirement=p[n.Z.CLIENT_REQUIREMENT].toLowerCase()!=="false"),L}return u={getIsTypeOf:w,getIsText:q,getIsFragmented:G,getProducerReferenceTimesForAdaptation:function(p){var L=p&&p.hasOwnProperty(n.Z.PRODUCERREFERENCETIME_ASARRAY)?p[n.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(p&&p.hasOwnProperty(n.Z.REPRESENTATION_ASARRAY)?p[n.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(M){var R;M.hasOwnProperty(n.Z.PRODUCERREFERENCETIME_ASARRAY)&&L.push.apply(L,function(K){if(Array.isArray(K))return Ft(K)}(R=M[n.Z.PRODUCERREFERENCETIME_ASARRAY])||function(K){if(typeof Symbol<"u"&&Symbol.iterator in Object(K))return Array.from(K)}(R)||ft(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var Z=[];return L.forEach(function(M){var R=new vt;M.hasOwnProperty(n.Z.ID)&&(R[n.Z.ID]=M[n.Z.ID],M.hasOwnProperty(n.Z.WALL_CLOCK_TIME)&&(R[n.Z.WALL_CLOCK_TIME]=M[n.Z.WALL_CLOCK_TIME],M.hasOwnProperty(n.Z.PRESENTATION_TIME)&&(R[n.Z.PRESENTATION_TIME]=M[n.Z.PRESENTATION_TIME],M.hasOwnProperty(n.Z.INBAND)&&(R[n.Z.INBAND]=M[n.Z.INBAND]!=="false"),M.hasOwnProperty(n.Z.TYPE)&&(R[n.Z.TYPE]=M[n.Z.TYPE]),Z.push(R))))}),Z},getLanguageForAdaptation:function(p){var L="";return p&&p.hasOwnProperty(n.Z.LANG)&&(L=p.lang),L},getViewpointForAdaptation:function(p){return p&&p.hasOwnProperty(n.Z.VIEWPOINT_ASARRAY)&&p[n.Z.VIEWPOINT_ASARRAY].length?p[n.Z.VIEWPOINT_ASARRAY].map(function(L){return new qe().init(L)}):[]},getRolesForAdaptation:function(p){return p&&p.hasOwnProperty(n.Z.ROLE_ASARRAY)&&p[n.Z.ROLE_ASARRAY].length?p[n.Z.ROLE_ASARRAY].map(function(L){return new qe().init(L)}):[]},getAccessibilityForAdaptation:function(p){return p&&p.hasOwnProperty(n.Z.ACCESSIBILITY_ASARRAY)&&p[n.Z.ACCESSIBILITY_ASARRAY].length?p[n.Z.ACCESSIBILITY_ASARRAY].map(function(L){return new qe().init(L)}):[]},getAudioChannelConfigurationForAdaptation:function(p){return p&&p.hasOwnProperty(n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&p[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?p[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(L){return new qe().init(L)}):[]},getAudioChannelConfigurationForRepresentation:function(p){return p&&p.hasOwnProperty(n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&p[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?p[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(L){return new qe().init(L)}):[]},getAdaptationForIndex:function(p,L,Z){var M=Y(L,Z);return M.length>0&&m(p)?M[p]:null},getIndexForAdaptation:function(p,L,Z){if(!p)return-1;for(var M=Y(L,Z),R=0;R<M.length;R++)if(It(A).getInstance().areEqual(M[R],p))return R;return-1},getAdaptationForId:function(p,L,Z){var M,R,K=Y(L,Z);for(M=0,R=K.length;M<R;M++)if(K[M].hasOwnProperty(n.Z.ID)&&K[M].id===p)return K[M];return null},getAdaptationsForType:function(p,L,Z){var M,R,K=Y(p,L),W=[];for(M=0,R=K.length;M<R;M++)w(K[M],Z)&&W.push(H(K[M]));return W},getRealPeriods:ge,getRealPeriodForIndex:function(p,L){var Z=ge(L);return Z.length>0&&m(p)?Z[p]:null},getCodec:function(p,L,Z){var M=null;if(p&&p.Representation_asArray&&p.Representation_asArray.length>0){var R=m(L)&&L>=0&&L<p.Representation_asArray.length?p.Representation_asArray[L]:p.Representation_asArray[0];R&&(M=R.mimeType+';codecs="'+R.codecs+'"',Z&&R.width!==void 0&&(M+=';width="'+R.width+'";height="'+R.height+'"'))}return M&&(M=M.replace(/\sprofiles=[^;]*/g,"")),M},getSelectionPriority:function(p){try{var L=p&&p.selectionPriority!==void 0?parseInt(p.selectionPriority):1;return isNaN(L)?1:L}catch{return 1}},getMimeType:function(p){return p&&p.Representation_asArray&&p.Representation_asArray.length>0?p.Representation_asArray[0].mimeType:null},getKID:function(p){return p&&p.hasOwnProperty(n.Z.CENC_DEFAULT_KID)?p[n.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(p){if(!p||!Array.isArray(p.Label_asArray))return[];for(var L=[],Z=0;Z<p.Label_asArray.length;Z++)L.push({lang:p.Label_asArray[Z].lang,text:p.Label_asArray[Z].__text||p.Label_asArray[Z]});return L},getContentProtectionData:function(p){return p&&p.hasOwnProperty(n.Z.CONTENTPROTECTION_ASARRAY)&&p.ContentProtection_asArray.length!==0?p.ContentProtection_asArray:null},getIsDynamic:ne,getId:function(p){return p&&p[n.Z.ID]||null},hasProfile:function(p,L){var Z=!1;return p&&p.profiles&&p.profiles.length>0&&(Z=p.profiles.indexOf(L)!==-1),Z},getDuration:function(p){return p&&p.hasOwnProperty(n.Z.MEDIA_PRESENTATION_DURATION)?p.mediaPresentationDuration:p&&p.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(p){return p&&p.bandwidth?p.bandwidth:NaN},getManifestUpdatePeriod:function(p){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=NaN;return p&&p.hasOwnProperty(n.Z.MINIMUM_UPDATE_PERIOD)&&(Z=p.minimumUpdatePeriod),isNaN(Z)?Z:Math.max(Z-L,1)},getPublishTime:function(p){return p&&p.hasOwnProperty(n.Z.PUBLISH_TIME)?new Date(p[n.Z.PUBLISH_TIME]):null},getRepresentationCount:function(p){return p&&Array.isArray(p.Representation_asArray)?p.Representation_asArray.length:0},getBitrateListForAdaptation:function(p){var L=H(p);return(L&&Array.isArray(L.Representation_asArray)?L.Representation_asArray:[]).map(function(Z){return{bandwidth:Z.bandwidth,width:Z.width||0,height:Z.height||0,scanType:Z.scanType||null,id:Z.id||null}})},getRepresentationFor:function(p,L){return L&&L.Representation_asArray&&L.Representation_asArray.length>0&&m(p)?L.Representation_asArray[p]:null},getRepresentationsForAdaptation:function(p){var L,Z,M,R,K=[],W=function(Me){if(Me&&Me.period&&m(Me.period.index)){var Ee=Me.period.mpd.manifest.Period_asArray[Me.period.index];if(Ee&&Ee.AdaptationSet_asArray&&m(Me.index))return H(Ee.AdaptationSet_asArray[Me.index])}}(p);if(W&&W.Representation_asArray){if(p&&p.period&&m(p.period.index)){var ue=ee(p.period.mpd.manifest);ue&&(Z=ue[0])}for(var C=0,U=W.Representation_asArray.length;C<U;++C){var me=W.Representation_asArray[C],Se=new Gn;if(Se.index=C,Se.adaptation=p,me.hasOwnProperty(n.Z.ID)&&(Se.id=me.id),me.hasOwnProperty(n.Z.CODECS)&&(Se.codecs=me.codecs),me.hasOwnProperty(n.Z.MIME_TYPE)&&(Se.mimeType=me[n.Z.MIME_TYPE]),me.hasOwnProperty(n.Z.CODEC_PRIVATE_DATA)&&(Se.codecPrivateData=me.codecPrivateData),me.hasOwnProperty(n.Z.BANDWITH)&&(Se.bandwidth=me.bandwidth),me.hasOwnProperty(n.Z.WIDTH)&&(Se.width=me.width),me.hasOwnProperty(n.Z.HEIGHT)&&(Se.height=me.height),me.hasOwnProperty(n.Z.SCAN_TYPE)&&(Se.scanType=me.scanType),me.hasOwnProperty(n.Z.MAX_PLAYOUT_RATE)&&(Se.maxPlayoutRate=me.maxPlayoutRate),me.hasOwnProperty(n.Z.SEGMENT_BASE)?(L=me.SegmentBase,Se.segmentInfoType=n.Z.SEGMENT_BASE):me.hasOwnProperty(n.Z.SEGMENT_LIST)?(L=me.SegmentList).hasOwnProperty(n.Z.SEGMENT_TIMELINE)?Se.segmentInfoType=n.Z.SEGMENT_TIMELINE:Se.segmentInfoType=n.Z.SEGMENT_LIST:me.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)?((L=me.SegmentTemplate).hasOwnProperty(n.Z.SEGMENT_TIMELINE)?Se.segmentInfoType=n.Z.SEGMENT_TIMELINE:Se.segmentInfoType=n.Z.SEGMENT_TEMPLATE,L.hasOwnProperty(n.Z.INITIALIZATION_MINUS)&&(Se.initialization=L.initialization.split("$Bandwidth$").join(me.bandwidth).split("$RepresentationID$").join(me.id))):Se.segmentInfoType=n.Z.BASE_URL,Se.essentialProperties=se(me),L){if(L.hasOwnProperty(n.Z.INITIALIZATION)){var Re=L.Initialization;Re.hasOwnProperty(n.Z.SOURCE_URL)&&(Se.initialization=Re.sourceURL),Re.hasOwnProperty(n.Z.RANGE)&&(Se.range=Re.range)}else q(W)&&G(W)&&W.mimeType&&W.mimeType.indexOf("application/mp4")===-1&&(Se.range=0);L.hasOwnProperty(n.Z.TIMESCALE)&&(Se.timescale=L.timescale),L.hasOwnProperty(n.Z.DURATION)?Se.segmentDuration=L.duration/Se.timescale:me.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)&&(L=me.SegmentTemplate).hasOwnProperty(n.Z.SEGMENT_TIMELINE)&&(Se.segmentDuration=fe(L.SegmentTimeline)/Se.timescale),L.hasOwnProperty(n.Z.MEDIA)&&(Se.media=L.media),L.hasOwnProperty(n.Z.START_NUMBER)&&(Se.startNumber=L.startNumber),L.hasOwnProperty(n.Z.INDEX_RANGE)&&(Se.indexRange=L.indexRange),L.hasOwnProperty(n.Z.PRESENTATION_TIME_OFFSET)&&(Se.presentationTimeOffset=L.presentationTimeOffset/Se.timescale),L.hasOwnProperty(n.Z.AVAILABILITY_TIME_OFFSET)?Se.availabilityTimeOffset=L.availabilityTimeOffset:Z&&Z.availabilityTimeOffset!==void 0&&(Se.availabilityTimeOffset=Z.availabilityTimeOffset),L.hasOwnProperty(n.Z.AVAILABILITY_TIME_COMPLETE)?Se.availabilityTimeComplete=L.availabilityTimeComplete!=="false":Z&&Z.availabilityTimeComplete!==void 0&&(Se.availabilityTimeComplete=Z.availabilityTimeComplete)}Se.MSETimeOffset=(R=(M=Se).presentationTimeOffset,M.adaptation.period.start-R),Se.path=[p.period.index,p.index,C],K.push(Se)}}return K},getAdaptationsForPeriod:function(p){var L,Z,M,R=p&&m(p.index)?p.mpd.manifest.Period_asArray[p.index]:null,K=[];if(R&&R.AdaptationSet_asArray)for(M=0;M<R.AdaptationSet_asArray.length;M++)Z=R.AdaptationSet_asArray[M],L=new _n,Z.hasOwnProperty(n.Z.ID)&&(L.id=Z.id),L.index=M,L.period=p,w(Z,e.Z.MUXED)?L.type=e.Z.MUXED:w(Z,e.Z.AUDIO)?L.type=e.Z.AUDIO:V(Z)?L.type=e.Z.VIDEO:q(Z)?L.type=e.Z.TEXT:N(Z)?L.type=e.Z.IMAGE:r.warn("Unknown Adaptation stream type"),K.push(L);return K},getRegularPeriods:function(p){var L,Z,M=!!p&&ne(p.manifest),R=[],K=null,W=null,ue=null,C=null;for(Z=0,L=p&&p.manifest&&p.manifest.Period_asArray?p.manifest.Period_asArray.length:0;Z<L;Z++)(W=p.manifest.Period_asArray[Z]).hasOwnProperty(n.Z.START)?(C=new Zn).start=W.start:K!==null&&K.hasOwnProperty(n.Z.DURATION)&&ue!==null?(C=new Zn).start=parseFloat((ue.start+ue.duration).toFixed(5)):Z!==0||M||((C=new Zn).start=0),ue!==null&&isNaN(ue.duration)&&(C!==null?ue.duration=parseFloat((C.start-ue.start).toFixed(5)):r.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),C!==null&&(C.id=x(W,Z),C.index=Z,C.mpd=p,W.hasOwnProperty(n.Z.DURATION)&&(C.duration=W.duration),ue&&(ue.nextPeriodId=C.id),R.push(C),K=W,ue=C),W=null,C=null;return R.length===0||ue!==null&&isNaN(ue.duration)&&(ue.duration=parseFloat((function(U){(function(){if(!c||!c.hasOwnProperty("error"))throw new Error(e.Z.MISSING_CONFIG_ERROR)})();var me,Se=ne(U.mpd.manifest);return U.mpd.manifest.mediaPresentationDuration?me=U.mpd.manifest.mediaPresentationDuration:U.duration?me=U.duration:Se?me=Number.POSITIVE_INFINITY:c.error(new k.Z(te.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",U)),me}(ue)-ue.start).toFixed(5))),R},getMpd:function(p){var L=new Hn;return p&&(L.manifest=p,p.hasOwnProperty(n.Z.AVAILABILITY_START_TIME)?L.availabilityStartTime=new Date(p.availabilityStartTime.getTime()):p.loadedTime&&(L.availabilityStartTime=new Date(p.loadedTime.getTime())),p.hasOwnProperty(n.Z.AVAILABILITY_END_TIME)&&(L.availabilityEndTime=new Date(p.availabilityEndTime.getTime())),p.hasOwnProperty(n.Z.MINIMUM_UPDATE_PERIOD)&&(L.minimumUpdatePeriod=p.minimumUpdatePeriod),p.hasOwnProperty(n.Z.MEDIA_PRESENTATION_DURATION)&&(L.mediaPresentationDuration=p.mediaPresentationDuration),p.hasOwnProperty(n.Z.SUGGESTED_PRESENTATION_DELAY)&&(L.suggestedPresentationDelay=p.suggestedPresentationDelay),p.hasOwnProperty(n.Z.TIMESHIFT_BUFFER_DEPTH)&&(L.timeShiftBufferDepth=p.timeShiftBufferDepth),p.hasOwnProperty(n.Z.MAX_SEGMENT_DURATION)&&(L.maxSegmentDuration=p.maxSegmentDuration),p.hasOwnProperty(n.Z.PUBLISH_TIME)&&(L.publishTime=new Date(p.publishTime))),L},getEventsForPeriod:function(p){var L,Z,M=p&&p.mpd&&p.mpd.manifest?p.mpd.manifest:null,R=M?M.Period_asArray:null,K=R&&p&&m(p.index)?R[p.index].EventStream_asArray:null,W=[];if(K)for(L=0;L<K.length;L++){var ue=new Ar;if(ue.period=p,ue.timescale=1,!K[L].hasOwnProperty(e.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(ue.schemeIdUri=K[L][e.Z.SCHEME_ID_URI],K[L].hasOwnProperty(n.Z.TIMESCALE)&&(ue.timescale=K[L][n.Z.TIMESCALE]),K[L].hasOwnProperty(n.Z.VALUE)&&(ue.value=K[L][n.Z.VALUE]),K[L].hasOwnProperty(n.Z.PRESENTATION_TIME_OFFSET)&&(ue.presentationTimeOffset=K[L][n.Z.PRESENTATION_TIME_OFFSET]),Z=0;K[L].Event_asArray&&Z<K[L].Event_asArray.length;Z++){var C=K[L].Event_asArray[Z],U=new Vn;U.presentationTime=0,U.eventStream=ue,C.hasOwnProperty(n.Z.PRESENTATION_TIME)&&(U.presentationTime=C.presentationTime);var me=ue.presentationTimeOffset?ue.presentationTimeOffset/ue.timescale:0;U.calculatedPresentationTime=U.presentationTime/ue.timescale+p.start-me,C.hasOwnProperty(n.Z.DURATION)&&(U.duration=C.duration/ue.timescale),C.hasOwnProperty(n.Z.ID)?U.id=C.id:U.id=null,C.Signal&&C.Signal.Binary?U.messageData=y.decodeArray(C.Signal.Binary.toString()):U.messageData=C.messageData||C.__cdata||C.__text,W.push(U)}}return W},getEssentialPropertiesForRepresentation:se,getEventStreamForAdaptationSet:function(p,L,Z){var M,R,K;return p&&p.Period_asArray&&L&&L.period&&m(L.period.index)&&(R=p.Period_asArray[L.period.index])&&R.AdaptationSet_asArray&&m(L.index)&&(K=R.AdaptationSet_asArray[L.index])&&(M=K.InbandEventStream_asArray),re(M,null,Z)},getEventStreamForRepresentation:function(p,L,Z){var M,R,K,W;return p&&p.Period_asArray&&L&&L.adaptation&&L.adaptation.period&&m(L.adaptation.period.index)&&(R=p.Period_asArray[L.adaptation.period.index])&&R.AdaptationSet_asArray&&m(L.adaptation.index)&&(K=R.AdaptationSet_asArray[L.adaptation.index])&&K.Representation_asArray&&m(L.index)&&(W=K.Representation_asArray[L.index])&&(M=W.InbandEventStream_asArray),re(M,L,Z)},getUTCTimingSources:function(p){var L=ne(p),Z=!!p&&p.hasOwnProperty(n.Z.AVAILABILITY_START_TIME),M=p?p.UTCTiming_asArray:null,R=[];return(L||Z)&&M&&M.forEach(function(K){var W=new $n.Z;K.hasOwnProperty(e.Z.SCHEME_ID_URI)&&(W.schemeIdUri=K.schemeIdUri,K.hasOwnProperty(n.Z.VALUE)&&(W.value=K.value.toString(),R.push(W)))}),R},getBaseURLsFromElement:ee,getRepresentationSortFunction:function(){return function(p,L){return p.bandwidth-L.bandwidth}},getContentSteering:function(p){if(p&&p.hasOwnProperty(n.Z.CONTENT_STEERING_AS_ARRAY))return ie(p[n.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(p){return p&&p.hasOwnProperty(n.Z.LOCATION_AS_ARRAY)?p[n.Z.LOCATION_AS_ARRAY].map(function(L){var Z=L.__text||L,M=L.hasOwnProperty(n.Z.SERVICE_LOCATION)?L[n.Z.SERVICE_LOCATION]:null;return new Ut(Z,M)}):[]},getPatchLocation:function(p){return p&&p.hasOwnProperty(n.Z.PATCH_LOCATION_AS_ARRAY)?p[n.Z.PATCH_LOCATION_AS_ARRAY].map(function(L){var Z=L.__text||L,M=L.hasOwnProperty(n.Z.SERVICE_LOCATION)?L[n.Z.SERVICE_LOCATION]:null,R=L.hasOwnProperty(n.Z.TTL)?1e3*parseFloat(L[n.Z.TTL]):NaN;return new Yt(Z,M,R)}):[]},getSuggestedPresentationDelay:function(p){return p&&p.hasOwnProperty(n.Z.SUGGESTED_PRESENTATION_DELAY)?p.suggestedPresentationDelay:null},getAvailabilityStartTime:function(p){return p&&p.hasOwnProperty(n.Z.AVAILABILITY_START_TIME)&&p.availabilityStartTime!==null?p.availabilityStartTime.getTime():null},getServiceDescriptions:function(p){var L=[];if(p&&p.hasOwnProperty(n.Z.SERVICE_DESCRIPTION)){var Z,M=Ot(p.ServiceDescription_asArray);try{for(M.s();!(Z=M.n()).done;){var R=Z.value,K=null,W=null,ue=null,C=null,U=null,me=null,Se=null;for(var Re in R)R.hasOwnProperty(Re)&&(Re===n.Z.ID?K=R[Re]:Re===n.Z.SERVICE_DESCRIPTION_SCOPE?W=R[Re].schemeIdUri:Re===n.Z.SERVICE_DESCRIPTION_LATENCY?ue={target:parseInt(R[Re].target),max:parseInt(R[Re].max),min:parseInt(R[Re].min),referenceId:parseInt(R[Re].referenceId)}:Re===n.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?C={max:parseFloat(R[Re].max),min:parseFloat(R[Re].min)}:Re===n.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?U={mediaType:R[Re].mediaType,max:parseInt(R[Re].max),min:parseInt(R[Re].min),target:parseInt(R[Re].target),type:R[Re].type,maxQualityDifference:parseInt(R[Re].maxQualityDifference)}:Re===n.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?me={mediaType:R[Re].mediaType,max:parseInt(R[Re].max),min:parseInt(R[Re].min),target:parseInt(R[Re].target)}:Re===n.Z.CONTENT_STEERING&&(Se=ie(R[Re])));L.push({id:K,schemeIdUri:W,latency:ue,playbackRate:C,operatingQuality:U,operatingBandwidth:me,contentSteering:Se})}}catch(Me){M.e(Me)}finally{M.f()}}return L},getSegmentAlignment:function(p){return!(!p||!p.hasOwnProperty(n.Z.SEGMENT_ALIGNMENT))&&p[n.Z.SEGMENT_ALIGNMENT]==="true"},getSubSegmentAlignment:function(p){return!(!p||!p.hasOwnProperty(n.Z.SUB_SEGMENT_ALIGNMENT))&&p[n.Z.SUB_SEGMENT_ALIGNMENT]==="true"},getSupplementalPropertiesForAdaptation:function(p){var L={};if(p&&p.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Z,M=Ot(p.SupplementalProperty_asArray);try{for(M.s();!(Z=M.n()).done;){var R=Z.value;R.hasOwnProperty(e.Z.SCHEME_ID_URI)&&R.hasOwnProperty(n.Z.VALUE)&&(L[R[e.Z.SCHEME_ID_URI]]=R[n.Z.VALUE])}}catch(K){M.e(K)}finally{M.f()}}return L},getSupplementalPropertiesAsArrayForAdaptation:function(p){return p&&p.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&p.SupplementalProperty_asArray.length?p.SupplementalProperty_asArray.map(function(L){return new qe().init(L)}):[]},getSupplementalPropertiesForRepresentation:function(p){var L={};if(p&&p.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Z,M=Ot(p.SupplementalProperty_asArray);try{for(M.s();!(Z=M.n()).done;){var R=Z.value;R.hasOwnProperty(e.Z.SCHEME_ID_URI)&&R.hasOwnProperty(n.Z.VALUE)&&(L[R[e.Z.SCHEME_ID_URI]]=R[n.Z.VALUE])}}catch(K){M.e(K)}finally{M.f()}}return L},getSupplementalPropertiesAsArrayForRepresentation:function(p){return p&&p.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&p.SupplementalProperty_asArray.length?p.SupplementalProperty_asArray.map(function(L){return new qe().init(L)}):[]},setConfig:function(p){p&&(p.errHandler&&(c=p.errHandler),p.BASE64&&(y=p.BASE64))}},r=(0,_.Z)(A).getInstance().getLogger(u),u}Lt.__dashjs_factory_name="DashManifestModel";const Qt=h.Z.getSingletonFactory(Lt);var sn=D(703);function En(u,r){var c;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(c=function(G,V){if(G){if(typeof G=="string")return Wt(G,V);var q=Object.prototype.toString.call(G).slice(8,-1);return q==="Object"&&G.constructor&&(q=G.constructor.name),q==="Map"||q==="Set"?Array.from(G):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?Wt(G,V):void 0}}(u))||r&&u&&typeof u.length=="number"){c&&(u=c);var y=0,A=function(){};return{s:A,n:function(){return y>=u.length?{done:!0}:{done:!1,value:u[y++]}},e:function(G){throw G},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,m=!0,w=!1;return{s:function(){c=u[Symbol.iterator]()},n:function(){var G=c.next();return m=G.done,G},e:function(G){w=!0,T=G},f:function(){try{m||c.return==null||c.return()}finally{if(w)throw T}}}}function Wt(u,r){(r==null||r>u.length)&&(r=u.length);for(var c=0,y=new Array(r);c<r;c++)y[c]=u[c];return y}function Et(){var u,r,c,y,A,T,m,w,G,V,q=this.context,N=(0,g.Z)(q).getInstance(),H=(0,st.Z)(q).getInstance();function Y(){c={pr:1,nor:null,st:null,sf:null,sid:"".concat(sn.Z.generateUuid()),cid:null},G={},w={},V={},ne()}function ge(){ne()}function ne(){if(T){var R=T.getStreamController();if(R&&typeof R.getActiveStream=="function"){var K=R.getActiveStream();K&&(m=K.getProcessors())}}}function se(R,K){var W,ue={},C=En(K);try{for(C.s();!(W=C.n()).done;){var U=W.value;R[U]&&(ue[U]=R[U])}}catch(me){C.e(me)}finally{C.f()}return ue}function fe(R){var K=H.get().streaming.cmcd.enabledKeys;return R.filter(function(W){return K.includes(W)})}function x(R){try{return R.type===Ae.w.MPD_TYPE?((W=re()).ot="m",W):R.type===Ae.w.MEDIA_SEGMENT_TYPE?(K=R.mediaType,V.hasOwnProperty(K)||(V[K]=!1),w.hasOwnProperty(K)||(w[K]=!1),G.hasOwnProperty(K)||(G[K]=!1),function(ue){var C,U=re(),me=function(Tt){try{var Ct=Tt.quality,_e=Tt.mediaInfo.bitrateList;return parseInt(_e[Ct].bandwidth/1e3)}catch{return null}}(ue),Se=function(Tt){try{return isNaN(Tt.duration)?null:Math.round(1e3*Tt.duration)}catch{return null}}(ue),Re=function(Tt){try{return 100*parseInt(y.getThroughputHistory().getSafeAverageThroughput(Tt)/100)}catch{return null}}(ue.mediaType),Me=function(Tt){try{var Ct=c.pr,_e=A.getCurrentBufferLevel(Tt);return isNaN(Ct)||isNaN(_e)?null:100*parseInt(_e/Ct*10)}catch{return null}}(ue.mediaType),Ee=ee(ue.mediaType),Fe=function(Tt){try{var Ct=y.getTopBitrateInfoFor(Tt);return Math.round(Ct.bitrate/1e3)}catch{return null}}(ue.mediaType),dt=c.pr,Je=function(Tt){if(m&&m.length!==0){var Ct,_e=En(m);try{for(_e.s();!(Ct=_e.n()).done;){var le=Ct.value;if(le.getType()===Tt)return le.probeNextRequest()}}catch(Oe){_e.e(Oe)}finally{_e.f()}}}(ue.mediaType);ue.mediaType===e.Z.VIDEO&&(C="v"),ue.mediaType===e.Z.AUDIO&&(C="a"),ue.mediaType===e.Z.TEXT&&(C=ue.mediaInfo.mimeType==="application/mp4"?"tt":"c");var rt=H.get().streaming.cmcd.rtp;return rt||(rt=function(Tt){var Ct=T.getPlaybackRate();Ct||(Ct=1);var _e=Tt.quality,le=Tt.mediaType,Oe=Tt.mediaInfo,pe=Tt.duration,Pe=ee(le);Pe===0&&(Pe=500);var Ge=Oe.bitrateList[_e].bandwidth*pe/1e3/(Pe/Ct/1e3),Ve=H.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(H.get().streaming.cmcd.rtpSafetyFactor)?H.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Ge*Ve/100)+1)}(ue)),U.rtp=rt,Je&&(ue.url!==Je.url?U.nor=encodeURIComponent(sn.Z.getRelativeUrl(ue.url,Je.url)):Je.range&&(U.nrr=Je.range)),me&&(U.br=me),C&&(U.ot=C),isNaN(Se)||(U.d=Se),isNaN(Re)||(U.mtp=Re),isNaN(Me)||(U.dl=Me),isNaN(Ee)||(U.bl=Ee),isNaN(Fe)||(U.tb=Fe),isNaN(dt)||dt===1||(U.pr=dt),G[ue.mediaType]&&(U.bs=!0,G[ue.mediaType]=!1),!w[ue.mediaType]&&V[ue.mediaType]||(U.su=!0,w[ue.mediaType]=!1,V[ue.mediaType]=!0),U}(R)):R.type===Ae.w.INIT_SEGMENT_TYPE?function(){var ue=re();return ue.ot="i",ue.su=!0,ue}():R.type===Ae.w.OTHER_TYPE||R.type===Ae.w.XLINK_EXPANSION_TYPE?function(){var ue=re();return ue.ot="o",ue}():R.type===Ae.w.LICENSE?function(ue){var C=re();return C.ot="k",C}():null}catch{return null}var K,W}function re(){var R={},K=H.get().streaming.cmcd.cid?H.get().streaming.cmcd.cid:c.cid;return R.v=1,R.sid=H.get().streaming.cmcd.sid?H.get().streaming.cmcd.sid:c.sid,R.sid="".concat(R.sid),K&&(R.cid="".concat(K)),isNaN(c.pr)||c.pr===1||c.pr===null||(R.pr=c.pr),c.st&&(R.st=c.st),c.sf&&(R.sf=c.sf),R}function ee(R){try{var K=A.getCurrentBufferLevel(R);return isNaN(K)?null:100*parseInt(10*K)}catch{return null}}function ie(R){try{c.pr=R.playbackRate}catch{}}function p(R){try{var K=u.getIsDynamic(R.data)?"l":"v",W=R.protocol&&R.protocol==="MSS"?"s":"d";c.st="".concat(K),c.sf="".concat(W)}catch{}}function L(R){try{R.state&&R.mediaType&&R.state===t.Z.BUFFER_EMPTY&&(G[R.mediaType]||(G[R.mediaType]=!0),w[R.mediaType]||(w[R.mediaType]=!0))}catch{}}function Z(){for(var R in G)G.hasOwnProperty(R)&&(G[R]=!0);for(var K in w)w.hasOwnProperty(K)&&(w[K]=!0)}function M(R){try{if(!R)return null;var K=Object.keys(R).sort(function(C,U){return C.localeCompare(U)}),W=K.length,ue=K.reduce(function(C,U,me){return U==="v"&&R[U]===1||(typeof R[U]=="string"&&U!=="ot"&&U!=="sf"&&U!=="st"?C+="".concat(U,"=").concat(JSON.stringify(R[U])):C+="".concat(U,"=").concat(R[U]),me<W-1&&(C+=",")),C},"");return(ue=ue.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return r={getQueryParameter:function(R){try{if(H.get().streaming.cmcd&&H.get().streaming.cmcd.enabled){var K=x(R),W=function(C){try{var U=H.get().streaming.cmcd.enabledKeys;return Object.keys(C).filter(function(me){return U.includes(me)}).reduce(function(me,Se){return me[Se]=C[Se],me},{})}catch{return C}}(K),ue=M(W);return N.trigger(yn.Z.CMCD_DATA_GENERATED,{url:R.url,mediaType:R.mediaType,cmcdData:K,cmcdString:ue}),{key:"CMCD",value:ue}}return null}catch{return null}},getHeaderParameters:function(R){try{if(H.get().streaming.cmcd&&H.get().streaming.cmcd.enabled){var K=x(R),W=se(K,fe(["br","d","ot","tb"])),ue=se(K,fe(["bl","dl","mtp","nor","nrr","su"])),C=se(K,fe(["bs","rtp"])),U=se(K,fe(["cid","pr","sf","sid","st","v"])),me={"CMCD-Object":M(W),"CMCD-Request":M(ue),"CMCD-Status":M(C),"CMCD-Session":M(U)};return N.trigger(yn.Z.CMCD_DATA_GENERATED,{url:R.url,mediaType:R.mediaType,cmcdData:K,headers:me}),me}return null}catch{return null}},setConfig:function(R){R&&(R.abrController&&(y=R.abrController),R.dashMetrics&&(A=R.dashMetrics),R.playbackController&&(T=R.playbackController))},reset:function(){N.off(t.Z.PLAYBACK_RATE_CHANGED,ie,this),N.off(t.Z.MANIFEST_LOADED,p,this),N.off(t.Z.BUFFER_LEVEL_STATE_CHANGED,L,r),N.off(t.Z.PLAYBACK_SEEKED,Z,r),Y()},initialize:function(){N.on(t.Z.PLAYBACK_RATE_CHANGED,ie,r),N.on(t.Z.MANIFEST_LOADED,p,r),N.on(t.Z.BUFFER_LEVEL_STATE_CHANGED,L,r),N.on(t.Z.PLAYBACK_SEEKED,Z,r),N.on(t.Z.PERIOD_SWITCH_COMPLETED,ge,r)}},u=Qt(q).getInstance(),Y(),r}Et.__dashjs_factory_name="CmcdModel";const _t=h.Z.getSingletonFactory(Et);function Dt(u){return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dt(u)}function Xt(u,r){Xt=function(w,G){return new T(w,void 0,G)};var c=hn(RegExp),y=RegExp.prototype,A=new WeakMap;function T(w,G,V){var q=c.call(this,w,G);return A.set(q,V||A.get(w)),q}function m(w,G){var V=A.get(G);return Object.keys(V).reduce(function(q,N){return q[N]=w[V[N]],q},Object.create(null))}return $t(T,c),T.prototype.exec=function(w){var G=y.exec.call(this,w);return G&&(G.groups=m(G,this)),G},T.prototype[Symbol.replace]=function(w,G){if(typeof G=="string"){var V=A.get(this);return y[Symbol.replace].call(this,w,G.replace(/\$<([^>]+)>/g,function(N,H){return"$"+V[H]}))}if(typeof G=="function"){var q=this;return y[Symbol.replace].call(this,w,function(){var N=[];return N.push.apply(N,arguments),Dt(N[N.length-1])!=="object"&&N.push(m(N,q)),G.apply(this,N)})}return y[Symbol.replace].call(this,w,G)},Xt.apply(this,arguments)}function $t(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),r&&Bn(u,r)}function hn(u){var r=typeof Map=="function"?new Map:void 0;return hn=function(c){if(c===null||(y=c,Function.toString.call(y).indexOf("[native code]")===-1))return c;var y;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(c))return r.get(c);r.set(c,A)}function A(){return pn(c,arguments,wn(this).constructor)}return A.prototype=Object.create(c.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),Bn(A,c)},hn(u)}function pn(u,r,c){return pn=qn()?Reflect.construct:function(y,A,T){var m=[null];m.push.apply(m,A);var w=new(Function.bind.apply(y,m));return T&&Bn(w,T.prototype),w},pn.apply(null,arguments)}function qn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bn(u,r){return Bn=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Bn(u,r)}function wn(u){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wn(u)}var kn="static",Mn="dynamic",Kn="cmsd-",Ir=Kn+kn,pr=Kn+Mn,rr="stream",Qn=["mb","st","sf","v"],Jr={video:"v",audio:"a",text:"tt",stream:rr},$r=/^[-0-9]/;function Zr(){var u,r,c,y,A=this.context,T=(0,g.Z)(A).getInstance();function m(){c={},y={}}function w(Y){Y&&Object.keys(Y).forEach(function(ge){Qn.includes(ge)||delete Y[ge]})}function G(Y){return!Y||Y.toLowerCase()!=="false"&&($r.test(Y)?parseInt(Y,10):Y.replace(/["]+/g,""))}function V(Y){try{for(var ge={},ne=Y.split(","),se=0;se<ne.length;se++){var fe=ne[se].split("="),x=fe[0],re=G(fe[1]);ge[x]=re}return ge}catch(ee){r.error("Failed to parse CMSD-Static response header value:",ee)}}function q(Y){try{for(var ge={},ne=Y.split(","),se=ne[ne.length-1].split(";"),fe=1;fe<se.length;fe++){var x=se[fe].split("="),re=x[0],ee=G(x[1]);ge[re]=ee}return ge}catch(ie){return r.error("Failed to parse CMSD-Dynamic response header value:",ie),[]}}function N(Y){return Jr[Y]||"o"}function H(Y,ge,ne){var se=Y===kn?c:y,fe=se[ge]||{},x=se[rr]||{};return fe[ne]||x[ne]}return u={setConfig:function(){},initialize:function(){},reset:function(){m()},parseResponseHeaders:function(Y,ge){for(var ne=null,se=null,fe=Y.split(`\r
`),x=fe.length-1;x>=0;x--){var re=fe[x].match(Xt(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(re&&re.groups){var ee=re.groups.key.toLowerCase(),ie=re.groups.value;switch(ee){case Ir:ne=V(ie),T.trigger(i.Z.CMSD_STATIC_HEADER,ne);break;case pr:se||(se=q(ie))}}}var p=rr;return ne&&ne.ot?p=ne.ot:ge&&(p=N(ge)),w(c[p]),w(y[p]),ne&&(c[p]=Object.assign(c[p]||{},ne)),se&&(y[p]=Object.assign(y[p]||{},se)),{static:ne,dynamic:se}},getMaxBitrate:function(Y){var ge=N(Y);return H(Mn,ge,"mb")||-1},getEstimatedThroughput:function(Y){var ge=N(Y);return H(Mn,ge,"etp")||null},getResponseDelay:function(Y){var ge=N(Y);return H(Mn,ge,"rd")||null},getRoundTripTime:function(Y){var ge=N(Y);return H(Mn,ge,"rtt")||null}},r=(0,_.Z)(A).getInstance().getLogger(u),m(),u}Zr.__dashjs_factory_name="CmsdModel";const Ur=h.Z.getSingletonFactory(Zr);function Br(){var u,r,c=this.context,y={};function A(){r=(0,_.Z)(c).getInstance().getLogger(u)}function T(w){for(var G={},V=0,q=0,N=0,H=0,Y=w.length,ge=0;ge<Y;++ge)V+=w[ge].chunkDownloadTimeRelativeMS,q+=w[ge].bufferLevel,N+=w[ge].chunkDownloadTimeRelativeMS*w[ge].bufferLevel,H+=w[ge].chunkDownloadTimeRelativeMS*w[ge].chunkDownloadTimeRelativeMS;return G.m=(N-V*q/Y)/(H-V*V/Y),G.b=q/Y-G.m*V/Y,function(ne){return G.m*ne+G.b}}function m(w){var G,V=!0,q=w.reduce(function(N,H){return N+H.bufferLevelAtSegmentEnd},0)/w.length;return w.forEach(function(N){Math.abs(N.bufferLevelAtSegmentEnd/N.bufferLevelAtSegmentStart)<.95&&(V=!1),N.bufferLevelAtSegmentEnd/q<.8&&(V=!1),G?G>N.bitrate&&(V=!1):G=N.bitrate}),V}return u={setup:A,addMeasurement:function(w,G,V,q,N){w&&w.mediaType&&!y[w.mediaType]&&(y[w.mediaType]=[]);var H=w.mediaInfo.bitrateList.find(function(Y){return Y.id===w.representationId});y[w.mediaType].push({index:w.index,repId:w.representationId,mediaType:w.mediaType,requestTimeMS:q,adjustedAvailabilityStartTimeMS:w.availabilityStartTime.getTime(),segDurationMS:1e3*w.duration,chunksDurationMS:V.reduce(function(Y,ge){return Y+ge.chunkDownloadDurationMS},0),segmentBytes:V.reduce(function(Y,ge){return Y+ge.chunkBytes},0),bitrate:H&&H.bandwidth,bitrateList:w.mediaInfo.bitrateList,chunkMeasurements:V,fetchDownloadDurationMS:G,throughputCapacityDelayMS:N,getEstimatedBufferLevel:T(V.slice(1))}),y[w.mediaType].length>10&&y[w.mediaType].shift()},getThroughputCapacityDelayMS:function(w,G){var V=y[w.mediaType]&&y[w.mediaType].slice(-3);return!V||V.length<3?0:m(V)?G/4>250?250:G/4:0},getEstimatedDownloadDurationMS:function(w){var G=y[w.mediaType].slice(-1).pop(),V=y[w.mediaType].slice(-3),q=G.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;G.bufferLevelAtSegmentStart=G.getEstimatedBufferLevel(q/2),G.bufferLevelAtSegmentEnd=G.getEstimatedBufferLevel(q);var N=m(V),H=N?.6:.8;if(G.isBufferStable&&1.05*G.segDurationMS<G.fetchDownloadDurationMS)return G.fetchDownloadDurationMS;if(!N||G.segDurationMS<G.fetchDownloadDurationMS||G.adjustedAvailabilityStartTimeMS<=G.requestTimeMS+G.throughputCapacityDelayMS-G.segDurationMS)return .8*G.fetchDownloadDurationMS;for(var Y=G.requestTimeMS+G.throughputCapacityDelayMS-G.adjustedAvailabilityStartTimeMS,ge=0,ne=0,se=0,fe=0;fe<G.chunkMeasurements.length;fe++){var x=G.chunkMeasurements[fe];if(Y<ne+x.chunkDownloadDurationMS)break;ne+=x.chunkDownloadDurationMS,ge+=x.chunkBytes,se++}if(Y<0&&r.warn("request time was before adjusted availibitly start time"),ge&&ne&&se>.2*G.chunkMeasurements.length){var re=ge/ne,ee=G.segmentBytes/re;return G.fetchDownloadDurationMS<ee?G.fetchDownloadDurationMS*H:ee*H}var ie=G.bitrate;return G.bitrateList.some(function(p){if(p.bandwidth>G.bitrate)return ie=p.bandwidth,!0}),ie===G.bitrate?G.fetchDownloadDurationMS*H:H*G.segmentBytes*8*1e3/ie}},A(),u}Br.__dashjs_factory_name="LowLatencyThroughputModel";const Gr=h.Z.getSingletonFactory(Br);var At=D(5717);function zt(u,r,c){return r in u?Object.defineProperty(u,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[r]=c,u}function on(u){u=u||{};var r,c,y,A,T,m,w,G,V,q,N,H=this.context,Y=u.errHandler,ge=u.dashMetrics,ne=u.mediaPlayerModel,se=u.requestModifier,fe=u.boxParser,x=u.errors,re=u.requestTimeout||0,ee=(0,g.Z)(H).getInstance(),ie=(0,st.Z)(H).getInstance();function p(L,Z){var M,R=L.request,K=[],W=!0,ue=!0,C=new Date,U=C,me=0,Se=null,Re=null;if(!se||!ge||!Y)throw new Error("config object is not correct or missing");var Me,Ee=function(Pe){if(ue=!1,R.requestStartDate=C,R.requestEndDate=new Date,R.firstByteDate=R.firstByteDate||C,R.fileLoaderType=Re,!R.checkExistenceOnly){var Ge=M.response?M.response.responseURL:null,Ve=M.response?M.response.status:null,ct=M.response&&M.response.getAllResponseHeaders?M.response.getAllResponseHeaders():M.response?M.response.responseHeaders:null,St=ie.get().streaming.cmsd&&ie.get().streaming.cmsd.enabled?w.parseResponseHeaders(ct,R.mediaType):null;ge.addHttpRequest(R,Ge,Ve,ct,Pe?K:null,St),R.type===Ae.w.MPD_TYPE&&(ge.addManifestUpdate(R),ee.trigger(i.Z.MANIFEST_LOADING_FINISHED,{request:R}))}},Fe=function(){if(Se&&(clearTimeout(Se),Se=null),c.indexOf(M)!==-1&&(c.splice(c.indexOf(M),1),ue))if(Ee(!1),Z>0){try{ie.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&R.type===Ae.w.MEDIA_SEGMENT_TYPE&&ne.getRetryAttemptsForType(Ae.w.MEDIA_SEGMENT_TYPE)===Z&&ee.trigger(i.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}Z--;var Pe={config:L};A.push(Pe),Pe.timeout=setTimeout(function(){A.indexOf(Pe)!==-1&&(A.splice(A.indexOf(Pe),1),p(L,Z))},ne.getRetryIntervalsForType(R.type))}else{if(R.type===Ae.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;Y.error(new k.Z(T[R.type],R.url+" is not available",{request:R,response:M.response})),L.error&&L.error(R,"error",M.response.statusText,M.response),L.complete&&L.complete(R,M.response.statusText)}};R.hasOwnProperty("availabilityTimeComplete")&&R.availabilityTimeComplete===!1&&window.fetch&&R.responseType==="arraybuffer"&&R.type===Ae.w.MEDIA_SEGMENT_TYPE?((Me=Ln(H).create({requestModifier:se,lowLatencyThroughputModel:V,boxParser:fe})).setup({dashMetrics:ge}),Re=e.Z.FILE_LOADER_TYPES.FETCH):(Me=(0,Pt.Z)(H).create({requestModifier:se}),Re=e.Z.FILE_LOADER_TYPES.XHR);var dt=null,Je=se.modifyRequestURL?se.modifyRequestURL(R.url):R.url;if(ie.get().streaming.cmcd&&ie.get().streaming.cmcd.enabled){var rt=ie.get().streaming.cmcd.mode;if(rt===e.Z.CMCD_MODE_QUERY){var Tt=function(Pe){try{var Ge=[],Ve=m.getQueryParameter(Pe);return Ve&&Ge.push(Ve),Ge}catch{return[]}}(R);Je=sn.Z.addAditionalQueryParameterToUrl(Je,Tt)}else rt===e.Z.CMCD_MODE_HEADER&&(dt=m.getHeaderParameters(R))}var Ct=R.checkExistenceOnly?Ae.w.HEAD:Ae.w.GET,_e=G.getXHRWithCredentialsForType(R.type);if(R.queryParams){var le=Object.keys(R.queryParams).map(function(Pe){return{key:Pe,value:R.queryParams[Pe]}});Je=sn.Z.addAditionalQueryParameterToUrl(Je,le)}R.url=Je,M={url:Je,method:Ct,withCredentials:_e,request:R,onload:function(){M.response.status>=200&&M.response.status<=299&&(Ee(!0),L.success&&L.success(M.response.response,M.response.statusText,M.response.responseURL),L.complete&&L.complete(R,M.response.statusText))},onend:Fe,onerror:Fe,progress:function(Pe){var Ge=new Date;W&&(W=!1,(!Pe.lengthComputable||Pe.lengthComputable&&Pe.total!==Pe.loaded)&&(R.firstByteDate=Ge)),Pe.lengthComputable&&(R.bytesLoaded=Pe.loaded,R.bytesTotal=Pe.total),Pe.noTrace||(K.push({s:U,d:Pe.time?Pe.time:Ge.getTime()-U.getTime(),b:[Pe.loaded?Pe.loaded-me:0]}),U=Ge,me=Pe.loaded),Se&&(clearTimeout(Se),Se=null),ie.get().streaming.fragmentRequestProgressTimeout>0&&(Se=setTimeout(function(){q.warn("Abort request "+M.url+" due to progress timeout"),M.response.onabort=null,M.loader.abort(M),Fe()},ie.get().streaming.fragmentRequestProgressTimeout)),L.progress&&Pe&&L.progress(Pe)},onabort:function(){Se&&(clearTimeout(Se),Se=null),L.abort&&L.abort(R)},ontimeout:function(Pe){var Ge;if(Pe.lengthComputable){var Ve=Pe.loaded/Pe.total*100;Ge="Request timeout: loaded: "+Pe.loaded+", out of: "+Pe.total+" : "+Ve.toFixed(3)+"% Completed"}else Ge="Request timeout: non-computable download size";q.warn(Ge)},loader:Me,timeout:re,headers:dt};var Oe=new Date().getTime();if(isNaN(R.delayLoadingTime)||Oe>=R.delayLoadingTime)c.push(M),Me.load(M);else{var pe={httpRequest:M};y.push(pe),pe.delayTimeout=setTimeout(function(){if(y.indexOf(pe)!==-1){y.splice(y.indexOf(pe),1);try{C=new Date,U=C,c.push(pe.httpRequest),Me.load(pe.httpRequest)}catch{pe.httpRequest.onerror()}}},R.delayLoadingTime-Oe)}}return r={load:function(L){L.request?p(L,ne.getRetryAttemptsForType(L.request.type)):L.error&&L.error(L.request,"error")},abort:function(){A.forEach(function(L){clearTimeout(L.timeout),L.config.request&&L.config.abort&&L.config.abort(L.config.request)}),A=[],y.forEach(function(L){return clearTimeout(L.delayTimeout)}),y=[],c.forEach(function(L){L.request.type!==Ae.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(L.onloadend=L.onerror=L.onprogress=void 0,L.loader.abort(L))}),c=[]}},q=(0,_.Z)(H).getInstance().getLogger(r),c=[],y=[],A=[],m=_t(H).getInstance(),w=Ur(H).getInstance(),V=Gr(H).getInstance(),G=(0,At.Z)(H).getInstance(),zt(N={},Ae.w.MPD_TYPE,x.DOWNLOAD_ERROR_ID_MANIFEST_CODE),zt(N,Ae.w.XLINK_EXPANSION_TYPE,x.DOWNLOAD_ERROR_ID_XLINK_CODE),zt(N,Ae.w.INIT_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),zt(N,Ae.w.MEDIA_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),zt(N,Ae.w.INDEX_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),zt(N,Ae.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),zt(N,Ae.w.OTHER_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),T=N,r}on.__dashjs_factory_name="HTTPLoader";const Pn=h.Z.getClassFactory(on);function On(){var u;function r(){u={}}function c(){r()}return c(),{getLoader:function(y){for(var A in u)if(u.hasOwnProperty(A)&&y.startsWith(A))return u[A];return Pn},registerLoader:function(y,A){u[y]=A},unregisterLoader:function(y){u[y]&&delete u[y]},unregisterAllLoader:r,reset:c}}On.__dashjs_factory_name="SchemeLoaderFactory";const Un=h.Z.getSingletonFactory(On);function Tn(u){u=u||{};var r,c,y=this.context;return r=Un(y).getInstance(),{load:function(A){if(!c){var T=r.getLoader(A&&A.request?A.request.url:null);c=T(y).create({errHandler:u.errHandler,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,dashMetrics:u.dashMetrics,boxParser:u.boxParser?u.boxParser:null,constants:u.constants?u.constants:null,dashConstants:u.dashConstants?u.dashConstants:null,urlUtils:u.urlUtils?u.urlUtils:null,requestTimeout:isNaN(u.requestTimeout)?0:u.requestTimeout,errors:u.errors})}c.load(A)},abort:function(){c&&c.abort()}}}Tn.__dashjs_factory_name="URLLoader";const zn=h.Z.getClassFactory(Tn);function xn(u){return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xn(u)}function An(u,r){return An=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},An(u,r)}function ar(u,r){return!r||xn(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function Wn(u){return Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wn(u)}const cr=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&An(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=Wn(r);if(c){var w=Wn(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return ar(this,T)});function A(T){var m;return function(w,G){if(!(w instanceof G))throw new TypeError("Cannot call a class as a function")}(this,A),(m=y.call(this,T)).checkForExistenceOnly=!0,m}return A}(P.Z);function tr(u){u=u||{};var r,c,y=this.context,A=u.eventBus,T=u.events,m=u.urlUtils,w=u.errors,G=u.streamId;return r={checkForExistence:function(V){var q=function(H){A.trigger(T.CHECK_FOR_EXISTENCE_COMPLETED,{request:V,exists:H})};if(V){var N=new cr(V.url);c.load({request:N,success:function(){q(!0)},error:function(){q(!1)}})}else q(!1)},load:function(V){var q=function(N,H){A.trigger(T.LOADING_COMPLETED,{request:V,response:N||null,error:H||null,sender:r})};V?c.load({request:V,progress:function(N){A.trigger(T.LOADING_PROGRESS,{request:V,stream:N.stream,streamId:G}),N.data&&A.trigger(T.LOADING_DATA_PROGRESS,{request:V,response:N.data||null,error:null,sender:r})},success:function(N){q(N)},error:function(N,H,Y){q(void 0,new k.Z(w.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,Y,H))},abort:function(N){N&&A.trigger(T.LOADING_ABANDONED,{mediaType:N.mediaType,request:N,sender:r})}}):q(void 0,new k.Z(w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){c&&c.abort()},reset:function(){c&&(c.abort(),c=null)}},c=zn(y).create({errHandler:u.errHandler,errors:w,dashMetrics:u.dashMetrics,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,urlUtils:m,constants:e.Z,boxParser:u.boxParser,dashConstants:u.dashConstants,requestTimeout:u.settings.get().streaming.fragmentRequestTimeout}),r}tr.__dashjs_factory_name="FragmentLoader";const yr=h.Z.getClassFactory(tr);function fr(){return{modifyResponseAsync:function(u){return Promise.resolve(u)}}}fr.__dashjs_factory_name="SegmentResponseModifier";const ei=h.Z.getSingletonFactory(fr);function Rr(u){u=u||{};var r,c,y,A=this.context,T=(0,g.Z)(A).getInstance(),m=u.errHandler,w=u.mediaPlayerModel,G=u.dashMetrics,V=(0,_.Z)(A).getInstance(),q=ei(A).getInstance(),N=u.streamInfo;function H(){return N.id}function Y(){for(var ne in y)y[ne].reset();y={}}function ge(ne){if(ne.sender){var se=ne.request,fe=ne.response,x=se.isInitializationRequest(),re=se.mediaInfo.streamInfo;if(ne.error&&(se.mediaType===e.Z.AUDIO||se.mediaType===e.Z.VIDEO||se.mediaType===e.Z.TEXT&&se.mediaInfo.isFragmented)&&T.trigger(i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ne.request.serviceLocation}),fe&&re){var ee=function(ie,p,L,Z){var M=new Mt;return M.streamId=L,M.mediaInfo=p.mediaInfo,M.segmentType=p.type,M.start=p.startTime,M.duration=p.duration,M.end=M.start+M.duration,M.bytes=ie,M.index=p.index,M.quality=p.quality,M.representationId=p.representationId,M.endFragment=Z,M}(fe,se,N.id,ne.type!==i.Z.FRAGMENT_LOADING_PROGRESS);q.modifyResponseAsync(ee).then(function(ie){T.trigger(x?i.Z.INIT_FRAGMENT_LOADED:i.Z.MEDIA_FRAGMENT_LOADED,{chunk:ie,request:se},{streamId:re.id,mediaType:se.mediaType})}).catch(function(ie){c.error(ie),T.trigger(x?i.Z.INIT_FRAGMENT_LOADED:i.Z.MEDIA_FRAGMENT_LOADED,{chunk:ee,request:se},{streamId:re.id,mediaType:se.mediaType})})}else c.warn("No "+se.mediaType+" bytes to push or stream is inactive.")}}return r={getStreamId:H,getModel:function(ne){var se=y[ne];return se||(se=I(A).create({streamInfo:N,type:ne,dashMetrics:G,fragmentLoader:yr(A).create({dashMetrics:G,mediaPlayerModel:w,errHandler:m,requestModifier:(0,he.Z)(A).getInstance(),settings:u.settings,boxParser:u.boxParser,eventBus:T,events:i.Z,errors:te,dashConstants:u.dashConstants,urlUtils:u.urlUtils,streamId:H()}),debug:V,eventBus:T,events:i.Z}),y[ne]=se),se},reset:function(){T.off(t.Z.FRAGMENT_LOADING_COMPLETED,ge,this),T.off(t.Z.FRAGMENT_LOADING_PROGRESS,ge,this),Y()}},c=V.getLogger(r),Y(),T.on(t.Z.FRAGMENT_LOADING_COMPLETED,ge,r),T.on(t.Z.FRAGMENT_LOADING_PROGRESS,ge,r),r}Rr.__dashjs_factory_name="FragmentController";const qr=h.Z.getClassFactory(Rr),ti=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},ni=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function ri(u){var r,c,y=this.context,A=u.streamInfo;function T(w){c.setTrackByIndex(w)}function m(){c&&c.reset()}return r={getStreamId:function(){return A.id},initialize:function(){c.addTracks();var w=c.getTracks();w&&w.length>0&&T(0)},provide:function(w,G){if(typeof G=="function"){var V,q,N=c.getCurrentTrack();if(!N||N.segmentDuration<=0||w==null)G(null);else{(q=c.getThumbnailRequestForTime(w))&&(N.segmentDuration=q.duration),V=w%N.segmentDuration;var H=Math.floor(V*N.tilesHor*N.tilesVert/N.segmentDuration),Y=new ti;if(Y.width=Math.floor(N.widthPerTile),Y.height=Math.floor(N.heightPerTile),Y.x=Math.floor(H%N.tilesHor)*N.widthPerTile,Y.y=Math.floor(H/N.tilesHor)*N.heightPerTile,"readThumbnail"in N)return N.readThumbnail(w,function(ne){Y.url=ne,G(Y)});if(q)Y.url=q.url,N.segmentDuration=NaN;else{var ge=Math.floor(w/N.segmentDuration);Y.url=function(ne,se){var fe=se+ne.startNumber,x=(0,o.vi)(ne.templateUrl,"Number",fe);return x=(0,o.vi)(x,"Time",(fe-1)*ne.segmentDuration*ne.timescale),x=(0,o.vi)(x,"Bandwidth",ne.bandwidth),(0,o.eR)(x)}(N,ge)}G(Y)}}},setTrackByIndex:T,getCurrentTrackIndex:function(){return c.getCurrentTrackIndex()},getBitrateList:function(){var w=c.getTracks(),G=0;return w.map(function(V){var q=new ni;return q.mediaType=e.Z.IMAGE,q.qualityIndex=G++,q.bitrate=V.bitrate,q.width=V.width,q.height=V.height,q})},reset:m},m(),c=(0,Nt.Z)(y).create({streamInfo:A,adapter:u.adapter,baseURLController:u.baseURLController,timelineConverter:u.timelineConverter,debug:u.debug,eventBus:u.eventBus,events:u.events,dashConstants:u.dashConstants,dashMetrics:u.dashMetrics,segmentBaseController:u.segmentBaseController}),r}ri.__dashjs_factory_name="ThumbnailController";const Ai=h.Z.getClassFactory(ri);var Yr=D(7417);function ii(u){var r;u=u||{};var c=[],y=(0,g.Z)(this.context).getInstance(),A=u.updateEventName,T=u.addBlacklistEventName;function m(w){c.indexOf(w)===-1&&(c.push(w),y.trigger(A,{entry:w}))}return r={add:m,contains:function(w){return!!(c.length&&w&&w.length)&&c.indexOf(w)!==-1},reset:function(){c=[]}},T&&y.on(T,function(w){m(w.entry)},r),r}ii.__dashjs_factory_name="BlackListController";const jr=h.Z.getClassFactory(ii);var Ii=[e.Z.VIDEO,e.Z.AUDIO,e.Z.TEXT,e.Z.MUXED,e.Z.IMAGE];function ai(u){u=u||{};var r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re=this.context,ee=(0,g.Z)(re).getInstance(),ie=(0,Ne.Z)(re).getInstance(),p=u.manifestModel,L=u.mediaPlayerModel,Z=u.dashMetrics,M=u.manifestUpdater,R=u.adapter,K=u.timelineConverter,W=u.capabilities,ue=u.errHandler,C=u.abrController,U=u.playbackController,me=u.eventController,Se=u.mediaController,Re=u.protectionController,Me=u.textController,Ee=u.videoModel,Fe=u.streamInfo,dt=u.settings;function Je(gt,Bt){return new Promise(function(Gt,Zt){Ge(),q=!0,ct();var Ke=Ee.getElement(),yt=[];Ii.forEach(function(Ye){(Ye!==e.Z.TEXT||gt)&&(Ye!==e.Z.VIDEO||!Ke||Ke&&/^VIDEO$/i.test(Ke.nodeName))&&yt.push(rt(Ye,gt))}),Promise.all(yt).then(function(){return Ye=Bt,new Promise(function(Ie){var oe={},Ue=y.map(function(at){return at.createBufferSinks(Ye)});Promise.all(Ue).then(function(at){at.forEach(function(Rt){Rt&&(oe[Rt.getType()]=Rt)}),Ie(oe)}).catch(function(){Ie(oe)})});var Ye}).then(function(Ye){if(q=!1,y.length===0){var Ie="No streams to play.";ue.error(new k.Z(te.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ie,p.getValue())),c.fatal(Ie)}else St();gt&&Me.createTracks(Fe),Gt(Ye)}).catch(function(Ye){Zt(Ye)})})}function rt(gt,Bt){var Gt,Zt=R.getAllMediaInfoForType(Fe,gt),Ke=[],yt=null;if(!Zt||Zt.length===0)return c.info("No "+gt+" data."),Promise.resolve();gt===e.Z.VIDEO&&(w=!0),gt===e.Z.AUDIO&&(G=!0);for(var Ye=0,Ie=Zt.length;Ye<Ie;Ye++)yt=Zt[Ye],gt===e.Z.TEXT&&yt.isEmbedded&&(Me.addEmbeddedTrack(Fe,yt),Ke.push(yt)),Tt(yt)&&Se.addTrack(yt);if(Ke.length>0&&(Se.setInitialMediaSettingsForType(gt,Fe),Me.addMediaInfosToBuffer(Fe,gt,Ke)),Zt=Zt.filter(function(Ue){return!Ue.isEmbedded}),Zt.length===0)return Promise.resolve();if(gt===e.Z.IMAGE)return(H=Ai(re).create({streamInfo:Fe,adapter:R,baseURLController:u.baseURLController,timelineConverter:u.timelineConverter,debug:se,eventBus:ee,events:i.Z,dashConstants:n.Z,dashMetrics:u.dashMetrics,segmentBaseController:u.segmentBaseController})).initialize(),Promise.resolve();ee.trigger(i.Z.STREAM_INITIALIZING,{streamInfo:Fe,mediaInfo:yt}),Se.setInitialMediaSettingsForType(gt,Fe);var oe=function(Ue,at){var Rt=Ue&&Ue.length>0?Ue[0]:null,xt=N.getModel(Rt?Rt.type:null),nn=Rt?Rt.type:null,In=Rt?Rt.mimeType:null,Xn=Rt?Rt.isFragmented:null,Sn=wt(re).create({streamInfo:Fe,type:nn,mimeType:In,timelineConverter:K,adapter:R,manifestModel:p,mediaPlayerModel:L,fragmentModel:xt,dashMetrics:u.dashMetrics,baseURLController:u.baseURLController,segmentBaseController:u.segmentBaseController,abrController:C,playbackController:U,mediaController:Se,textController:Me,errHandler:ue,settings:dt,boxParser:ne,segmentBlacklistController:Y});Sn.initialize(at,w,Xn),y.push(Sn);for(var Jn=0;Jn<Ue.length;Jn++)Sn.addMediaInfo(Ue[Jn]);return nn===e.Z.TEXT&&Me.addMediaInfosToBuffer(Fe,nn,Ue,xt),Sn}(Zt,Bt);return(Gt=Se.getCurrentTrackFor(gt,Fe.id))?(C.updateTopQualityIndex(Gt),oe.selectMediaInfo(gt===e.Z.TEXT&&Gt.isEmbedded?Zt[0]:Gt)):Promise.resolve()}function Tt(gt){var Bt,Gt=gt?gt.type:null;return Gt===e.Z.MUXED?(Bt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",c.fatal(Bt),ue.error(new k.Z(te.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Bt,p.getValue())),!1):!(Gt!==e.Z.TEXT&&Gt!==e.Z.IMAGE&&gt.contentProtection&&!W.supportsEncryptedMedia()&&(ue.error(new k.Z(te.CAPABILITY_MEDIAKEYS_ERROR_CODE,te.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Ct(gt){for(var Bt=y?y.length:0,Gt=0;Gt<Bt;Gt++){var Zt=y[Gt].getFragmentModel();Zt.abortRequests(),Zt.resetInitialSettings(),y[Gt].reset(!1,gt)}Me&&Me.deactivateStream(Fe),y=[],T=!1,m=!1,an(!1),le(!1),ee.trigger(i.Z.STREAM_DEACTIVATED,{streamInfo:Fe})}function _e(gt){Ct(gt),A=!1,w=!1,G=!1,V={},q=!1,fe=!1,x=[]}function le(gt){fe=gt}function Oe(){return Fe?Fe.start:NaN}function pe(){return Fe?Fe.id:null}function Pe(){return Fe}function Ge(){if(!Ee||!C)throw new Error(e.Z.MISSING_CONFIG_ERROR)}function Ve(gt){gt.error&&(ue.error(gt.error),c.fatal(gt.error.message))}function ct(){if(me){var gt=R.getEventsFor(Fe);gt&&gt.length>0&&me.addInlineEvents(gt,Fe.id)}}function St(){for(var gt=y.length,Bt=V.audio||V.video?new k.Z(te.DATA_UPDATE_FAILED_ERROR_CODE,te.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Gt=0;Gt<gt;Gt++)if(y[Gt].isUpdating()||q)return;if(Re){Re.clearMediaInfoArray();for(var Zt=0;Zt<gt&&y[Zt];Zt++){var Ke=y[Zt].getType(),yt=y[Zt].getMediaInfo();if(Ke===e.Z.AUDIO||Ke===e.Z.VIDEO||Ke===e.Z.TEXT&&yt.isFragmented){var Ye=y[Zt].getMediaInfo();Ye&&Re.initializeForMedia(Ye)}}Re.handleKeySystemFromManifest()}Bt?ue.error(Bt):A||(A=!0,Ee.waitForReadyState(e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){ee.trigger(i.Z.STREAM_INITIALIZED,{streamInfo:Fe})}))}function qt(){var gt=rn(),Bt=gt.length;if(Bt!==0){for(var Gt=0;Gt<Bt;Gt++)if(!gt[Gt].isBufferingCompleted()&&(gt[Gt].getType()===e.Z.AUDIO||gt[Gt].getType()===e.Z.VIDEO))return void c.debug("onBufferingCompleted - One streamProcessor has finished but",gt[Gt].getType(),"one is not buffering completed");c.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),m=!0,ee.trigger(i.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Fe},{streamInfo:Fe})}else c.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function jt(gt){V[gt.mediaType]=gt.error,St()}function kt(gt){me&&me.addInbandEvents(gt.events,Fe.id)}function Ht(gt){return gt&&gt.type?Kt(gt.type):null}function Kt(gt){return gt?rn().filter(function(Bt){return Bt.getType()===gt})[0]:null}function rn(){for(var gt,Bt,Gt=[],Zt=0;Zt<y.length;Zt++)(gt=(Bt=y[Zt]).getType())!==e.Z.AUDIO&&gt!==e.Z.VIDEO&&gt!==e.Z.TEXT||Gt.push(Bt);return Gt}function un(gt,Bt){var Gt=Pe(),Zt=Bt.getStreamInfo();if(!Zt||!Gt)return!0;var Ke=R.getAdaptationForType(Zt.index,gt,Zt),yt=R.getAdaptationForType(Gt.index,gt,Gt);return Ke&&yt?!(!en(yt)&&en(Ke)):!Ke&&!yt}function en(gt){return!!gt&&!!(gt.ContentProtection||gt.Representation_asArray&&gt.Representation_asArray.length>0&&gt.Representation_asArray[0].ContentProtection)}function cn(gt,Bt){var Gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!gt||!gt.hasOwnProperty("getStreamInfo"))return!1;var Zt=gt.getStreamInfo(),Ke=Gt?Gt.getStreamInfo():Pe();if(!Zt||!Ke)return!1;var yt=R.getAdaptationForType(Zt.index,Bt,Zt),Ye=R.getAdaptationForType(Ke.index,Bt,Ke);if(!yt||!Ye)return!yt&&!Ye;var Ie=yt&&Ye&&yt.mimeType===Ye.mimeType,oe=Ye.Representation_asArray.map(function(xt){return xt.codecs}),Ue=yt.Representation_asArray.map(function(xt){return xt.codecs}),at=Ue.some(function(xt){return oe.indexOf(xt)>-1}),Rt=Ue.some(function(xt){return oe.some(function(nn){return W.codecRootCompatibleWithCodec(nn,xt)})});return at||Rt&&Ie}function an(gt){ge=gt}function fn(){return ge}return r={initialize:function(){ee.on(i.Z.BUFFERING_COMPLETED,qt,r),ee.on(i.Z.DATA_UPDATE_COMPLETED,jt,r),ee.on(i.Z.INBAND_EVENTS,kt,r),Re&&(ee.on(i.Z.KEY_ERROR,Ve,r),ee.on(i.Z.SERVER_CERTIFICATE_UPDATED,Ve,r),ee.on(i.Z.LICENSE_REQUEST_COMPLETE,Ve,r),ee.on(i.Z.KEY_SYSTEM_SELECTED,Ve,r),ee.on(i.Z.KEY_SESSION_CREATED,Ve,r),ee.on(i.Z.KEY_STATUSES_CHANGED,Ve,r)),Me.initializeForStream(Fe),ee.trigger(i.Z.STREAM_UPDATED,{streamInfo:Fe})},getStreamId:function(){return Fe?Fe.id:null},activate:function(gt,Bt){return new Promise(function(Gt,Zt){if(!T)return fn()?(T=!0,ee.trigger(i.Z.STREAM_ACTIVATED,{streamInfo:Fe}),void Gt(Bt)):void function(Ke,yt){return Je(Ke,yt)}(gt,Bt).then(function(Ke){T=!0,ee.trigger(i.Z.STREAM_ACTIVATED,{streamInfo:Fe}),Gt(Ke)}).catch(function(Ke){Zt(Ke)});Gt(Bt)})},deactivate:Ct,getIsActive:function(){return T},getDuration:function(){return Fe?Fe.duration:NaN},getStartTime:Oe,getId:pe,getStreamInfo:Pe,getHasAudioTrack:function(){return G},getHasVideoTrack:function(){return w},startPreloading:function(gt,Bt){return new Promise(function(Gt,Zt){fn()?Zt():(c.info("[startPreloading] Preloading next stream with id ".concat(pe())),an(!0),Je(gt,Bt).then(function(){for(var Ke=0;Ke<y.length&&y[Ke];Ke++)y[Ke].setExplicitBufferingTime(Oe()),y[Ke].getScheduleController().startScheduleTimer();Gt()}).catch(function(){an(!1),Zt()}))})},initializeForTextWithMediaSource:function(gt){return new Promise(function(Bt,Gt){rt(e.Z.TEXT,gt).then(function(){return(Zt=Kt(e.Z.TEXT))?Zt.createBufferSinks():Promise.resolve();var Zt}).then(function(){Me.createTracks(Fe),Bt()}).catch(function(Zt){Gt(Zt)})})},getThumbnailController:function(){return H},getBitrateListFor:function(gt){if(Ge(),gt===e.Z.IMAGE)return H?H.getBitrateList():[];var Bt=function(Gt){for(var Zt=null,Ke=0;Ke<y.length;Ke++)if((Zt=y[Ke]).getType()===Gt)return Zt.getMediaInfo();return null}(gt);return C.getBitrateList(Bt)},updateData:function(gt){return new Promise(function(Bt){q=!0,Fe=gt,me&&ct();for(var Gt=[],Zt=0,Ke=y.length;Zt<Ke;Zt++){var yt=y[Zt],Ye=yt.getMediaInfo();Gt.push(yt.updateStreamInfo(Fe));var Ie=R.getAllMediaInfoForType(Fe,yt.getType());if(Ie=Ie.filter(function(at){return!at.isEmbedded})){yt.clearMediaInfoArray();for(var oe=0;oe<Ie.length;oe++){var Ue=Ie[oe];yt.addMediaInfo(Ie[oe]),R.areMediaInfosEqual(Ye,Ue)&&(C.updateTopQualityIndex(Ue),Gt.push(yt.selectMediaInfo(Ue)))}}}Promise.all(Gt).then(function(){for(Gt=[];x.length>0;){var at=x.pop(),Rt=at.newMediaInfo,xt=Ht(at.oldMediaInfo);if(!xt)return;Gt.push(xt.prepareTrackSwitch()),Gt.push(xt.selectMediaInfo(Rt))}return Promise.all(Gt)}).then(function(){q=!1,St(),ee.trigger(i.Z.STREAM_UPDATED,{streamInfo:Fe}),Bt()})})},reset:function(gt){N&&(N.reset(),N=null),C&&Fe&&C.clearDataForStream(Fe.id),Y&&(Y.reset(),Y=null),_e(gt),Fe=null,ee.off(i.Z.DATA_UPDATE_COMPLETED,jt,r),ee.off(i.Z.BUFFERING_COMPLETED,qt,r),ee.off(i.Z.INBAND_EVENTS,kt,r),Re&&(ee.off(i.Z.KEY_ERROR,Ve,r),ee.off(i.Z.SERVER_CERTIFICATE_UPDATED,Ve,r),ee.off(i.Z.LICENSE_REQUEST_COMPLETE,Ve,r),ee.off(i.Z.KEY_SYSTEM_SELECTED,Ve,r),ee.off(i.Z.KEY_SESSION_CREATED,Ve,r),ee.off(i.Z.KEY_STATUSES_CHANGED,Ve,r))},getProcessors:rn,setMediaSource:function(gt){return new Promise(function(Bt,Gt){for(var Zt=[],Ke=0;Ke<y.length;)Tt(y[Ke].getMediaInfo())?(Zt.push(y[Ke].setMediaSource(gt)),Ke++):(y[Ke].reset(),y.splice(Ke,1));Promise.all(Zt).then(function(){for(var yt=0;yt<y.length;yt++)y[yt].dischargePreBuffer();if(y.length===0){var Ye="No streams to play.";ue.error(new k.Z(te.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ye+"nostreams",p.getValue())),c.fatal(Ye)}Bt()}).catch(function(yt){c.error(yt),Gt(yt)})})},isMediaCodecCompatible:function(gt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return cn(gt,e.Z.VIDEO,Bt)&&cn(gt,e.Z.AUDIO,Bt)},isProtectionCompatible:function(gt){return!gt||un(e.Z.VIDEO,gt)&&un(e.Z.AUDIO,gt)},getPreloaded:fn,getIsEndedEventSignaled:function(){return fe},setIsEndedEventSignaled:le,getAdapter:function(){return R},getHasFinishedBuffering:function(){return m},setPreloaded:an,startScheduleControllers:function(){for(var gt=y.length,Bt=0;Bt<gt&&y[Bt];Bt++)y[Bt].getScheduleController().startScheduleTimer()},prepareTrackChange:function(gt){if(T&&Fe){m=!1;var Bt=gt.newMediaInfo,Gt=p.getValue();R.setCurrentMediaInfo(Fe.id,Bt.type,Bt);var Zt=Ht(Bt);if(Zt){var Ke=U.getTime();c.info("Stream -  Process track changed at current time "+Ke),Gt.refreshManifestOnSwitchTrack?(x.push(gt),M.getIsUpdating()||(c.debug("Stream -  Refreshing manifest for switch track"),M.refreshManifest())):Zt.selectMediaInfo(Bt).then(function(){Bt.type!==e.Z.VIDEO&&Bt.type!==e.Z.AUDIO||C.updateTopQualityIndex(Bt),Zt.prepareTrackSwitch()})}}},prepareQualityChange:function(gt){var Bt=Kt(gt.mediaType);Bt&&Bt.prepareQualityChange(gt)}},function(){try{se=(0,_.Z)(re).getInstance(),c=se.getLogger(r),_e(),ne=(0,Yr.Z)(re).getInstance(),Y=jr(re).create({updateEventName:i.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:i.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),N=qr(re).create({streamInfo:Fe,mediaPlayerModel:L,dashMetrics:Z,errHandler:ue,settings:dt,boxParser:ne,dashConstants:n.Z,urlUtils:ie})}catch(gt){throw gt}}(),r}ai.__dashjs_factory_name="Stream";const oi=h.Z.getClassFactory(ai),Ri=function u(r){(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=r||null,this.type=Ae.w.CONTENT_STEERING_TYPE,this.responseType="json"},Nn=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Er(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne=this.context,se=(0,Ne.Z)(ne).getInstance();function fe(C){p(C,"baseUrl")}function x(C){p(C,"location")}function re(C){if(C&&C.request&&C.request.serviceLocation&&C.request.requestStartDate&&C.request.requestEndDate&&!isNaN(C.request.bytesTotal)){var U=C.request.serviceLocation,me=C.request.requestEndDate.getTime()-C.request.requestStartDate.getTime();ie(U,parseInt(8*C.request.bytesTotal/me*1e3))}}function ee(C){C&&C.httpRequest&&C.httpRequest._serviceLocation&&!isNaN(C.throughput)&&ie(C.httpRequest._serviceLocation,1e3*C.throughput)}function ie(C,U){A[C]||(A[C]=[]),A[C].push(U),A[C].length>4&&A[C].shift()}function p(C,U){if(C&&C.request&&C.request.serviceLocation){var me=C.request.serviceLocation;y[U].all.indexOf(me)===-1&&y[U].all.push(me),y[U].current=me}}function L(){var C=q.getValue(),U=ge.getContentSteering(C);return U||(U=H.getServiceDescriptionSettings().contentSteering),U}function Z(){return new Promise(function(C){try{var U=L();if(!U||!U.serverUrl)return void C();var me=function(Re){var Me=Re.serverUrl;c&&c.reloadUri&&(Me=se.isRelative(c.reloadUri)?se.resolve(c.reloadUri,Re.serverUrl):c.reloadUri);var Ee=[],Fe=y.baseUrl.all.concat(y.location.all);if(Fe.length>0){var dt=Fe.map(function(Tt){var Ct=function(_e){if(!_e||!A[_e]||A[_e].length===0)return-1;var le=A[_e].reduce(function(Oe,pe){return Oe+pe})/A[_e].length;return parseInt(le)}(Tt);return{serviceLocation:Tt,throughput:Ct}});dt.sort(function(Tt,Ct){return Ct.throughput-Tt.throughput});var Je="",rt="";dt.forEach(function(Tt,Ct){Ct!==0&&(Je="".concat(Je,","),Tt.throughput>-1&&(rt="".concat(rt,","))),Je="".concat(Je).concat(Tt.serviceLocation),Tt.throughput>-1&&(rt="".concat(rt).concat(Tt.throughput))}),Ee.push({key:"_DASH_pathway",value:'"'.concat(Je,'"')}),Ee.push({key:"_DASH_throughput",value:rt})}return Me=sn.Z.addAditionalQueryParameterToUrl(Me,Ee)}(U),Se=new Ri(me);m.load({request:Se,success:function(Re){(function(Me){Me&&Me[n.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(Me[n.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((c=new Nn).version=Me[n.Z.CONTENT_STEERING_RESPONSE.VERSION],Me[n.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Me[n.Z.CONTENT_STEERING_RESPONSE.TTL])&&(c.ttl=Me[n.Z.CONTENT_STEERING_RESPONSE.TTL]),Me[n.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(c.reloadUri=Me[n.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Me[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(c.pathwayPriority=Me[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Me[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(c.pathwayClones=Me[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],c.pathwayClones=c.pathwayClones.filter(function(Ee){return function(Fe){return Fe[n.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&Fe[n.Z.CONTENT_STEERING_RESPONSE.ID]&&Fe[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&Fe[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][n.Z.CONTENT_STEERING_RESPONSE.HOST]}(Ee)})),K())})(Re),Y.trigger(t.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:c,url:me}),C()},error:function(Re,Me,Ee,Fe){(function(dt,Je){try{switch(r.warn("Error fetching data from content steering server",dt),Je.status){case 410:break;case 429:var rt=Je&&Je.getResponseHeader?Je.getResponseHeader("retry-after"):null;rt!==null&&(c||(c={}),c.ttl=parseInt(rt)),K();break;default:K()}}catch(Tt){r.error(Tt)}})(Re,Fe),C(Re)},complete:function(){y.baseUrl.all=M(y.baseUrl),y.location.all=M(y.location)}})}catch(Re){C(Re)}})}function M(C){return C.all&&C.all.length!==0&&C.current?C.all.filter(function(U){return U===C.current}):[]}function R(C){try{var U=[];return C&&C.length!==0&&c&&c.pathwayClones&&c.pathwayClones.length!==0&&c.pathwayClones.forEach(function(me){var Se=C.filter(function(Fe){return me[n.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===Fe.serviceLocation}),Re=null;if(Se&&Se.length>0&&(Re=Se[0]),Re){var Me=new URL(Re.url),Ee={synthesizedUrl:"".concat(me[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][n.Z.CONTENT_STEERING_RESPONSE.HOST]).concat(Me.pathname),serviceLocation:me[n.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:me[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][n.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Re};U.push(Ee)}}),U}catch(me){return r.error(me),[]}}function K(){c&&c.ttl&&!isNaN(c.ttl)&&(T&&clearTimeout(T),T=setTimeout(function(){Z()},1e3*c.ttl))}function W(){T&&clearTimeout(T),T=null}function ue(){c=null,A={},y={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},W()}return u={reset:function(){ue(),Y.off(t.Z.FRAGMENT_LOADING_STARTED,fe,u),Y.off(t.Z.MANIFEST_LOADING_STARTED,x,u),Y.off(t.Z.MANIFEST_LOADING_FINISHED,re,u),Y.off(t.Z.THROUGHPUT_MEASUREMENT_STORED,ee,u)},setConfig:function(C){C&&(C.adapter&&(ge=C.adapter),C.errHandler&&(w=C.errHandler),C.dashMetrics&&(G=C.dashMetrics),C.mediaPlayerModel&&(V=C.mediaPlayerModel),C.requestModifier&&(N=C.requestModifier),C.manifestModel&&(q=C.manifestModel),C.serviceDescriptionController&&(H=C.serviceDescriptionController),C.eventBus&&(Y=C.eventBus))},loadSteeringData:Z,getCurrentSteeringResponseData:function(){return c},shouldQueryBeforeStart:function(){var C=L();return!!C&&C.queryBeforeStart},getSteeringDataFromManifest:L,stopSteeringRequestTimer:W,getSynthesizedBaseUrlElements:function(C){try{return R(C).map(function(U){var me=new er(U.synthesizedUrl,U.serviceLocation);return me.queryParams=U.queryParams,me.dvb_priority=U.reference.dvb_priority,me.dvb_weight=U.reference.dvb_weight,me.availabilityTimeOffset=U.reference.availabilityTimeOffset,me.availabilityTimeComplete=U.reference.availabilityTimeComplete,me})}catch(U){return r.error(U),[]}},getSynthesizedLocationElements:function(C){try{return R(C).map(function(U){var me=new Ut(U.synthesizedUrl,U.serviceLocation);return me.queryParams=U.queryParams,me})}catch(U){return r.error(U),[]}},initialize:function(){m=zn(ne).create({errHandler:w,dashMetrics:G,mediaPlayerModel:V,requestModifier:N,errors:te}),Y.on(t.Z.FRAGMENT_LOADING_STARTED,fe,u),Y.on(t.Z.MANIFEST_LOADING_STARTED,x,u),Y.on(t.Z.MANIFEST_LOADING_FINISHED,re,u),Y.on(t.Z.THROUGHPUT_MEASUREMENT_STORED,ee,u)}},r=(0,_.Z)(ne).getInstance().getLogger(u),ue(),u}Er.__dashjs_factory_name="ContentSteeringController";const vr=h.Z.getSingletonFactory(Er);function _r(){var u,r,c,y=this.context,A=(0,st.Z)(y).getInstance();return u={select:function(T){if(!T||T.length===0)return null;var m=null;return A.get().streaming.applyContentSteering&&(m=function(w){var G=c.getCurrentSteeringResponseData();return G&&G.pathwayPriority&&G.pathwayPriority.length>0?function(){for(var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=0,H=null,Y=function(){var ge=V[N],ne=q.findIndex(function(se){return se.serviceLocation&&se.serviceLocation===ge});if(ne!==-1&&!r.contains(q[ne].serviceLocation))return H=q[ne],"break";N+=1};N<V.length&&Y()!=="break";);return H}(G.pathwayPriority,w):null}(T)),m||(m=function(w){return w[0]}(T)),m},setConfig:function(T){T.blacklistController&&(r=T.blacklistController),T.contentSteeringController&&(c=T.contentSteeringController)},reset:function(){r.reset()}},r=jr(y).create({updateEventName:i.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:i.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),c=vr(y).getInstance(),u}_r.__dashjs_factory_name="LocationSelector";const wi=h.Z.getClassFactory(_r);function or(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge=this.context,ne=(0,g.Z)(ge).getInstance(),se=(0,Ne.Z)(ge).getInstance();function fe(){c=NaN,m=!1,A=!0,T=!1,x()}function x(){y!==null&&(clearTimeout(y),y=null)}function re(W){x(),T||(isNaN(W)&&!isNaN(c)&&(W=1e3*c),isNaN(W)||(r.debug("Refresh manifest in "+W+" milliseconds."),y=setTimeout(L,W)))}function ee(){var W=arguments.length>0&&arguments[0]!==void 0&&arguments[0];m=!0;var ue=G.getValue(),C=ue.url,U=null,me=q.getPatchLocation(ue),Se=V.select(me),Re=null;if(Se&&!W)C=Se.url,U=Se.serviceLocation,Re=Se.queryParams;else{var Me=ie(ue),Ee=V.select(Me);Ee&&(C=Ee.url,U=Ee.serviceLocation,Re=Ee.queryParams)}se.isRelative(C)&&(C=se.resolve(C,ue.url)),w.load(C,U,Re)}function ie(W){var ue=q.getLocation(W),C=H.getSynthesizedLocationElements(ue);return ue.concat(C)}function p(W){if(W){if(q.getIsPatch(W)){var ue=W;W=G.getValue();var C=q.isPatchValid(W,ue),U=C;if(C){var me=q.getPublishTime(W);U=q.applyPatchToManifest(W,ue);var Se=q.getPublishTime(W);U=me.getTime()!=Se.getTime()}if(!U)return r.debug("Patch provided is invalid, performing full manifest refresh"),void ee(!0);W.loadedTime=new Date}}else(W=G.getValue()).loadedTime=new Date;if(G.getValue()&&G.getValue().type===n.Z.DYNAMIC&&W.type===n.Z.STATIC)return ne.trigger(i.Z.DYNAMIC_TO_STATIC),m=!1,void(T=!0);G.setValue(W);var Re=new Date,Me=(Re.getTime()-W.loadedTime.getTime())/1e3;1e3*(c=q.getManifestUpdatePeriod(W,Me))>2147483647&&(c=2147483647e-3),ne.trigger(i.Z.MANIFEST_UPDATED,{manifest:W}),r.info("Manifest has been refreshed at "+Re+"["+Re.getTime()/1e3+"] "),A||re()}function L(){A||(m?re(Y.get().streaming.manifestUpdateRetryInterval):ee())}function Z(W){W.error?W.error.code===te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&N.error(W.error):p(W.manifest)}function M(){A=!1,re()}function R(){(A=!Y.get().streaming.scheduling.scheduleWhilePaused)&&x()}function K(){m=!1}return u={initialize:function(){fe(),ne.on(i.Z.STREAMS_COMPOSED,K,this),ne.on(t.Z.PLAYBACK_STARTED,M,this),ne.on(t.Z.PLAYBACK_PAUSED,R,this),ne.on(i.Z.INTERNAL_MANIFEST_LOADED,Z,this)},setManifest:function(W){p(W)},refreshManifest:ee,getIsUpdating:function(){return m},setConfig:function(W){W&&(W.manifestModel&&(G=W.manifestModel),W.adapter&&(q=W.adapter),W.manifestLoader&&(w=W.manifestLoader),W.errHandler&&(N=W.errHandler),W.locationSelector&&(V=W.locationSelector),W.settings&&(Y=W.settings),W.contentSteeringController&&(H=W.contentSteeringController))},reset:function(){ne.off(t.Z.PLAYBACK_STARTED,M,this),ne.off(t.Z.PLAYBACK_PAUSED,R,this),ne.off(i.Z.STREAMS_COMPOSED,K,this),ne.off(i.Z.INTERNAL_MANIFEST_LOADED,Z,this),fe()}},r=(0,_.Z)(ge).getInstance().getLogger(u),V=wi(ge).create(),u}or.__dashjs_factory_name="ManifestUpdater";const si=h.Z.getClassFactory(or);function lr(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se=this.context,fe=(0,g.Z)(se).getInstance(),x=(0,Ne.Z)(se).getInstance();function re(){w=[],G=[],V=null,q=null,H=null,N=NaN,c=!1,y=!1,Y=A.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ee(){A.get().streaming.utcSynchronization.enabled&&!c&&!y&&H&&H.value&&H.schemeIdUri&&!isNaN(N)&&!isNaN(A.get().streaming.utcSynchronization.backgroundAttempts)&&(q&&(Date.now()-q)/1e3<30||(w=[],y=!0,ie(isNaN(A.get().streaming.utcSynchronization.backgroundAttempts)?2:A.get().streaming.utcSynchronization.backgroundAttempts)))}function ie(Ee){try{if(Ee<=0)return void Re();var Fe=Date.now();T[H.schemeIdUri](H.value,function(dt){var Je=Date.now(),rt=L(Fe,Je,dt);w.push(rt),ie(Ee-1)},function(){Re()})}catch{Re()}}function p(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Fe=Ee||0;if(!G||G.length===0||Fe>=G.length)Z();else{var dt=G[Fe];if(dt)if(T.hasOwnProperty(dt.schemeIdUri)){var Je=new Date().getTime();T[dt.schemeIdUri](dt.value,function(rt){var Tt=new Date().getTime(),Ct=L(Je,Tt,rt);H=dt,Z(Ct)},function(){p(Fe+1)})}else p(Fe+1);else Z()}}function L(Ee,Fe,dt){return dt-(Fe-(Fe-Ee)/2)}function Z(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,Fe=isNaN(Ee);Fe&&A.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?me():Se(Fe,Ee)}function M(Ee){var Fe=Date.parse(Ee);return isNaN(Fe)&&(Fe=function(dt){var Je,rt,Tt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(dt);return Je=Date.UTC(parseInt(Tt[1],10),parseInt(Tt[2],10)-1,parseInt(Tt[3],10),parseInt(Tt[4],10),parseInt(Tt[5],10),Tt[6]&&(parseInt(Tt[6],10)||0),Tt[7]&&1e3*parseFloat(Tt[7])||0),Tt[9]&&Tt[10]&&(rt=60*parseInt(Tt[9],10)+parseInt(Tt[10],10),Je+=(Tt[8]==="+"?-1:1)*rt*60*1e3),new Date(Je).getTime()}(Ee)),Fe}function R(Ee){return Date.parse(Ee)}function K(Ee){return Date.parse(Ee)}function W(Ee,Fe,dt){dt()}function ue(Ee,Fe,dt){var Je=M(Ee);isNaN(Je)?dt():Fe(Je)}function C(Ee,Fe,dt,Je,rt){var Tt,Ct,_e=!1,le=new XMLHttpRequest,Oe=rt?Ae.w.HEAD:Ae.w.GET,pe=Fe.match(/\S+/g);if(Fe=pe.shift(),Tt=function(){_e||(_e=!0,pe.length?C(Ee,pe.join(" "),dt,Je,rt):Je())},Ct=function(){var Ge,Ve;le.status===200&&(Ge=rt?le.getResponseHeader("Date"):le.response,Ve=Ee(Ge),isNaN(Ve)||(dt(Ve),_e=!0))},x.isRelative(Fe)){var Pe=ne.resolve();Pe&&(Fe=x.resolve(Fe,Pe.url))}le.open(Oe,Fe),le.timeout=5e3,le.onload=Ct,le.onloadend=Tt,le.send()}function U(Ee,Fe,dt){C(K,Ee,Fe,dt,!0)}function me(){var Ee=m.getLatestMPDRequestHeaderValueByID("Date"),Fe=Ee!==null?new Date(Ee).getTime():Number.NaN;isNaN(Fe)?Se(!0):Se(!1,Fe-Date.now())}function Se(Ee,Fe){if(isNaN(N)||isNaN(Fe)||Ee||function(Je){try{var rt,Tt=Me(Je),Ct=isNaN(Y)?30:Y,_e=isNaN(A.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:A.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,le=isNaN(A.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:A.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Oe=isNaN(A.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:A.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Tt?(rt=Math.min(Ct*_e,le),r.debug("Increasing timeBetweenSyncAttempts to ".concat(rt))):(rt=Math.max(Ct/_e,Oe),r.debug("Decreasing timeBetweenSyncAttempts to ".concat(rt))),Y=rt}catch{}}(Fe),!Ee&&!isNaN(Fe)){V=Date.now(),c=!1;var dt=isNaN(N);N=Fe,dt&&ee(),r.debug("Completed UTC sync. Setting client - server offset to ".concat(Fe))}Ee&&(H=null,c=!1,ge.error(new k.Z(te.TIME_SYNC_FAILED_ERROR_CODE,te.TIME_SYNC_FAILED_ERROR_MESSAGE))),fe.trigger(i.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Fe}),fe.trigger(i.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Re(){if(w&&w.length!==0){var Ee=w.reduce(function(Fe,dt){return Fe+dt},0)/w.length;Me(Ee)?r.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(r.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ee)),N=Ee,fe.trigger(i.Z.UPDATE_TIME_SYNC_OFFSET,{offset:N})),y=!1,q=Date.now()}}function Me(Ee){try{if(isNaN(N))return!0;var Fe=A.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(A.get().streaming.utcSynchronization.maximumAllowedDrift)?A.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ee>=N-Fe&&Ee<=N+Fe}catch{return!0}}return u={initialize:function(){re(),T={"urn:mpeg:dash:utc:http-head:2014":U,"urn:mpeg:dash:utc:http-xsdate:2014":C.bind(null,M),"urn:mpeg:dash:utc:http-iso:2014":C.bind(null,R),"urn:mpeg:dash:utc:direct:2014":ue,"urn:mpeg:dash:utc:http-head:2012":U,"urn:mpeg:dash:utc:http-xsdate:2012":C.bind(null,M),"urn:mpeg:dash:utc:http-iso:2012":C.bind(null,R),"urn:mpeg:dash:utc:direct:2012":ue,"urn:mpeg:dash:utc:http-ntp:2014":W,"urn:mpeg:dash:utc:ntp:2014":W,"urn:mpeg:dash:utc:sntp:2014":W}},attemptSync:function(Ee,Fe){G=Ee,c||(function(dt){try{if(!dt||!A.get().streaming.utcSynchronization.enabled)return!1;var Je=isNaN(Y)?30:Y;return!(V&&Je&&!isNaN(Je))||(Date.now()-V)/1e3>=Je}catch{return!0}}(Fe)?(c=!0,p()):fe.trigger(i.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ee){Ee&&(Ee.dashMetrics&&(m=Ee.dashMetrics),Ee.baseURLController&&(ne=Ee.baseURLController),Ee.errHandler&&(ge=Ee.errHandler),Ee.settings&&(A=Ee.settings))},reset:function(){re(),fe.off(i.Z.ATTEMPT_BACKGROUND_SYNC,ee,u)}},r=(0,_.Z)(se).getInstance().getLogger(u),fe.on(i.Z.ATTEMPT_BACKGROUND_SYNC,ee,u),u}lr.__dashjs_factory_name="TimeSyncController";var Hr=h.Z.getSingletonFactory(lr);Hr.HTTP_TIMEOUT_MS=5e3,h.Z.updateSingletonFactory(lr.__dashjs_factory_name,Hr);const po=Hr;function na(){var u,r,c,y=this.context;return u={createMediaSource:function(){var A="WebKitMediaSource"in window;return"MediaSource"in window?r=new MediaSource:A&&(r=new WebKitMediaSource),r},attachMediaSource:function(A){var T=window.URL.createObjectURL(r);return A.setSource(T),T},detachMediaSource:function(A){A.setSource(null)},setDuration:function A(T){r&&r.readyState==="open"&&(T===null&&isNaN(T)||r.duration!==T&&(function(m){for(var w=m.sourceBuffers,G=0;G<w.length;G++)if(w[G].updating)return!0;return!1}(r)?setTimeout(A.bind(null,T),50):(c.info("Set MediaSource duration:"+T),r.duration=T)))},setSeekable:function(A,T){r&&typeof r.setLiveSeekableRange=="function"&&typeof r.clearLiveSeekableRange=="function"&&r.readyState==="open"&&A>=0&&A<T&&(r.clearLiveSeekableRange(),r.setLiveSeekableRange(A,T))},signalEndOfStream:function(A){if(A&&A.readyState==="open"){for(var T=A.sourceBuffers,m=0;m<T.length;m++)if(T[m].updating||T[m].buffered.length===0)return;c.info("call to mediaSource endOfStream"),A.endOfStream()}}},c=(0,_.Z)(y).getInstance().getLogger(u),u}na.__dashjs_factory_name="MediaSourceController";const yo=h.Z.getSingletonFactory(na);function ra(){var u,r,c,y,A,T,m,w,G,V,q,N="urn:mpeg:dash:event:2012",H="discarded",Y="updated",ge="added",ne=this.context,se=(0,g.Z)(ne).getInstance();function fe(){if(!m||!w)throw new Error("setConfig function has to be called previously")}function x(){q=!1,c={},y={},A=null,V=!1,T=Date.now()/1e3}function re(){try{if(!V){V=!0;var W=w.getTime(),ue=W-T;ue=T>0?Math.max(0,ue):0,ee(y,ue,W),ee(c,ue,W),ie(y),ie(c),T=W,V=!1}}catch(C){V=!1,r.error(C)}}function ee(W,ue,C){try{M(W,function(U){if(U!==void 0){var me=isNaN(U.duration)?0:U.duration;U.calculatedPresentationTime<=C&&U.calculatedPresentationTime+ue+me>=C?K(U,t.Z.EVENT_MODE_ON_START):(R(C,me+ue,U.calculatedPresentationTime)||function(Se){try{var Re=Se.eventStream.period.start+Se.eventStream.period.duration;return Se.calculatedPresentationTime>Re}catch(Me){return r.error(Me),!1}}(U))&&(r.debug("Removing event ".concat(U.id," from period ").concat(U.eventStream.period.id," as it is expired or invalid")),function(Se,Re){try{var Me=Re.eventStream.schemeIdUri,Ee=Re.eventStream.period.id,Fe=Re.eventStream.value,dt=Re.id;Se[Ee][Me]=Se[Ee][Me].filter(function(Je){return Fe&&Je.eventStream.value&&Je.eventStream.value!==Fe||Je.id!==dt}),Se[Ee][Me].length===0&&delete Se[Ee][Me]}catch(Je){r.error(Je)}}(W,U))}})}catch(U){r.error(U)}}function ie(W){try{for(var ue in W)W.hasOwnProperty(ue)&&Object.keys(W[ue]).length===0&&delete W[ue]}catch(C){r.error(C)}}function p(W,ue){var C=arguments.length>2&&arguments[2]!==void 0&&arguments[2],U=W.eventStream.schemeIdUri,me=W.eventStream.value,Se=W.id,Re=H;ue[U]||(ue[U]=[]);var Me=ue[U].findIndex(function(Fe){return(!me||Fe.eventStream.value&&Fe.eventStream.value===me)&&Fe.id===Se});if(Me===-1)ue[U].push(W),W.triggeredReceivedEvent=!1,W.triggeredStartEvent=!1,Re=ge;else if(C){var Ee=ue[U][Me];W.triggeredReceivedEvent=Ee.triggeredReceivedEvent,W.triggeredStartEvent=Ee.triggeredStartEvent,ue[U][Me]=W,Re=Y}return Re}function L(W){try{if(W.eventStream.value==1){var ue,C=W.calculatedPresentationTime;ue=W.calculatedPresentationTime==4294967295?NaN:W.calculatedPresentationTime+W.duration,se.trigger(t.Z.MANIFEST_VALIDITY_CHANGED,{id:W.id,validUntil:C,newDuration:ue,newManifestValidAfter:NaN},{mode:t.Z.EVENT_MODE_ON_START})}}catch(U){r.error(U)}}function Z(W){try{var ue=w.getTime();M(W,function(C){var U=C.eventStream&&C.eventStream.period&&!isNaN(C.eventStream.period.duration)?C.eventStream.period.duration:NaN,me=C.eventStream&&C.eventStream.period&&!isNaN(C.eventStream.period.start)?C.eventStream.period.start:NaN;if(!isNaN(U)&&!isNaN(me)){var Se=C.calculatedPresentationTime;Math.abs(Se-ue)<300&&K(C,t.Z.EVENT_MODE_ON_START)}})}catch(C){r.error(C)}}function M(W,ue){try{if(W)for(var C=Object.keys(W),U=0;U<C.length;U++)for(var me=W[C[U]],Se=Object.keys(me),Re=0;Re<Se.length;Re++)me[Se[Re]].forEach(function(Me){Me!==void 0&&ue(Me)})}catch(Me){r.error(Me)}}function R(W,ue,C){try{return W-ue>C}catch(U){return r.error(U),!1}}function K(W,ue){try{var C=w.getTime(),U=W.id;if(ue===t.Z.EVENT_MODE_ON_RECEIVE&&!W.triggeredReceivedEvent)return r.debug("Received event ".concat(U)),W.triggeredReceivedEvent=!0,void se.trigger(W.eventStream.schemeIdUri,{event:W},{mode:ue});W.triggeredStartEvent||(W.eventStream.schemeIdUri===N&&W.eventStream.value==1?W.duration===0&&W.presentationTimeDelta===0||(r.debug("Starting manifest refresh event ".concat(U," at ").concat(C)),function(){try{fe(),m.refreshManifest()}catch(me){r.error(me)}}()):W.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&W.eventStream.value==1?(r.debug("Starting callback event ".concat(U," at ").concat(C)),function(me){try{(0,Pt.Z)(ne).create({}).load({method:"get",url:me,request:{responseType:"arraybuffer"}})}catch(Se){r.error(Se)}}(W.messageData)):(r.debug("Starting event ".concat(U," from period ").concat(W.eventStream.period.id," at ").concat(C)),se.trigger(W.eventStream.schemeIdUri,{event:W},{mode:ue})),W.triggeredStartEvent=!0)}catch(me){r.error(me)}}return u={addInlineEvents:function(W,ue){try{if(fe(),c[ue]||(c[ue]={}),W)for(var C=0;C<W.length;C++){var U=W[C];if(!R(w.getTime(),isNaN(U.duration)?0:U.duration,U.calculatedPresentationTime)){var me=p(U,c[ue],!0);me===ge?(r.debug("Added inline event with id ".concat(U.id," from period ").concat(ue)),K(U,t.Z.EVENT_MODE_ON_RECEIVE)):me===Y&&r.debug("Updated inline event with id ".concat(U.id," from period ").concat(ue))}}}catch(Se){throw Se}},addInbandEvents:function(W,ue){try{fe(),y[ue]||(y[ue]={});for(var C=0;C<W.length;C++){var U=W[C];R(w.getTime(),isNaN(U.duration)?0:U.duration,U.calculatedPresentationTime)||(p(U,y[ue],!1)===ge?(U.eventStream.schemeIdUri===N&&L(U),r.debug("Added inband event with id ".concat(U.id," from period ").concat(ue)),K(U,t.Z.EVENT_MODE_ON_RECEIVE)):r.debug("Inband event with scheme_id_uri ".concat(U.eventStream.schemeIdUri,", value ").concat(U.eventStream.value,", period id ").concat(ue," and event id ").concat(U.id," was ignored because it has been added before.")))}re()}catch(me){throw me}},getInbandEvents:function(){return y},getInlineEvents:function(){return c},start:function(){try{fe(),r.debug("Start Event Controller");var W=G.get().streaming.eventControllerRefreshDelay;q||isNaN(W)||(q=!0,A=setInterval(re,W))}catch(ue){throw ue}},setConfig:function(W){try{if(!W)return;W.manifestUpdater&&(m=W.manifestUpdater),W.playbackController&&(w=W.playbackController),W.settings&&(G=W.settings)}catch(ue){throw ue}},reset:function(){(function(){try{A!==null&&q&&(clearInterval(A),A=null,q=!1,function(){try{Z(y),Z(c)}catch(W){r.error(W)}}())}catch(W){throw W}})(),x()}},r=(0,_.Z)(ne).getInstance().getLogger(u),x(),u}ra.__dashjs_factory_name="EventController";const Eo=h.Z.getSingletonFactory(ra),Dr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Ni(u,r){(r==null||r>u.length)&&(r=u.length);for(var c=0,y=new Array(r);c<r;c++)y[c]=u[c];return y}function ia(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re,ee,ie,p,L,Z,M,R,K,W,ue,C,U,me,Se,Re,Me,Ee,Fe,dt,Je,rt,Tt,Ct,_e,le,Oe,pe,Pe,Ge=this.context,Ve=(0,g.Z)(Ge).getInstance();function ct(){if(!(T&&T.hasOwnProperty("load")&&ee&&ee.hasOwnProperty("initialize")&&ee.hasOwnProperty("reset")&&ee.hasOwnProperty("getClientTimeOffset")&&m&&re&&G&&me))throw new Error(e.Z.MISSING_CONFIG_ERROR)}function St(){if(!A||!A.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function qt(){(function(){try{var Xe=w.getStreamsInfo();if(!p&&Xe.length===0)throw new Error("There are no periods in the MPD");p&&Xe.length>0&&G.updateManifestUpdateInfo({currentTime:me.getTime(),buffered:U.getBufferRange(),presentationStartTime:Xe[0].start,clientTimeOffset:ee.getClientTimeOffset()}),ie.length>0&&function(gn){gn.length!==0?ie=ie.filter(function(tn){var Dn=gn.filter(function(bn){return bn.id===tn.getId()}).length>0||tn.getId()===p.getId();return Dn||(r.debug("Removing stream ".concat(tn.getId())),tn.reset(!0)),Dn}):r.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Xe);for(var bt=[],Vt=0,Jt=Xe.length;Vt<Jt;Vt++){var dn=Xe[Vt];bt.push(kt(dn)),G.addManifestUpdateStreamInfo(dn)}Promise.all(bt).then(function(){return new Promise(function(gn,tn){p?gn():Ht(Xe,gn,tn)})}).then(function(){Ve.trigger(i.Z.STREAMS_COMPOSED),xt()}).catch(function(gn){throw gn})}catch(gn){re.error(new k.Z(te.MANIFEST_ERROR_ID_NOSTREAMS_CODE,gn.message+" nostreamscomposed",m.getValue())),ue=!0,xr()}})()}function jt(){le=!0}function kt(Xe){var bt=Wr(Xe.id);return bt?bt.updateData(Xe):(bt=oi(Ge).create({manifestModel:m,mediaPlayerModel:Re,dashMetrics:G,manifestUpdater:A,adapter:w,timelineConverter:ee,capabilities:c,capabilitiesFilter:y,errHandler:re,baseURLController:H,segmentBaseController:Y,textController:Z,abrController:ne,playbackController:me,eventController:fe,mediaController:se,protectionController:L,videoModel:U,streamInfo:Xe,settings:_e}),ie.push(bt),bt.initialize(),Promise.resolve())}function Ht(Xe,bt,Vt){try{Ke();var Jt=G.getCurrentDVRInfo().range;if(Jt.end<Jt.start){Oe&&clearTimeout(Oe);var dn=Math.min(1e3*(-1*(Jt.end-Jt.start)+2),2147483647);return r.debug("Waiting for ".concat(dn," ms before playback can start")),Ve.trigger(i.Z.AST_IN_FUTURE,{delay:dn}),void(Oe=setTimeout(function(){Ht(Xe,bt,Vt)},dn))}_e.get().streaming.applyProducerReferenceTime&&Se.calculateProducerReferenceTimeOffsets(Xe);var gn=Xe[0].manifestInfo;if(_e.get().streaming.applyServiceDescription&&Se.applyServiceDescription(gn),w.getIsDynamic()){var tn=wr(Xe,gn);me.computeAndSetLiveDelay(tn,gn)}(_e.get().streaming.applyContentSteering&&N.shouldQueryBeforeStart()?N.loadSteeringData():Promise.resolve()).then(function(){var Dn=m.getValue();Dn&&H.update(Dn),Kt(),bt()}).catch(function(Dn){r.error(Dn),Kt(),bt()})}catch(Dn){Vt(Dn)}}function Kt(){var Xe=function(){var Jt;if(w.getIsDynamic()){var dn=G.getCurrentDVRInfo();Jt=(dn&&dn.range?dn.range.end:0)-me.getOriginalLiveDelay();var gn=dn?dn.range:null;if(gn){if(isNaN(pe)&&pe.toString().indexOf("posix:")===-1){var tn=Jn(!0);isNaN(tn)||(r.info("Start time from URI parameters: ".concat(tn)),Jt=Math.min(Jt,tn))}else{r.info("Start time provided by the app: ".concat(pe));var Dn=Yn(!0,pe);isNaN(Dn)||(Jt=Math.min(Jt,Dn))}var bn=_e.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Jt=Math.max(Jt,gn.start+bn)}}else if(Jt=Qr()[0].getStreamInfo().start,isNaN(pe)){var mr=Jn(!1);isNaN(mr)||(r.info("Start time from URI parameters: ".concat(mr)),Jt=Math.max(Jt,mr))}else{r.info("Start time provided by the app: ".concat(pe));var Fr=Yn(!1,pe);isNaN(Fr)||(Jt=Math.max(Jt,Fr))}return Jt}(),bt=Zt(Xe),Vt=bt!==null?bt:ie[0];Ve.trigger(i.Z.INITIAL_STREAM_SWITCH,{startTime:Xe}),rn(Vt,null,Xe),Je||(Je=setInterval(function(){!K&&me.getTimeToStreamEnd()<=0&&!me.isSeeking()&&Ve.trigger(i.Z.PLAYBACK_ENDED,{isLast:br().isLast})},200))}function rn(Xe,bt,Vt){try{if(K||!Xe||bt===Xe&&Xe.getIsActive())return;K=!0,Ve.trigger(i.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:bt?bt.getStreamInfo():null,toStreamInfo:Xe.getStreamInfo()});var Jt=!1;p=Xe,bt&&(Jt=Bt(Xe,bt),bt.deactivate(Jt)),Vt=isNaN(Vt)?!Jt&&bt?Xe.getStreamInfo().start:NaN:Vt,r.info("Switch to stream ".concat(Xe.getId(),". Seektime is ").concat(Vt,", current playback time is ").concat(me.getTime(),". Seamless period switch is set to ").concat(Jt)),Tt=Tt.filter(function(dn){return dn.getId()!==p.getId()}),me.initialize(br(),!!bt),U.getElement()?un(Vt,Jt,!1):en(Vt,Jt)}catch{K=!1}}function un(Xe,bt){var Vt,Jt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function dn(){if(C&&C.readyState==="open"){r.debug("MediaSource is open!"),window.URL.revokeObjectURL(Vt),C.removeEventListener("sourceopen",dn),C.removeEventListener("webkitsourceopen",dn),Sn();var tn=G.getCurrentDVRInfo();V.setSeekable(tn.range.start,tn.range.end),Jt?(isNaN(Xe)||me.seek(Xe,!0,!0),p.setMediaSource(C).then(function(){p.initializeForTextWithMediaSource(C)})):en(Xe,bt)}}function gn(){C.addEventListener("sourceopen",dn,!1),C.addEventListener("webkitsourceopen",dn,!1),Vt=V.attachMediaSource(U),r.debug("MediaSource attached to element.  Waiting on open...")}C?bt?en(Xe,bt):(V.detachMediaSource(U),gn()):(C=V.createMediaSource(),gn())}function en(Xe,bt){p.activate(C,bt?rt:void 0,Xe).then(function(Vt){if(Vt){var Jt=Object.keys(Vt);Jt.length>0&&Vt[Jt[0]].getBuffer().changeType&&(Ct=!0),rt=Vt}isNaN(Xe)||(Ve.trigger(i.Z.SEEK_TARGET,{time:Xe},{streamId:p.getId()}),me.seek(Xe,!1,!0),p.startScheduleControllers()),K=!1,Ve.trigger(i.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:br()})})}function cn(Xe){var bt=Zt(Xe.seekTime);bt&&bt!==p?bt&&bt!==p&&(an(),function(Vt,Jt){var dn=Vt&&!isNaN(Vt.seekTime)?Vt.seekTime:NaN,gn=p.getProcessors().map(function(tn){return tn.prepareOuterPeriodPlaybackSeeking(Vt)});Promise.all(gn).then(function(){rn(Jt,p,dn)}).catch(function(tn){re.error(tn)})}(Xe,bt)):(an(),function(Vt){p.getProcessors().forEach(function(Jt){return Jt.prepareInnerPeriodPlaybackSeeking(Vt)}),hr(Le.USER_REQUEST_STOP_REASON)}(Xe)),Tr(ve.SEEK_START_REASON)}function an(){fn()}function fn(){Tt&&Tt.length>0&&(Tt.forEach(function(Xe){Xe.deactivate(!0)}),Tt=[])}function gt(Xe){Xe.newMediaInfo.streamInfo.id===p.getId()&&(fn(),p.prepareTrackChange(Xe))}function Bt(Xe,bt){try{return _e.get().streaming.buffer.reuseExistingSourceBuffers&&(bt.isProtectionCompatible(Xe)||le)&&(Ct&&_e.get().streaming.buffer.useChangeTypeForTrackSwitch||bt.isMediaCodecCompatible(Xe,bt))}catch{return!1}}function Gt(Xe){var bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(C&&!Xe.getPreloaded()){var Vt=Bt(Xe,bt);Vt&&Xe.startPreloading(C,rt).then(function(){Tt.push(Xe)})}}function Zt(Xe){if(isNaN(Xe))return null;for(var bt=ie.length,Vt=0;Vt<bt;Vt++){var Jt=ie[Vt];if(Xe<parseFloat((Jt.getStartTime()+Jt.getDuration()).toFixed(5)))return Jt}return null}function Ke(){try{var Xe=w.getIsDynamic(),bt=w.getStreamsInfo()[0].manifestInfo,Vt=me.getTime(),Jt=ee.calcTimeShiftBufferWindow(ie,Xe),dn=In();if(Jt.start===void 0||Jt.end===void 0)return;dn&&dn.length!==0?dn.forEach(function(gn){G.addDVRInfo(gn.getType(),Vt,bt,Jt)}):G.addDVRInfo(e.Z.VIDEO,Vt,bt,Jt)}catch{}}function yt(Xe){if(Fe&&R){var bt=Re.getInitialBufferLevel(),Vt=[e.Z.TEXT];(isNaN(bt)||bt<=me.getBufferLevel(Vt)||w.getIsDynamic()&&bt>me.getLiveDelay())&&(Fe=!1,Tr(ve.INITIAL_PLAYOUT_START_REASON),me.play())}Xe&&Xe.mediaType&&G.addBufferLevel(Xe.mediaType,new Date,1e3*Xe.bufferLevel)}function Ye(Xe){Xe.streamInfo.id===p.getId()&&Xe.reason&&Xe.reason.forceReplace&&fn(),Wr(Xe.streamInfo.id).prepareQualityChange(Xe)}function Ie(){if(w.getIsDynamic()&&me.getOriginalLiveDelay()!==0&&p){var Xe=w.getStreamsInfo();if(Xe.length>0){var bt=Xe[0].manifestInfo,Vt=wr(Xe,bt);me.computeAndSetLiveDelay(Vt,bt)}}}function oe(){if(gr()){var Xe=U.getPlaybackQuality();Xe&&G.addDroppedFrames(Xe)}}function Ue(){r.debug("[onPlaybackStarted]"),!Fe&&Ee&&Tr(ve.RESUME_FROM_PAUSE_START_REASON),Fe&&(Fe=!1),dt&&(dt=!1,_e.get().streaming.applyContentSteering&&!N.shouldQueryBeforeStart()&&N.loadSteeringData()),Ee=!1}function at(Xe){r.debug("[onPlaybackPaused]"),Xe.ended||(Ee=!0,hr(Le.USER_REQUEST_STOP_REASON))}function Rt(Xe){r.debug("Stream with id ".concat(Xe.streamInfo.id," finished buffering"));var bt=Xe.streamInfo.isLast;C&&bt?(r.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),V.signalEndOfStream(C)):xt()}function xt(){if(p&&p.getHasFinishedBuffering())for(var Xe=function(){var dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var gn=dn||p||null;if(gn){var tn=gn.getStreamInfo();return ie.filter(function(Dn){var bn=Dn.getStreamInfo();return bn.start>tn.start&&tn.id!==bn.id})}}catch{return[]}}(p),bt=0;bt<Xe.length;){var Vt=Xe[bt],Jt=bt===0?p:Xe[bt-1];!Vt.getPreloaded()&&Jt.getHasFinishedBuffering()&&C&&Gt(Vt,Jt),bt+=1}}function nn(){Je&&(clearInterval(Je),Je=null)}function In(){return p?p.getProcessors():[]}function Xn(Xe){if(p&&!p.getIsEndedEventSignaled()){p.setIsEndedEventSignaled(!0);var bt=function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Jt=Vt||p||null;if(!Jt)return null;for(var dn=Jt.getStreamInfo(),gn=dn.start,tn=0,Dn=-1,bn=NaN;tn<ie.length;){var mr=ie[tn].getStreamInfo(),Fr=mr.start-gn;Fr>0&&(isNaN(bn)||Fr<bn)&&dn.id!==mr.id&&(bn=Fr,Dn=tn),tn+=1}return Dn>=0?ie[Dn]:null}();bt?(r.debug("StreamController onEnded, found next stream with id ".concat(bt.getStreamInfo().id,". Switching from ").concat(p.getStreamInfo().id," to ").concat(bt.getStreamInfo().id)),rn(bt,p,NaN)):(r.debug("StreamController no next stream found"),p.setIsEndedEventSignaled(!1)),hr(bt?Le.END_OF_PERIOD_STOP_REASON:Le.END_OF_CONTENT_STOP_REASON)}Xe&&Xe.isLast&&(nn(),N.stopSteeringRequestTimer())}function Sn(Xe){var bt=Xe||br().manifestInfo.duration;V.setDuration(bt)}function Jn(Xe){var bt=ge.getURIFragmentData();if(!bt||!bt.t)return NaN;var Vt=Qr()[0].getStreamInfo().start;return bt.t=bt.t.split(",")[0],dr(Xe,bt.t,Vt)}function Yn(Xe,bt){var Vt=0;return Xe||(Vt=Qr()[0].getStreamInfo().start),dr(Xe,bt,Vt)}function dr(Xe,bt,Vt){var Jt=w.getRegularPeriods()[0],dn=bt.toString(),gn=dn.indexOf("posix:")!==-1?dn.substring(6)==="now"?Date.now()/1e3:parseFloat(dn.substring(6)):NaN;return Xe&&!isNaN(gn)?ee.calcPresentationTimeFromWallTime(new Date(1e3*gn),Jt):parseFloat(dn)+Vt}function wr(Xe,bt){try{var Vt=NaN;if(bt&&!isNaN(bt.maxFragmentDuration)&&isFinite(bt.maxFragmentDuration))return bt.maxFragmentDuration;if(Xe&&Xe.length===1){var Jt=Xe[0],dn=[e.Z.VIDEO,e.Z.AUDIO,e.Z.TEXT].reduce(function(tn,Dn){var bn=w.getMediaInfoForType(Jt,Dn);return bn&&bn.isFragmented!==!1&&tn.push(bn),tn},[]).reduce(function(tn,Dn){var bn=w.getVoRepresentations(Dn);return bn&&bn.length>0&&bn.forEach(function(mr){mr&&tn.push(mr)}),tn},[]).reduce(function(tn,Dn){var bn=w.convertRepresentationToRepresentationInfo(Dn);return bn&&bn.fragmentDuration&&!isNaN(bn.fragmentDuration)&&tn.push(bn.fragmentDuration),tn},[]);Vt=Math.max.apply(Math,function(tn){if(Array.isArray(tn))return Ni(tn)}(gn=dn)||function(tn){if(typeof Symbol<"u"&&Symbol.iterator in Object(tn))return Array.from(tn)}(gn)||function(tn,Dn){if(tn){if(typeof tn=="string")return Ni(tn,Dn);var bn=Object.prototype.toString.call(tn).slice(8,-1);return bn==="Object"&&tn.constructor&&(bn=tn.constructor.name),bn==="Map"||bn==="Set"?Array.from(tn):bn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bn)?Ni(tn,Dn):void 0}}(gn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(Vt)?Vt:NaN}catch{return NaN}var gn}function sr(Xe){if(Xe.error)ue=!0,xr();else{r.info("Manifest updated... updating data system wide.");var bt=Xe.manifest;w.updatePeriods(bt);var Vt=w.getUTCTimingSources();!w.getIsDynamic()||Vt&&Vt.length!==0||Ve.trigger(t.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.WARNING,event:Dr.EVENTS.NO_UTC_TIMING_ELEMENT});var Jt=w.getIsDynamic()?Vt.concat(Me.getUTCTimingSources()):Vt;y.filterUnsupportedFeatures(bt).then(function(){H.initialize(bt),q.attemptSync(Jt,w.getIsDynamic())})}}function gr(){return!!p&&p.getHasVideoTrack()}function nr(){return!!p&&p.getHasAudioTrack()}function hr(Xe,bt){bt=bt||new Date,In().forEach(function(Vt){Vt.finalisePlayList(bt,Xe)}),G.addPlayList()}function Tr(Xe){G.createPlaylistMetrics(1e3*me.getTime(),Xe)}function Sr(Xe){if(Xe.error){var bt="";switch(Xe.error.code){case 1:bt="MEDIA_ERR_ABORTED";break;case 2:bt="MEDIA_ERR_NETWORK";break;case 3:bt="MEDIA_ERR_DECODE",Pe.counts.mediaErrorDecode+=1;break;case 4:bt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:bt="MEDIA_ERR_ENCRYPTED";break;default:bt="UNKNOWN"}bt==="MEDIA_ERR_DECODE"&&_e.get().errors.recoverAttempts.mediaErrorDecode>=Pe.counts.mediaErrorDecode?function(){r.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Vt=me.getTime();p.deactivate(!1),r.warn("MediaSource has been resetted. Resuming playback from time ".concat(Vt)),un(Vt,!1,!1)}():(W=!0,Xe.error.message&&(bt+=" ("+Xe.error.message+")"),Xe.error.msExtendedCode&&(bt+=" (0x"+(Xe.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),r.fatal("Video Element Error: "+bt),Xe.error&&r.fatal(Xe.error),re.error(new k.Z(Xe.error.code,bt)),xr())}}function br(){return p?p.getStreamInfo():null}function Wr(Xe){for(var bt=0,Vt=ie.length;bt<Vt;bt++)if(ie[bt].getId()===Xe)return ie[bt];return null}function Si(Xe){isNaN(Xe.newDuration)||Sn(Xe.newDuration)}function Lr(){ie=[],pe=NaN,L=null,K=!1,p=null,W=!1,ue=!1,Fe=!0,dt=!0,Ee=!1,R=!0,Je=null,le=!1,Ct=!1,Tt=[],Oe=null,Pe={counts:{mediaErrorDecode:0}}}function xr(){ct(),q.reset(),hr(W||ue?Le.FAILURE_STOP_REASON:Le.USER_REQUEST_STOP_REASON);for(var Xe=0,bt=ie?ie.length:0;Xe<bt;Xe++)ie[Xe].reset(W);Ve.off(t.Z.PLAYBACK_TIME_UPDATED,oe,u),Ve.off(t.Z.PLAYBACK_SEEKING,cn,u),Ve.off(t.Z.PLAYBACK_ERROR,Sr,u),Ve.off(t.Z.PLAYBACK_STARTED,Ue,u),Ve.off(t.Z.PLAYBACK_PAUSED,at,u),Ve.off(t.Z.PLAYBACK_ENDED,Xn,u),Ve.off(t.Z.METRIC_ADDED,Xr,u),Ve.off(t.Z.MANIFEST_VALIDITY_CHANGED,Si,u),Ve.off(t.Z.BUFFER_LEVEL_UPDATED,yt,u),Ve.off(t.Z.QUALITY_CHANGE_REQUESTED,Ye,u),i.Z.KEY_SESSION_UPDATED&&Ve.off(i.Z.KEY_SESSION_UPDATED,jt,u),Ve.off(i.Z.MANIFEST_UPDATED,sr,u),Ve.off(i.Z.STREAM_BUFFERING_COMPLETED,Rt,u),Ve.off(i.Z.TIME_SYNCHRONIZATION_COMPLETED,qt,u),Ve.off(i.Z.CURRENT_TRACK_CHANGED,gt,u),Ve.off(i.Z.SETTING_UPDATED_LIVE_DELAY,Ie,u),Ve.off(i.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ie,u),H.reset(),A.reset(),fe.reset(),G.clearAllCurrentMetrics(),m.setValue(null),T.reset(),ee.reset(),x.reset(),C&&(V.detachMediaSource(U),C=null),U=null,L&&(L=null,M=null,m.getValue()&&Ve.trigger(i.Z.PROTECTION_DESTROYED,{data:m.getValue().url})),nn(),Ve.trigger(i.Z.STREAM_TEARDOWN_COMPLETE),Lr()}function Xr(Xe){if(Xe.metric===S.Z.DVR_INFO){var bt=nr()?e.Z.AUDIO:e.Z.VIDEO;Xe.mediaType===bt&&V.setSeekable(Xe.value.range.start,Xe.value.range.end)}}function Qr(){return ie}return u={initialize:function(Xe,bt){ct(),R=Xe,M=bt,ee.initialize(),(A=si(Ge).create()).setConfig({manifestModel:m,adapter:w,manifestLoader:T,errHandler:re,settings:_e,contentSteeringController:N}),A.initialize(),(fe=Eo(Ge).getInstance()).setConfig({manifestUpdater:A,playbackController:me,settings:_e}),fe.start(),q.setConfig({dashMetrics:G,baseURLController:H,errHandler:re,settings:_e}),q.initialize(),L&&(Ve.trigger(i.Z.PROTECTION_CREATED,{controller:L}),L.setMediaElement(U.getElement()),M&&L.setProtectionData(M)),Ve.on(t.Z.PLAYBACK_TIME_UPDATED,oe,u),Ve.on(t.Z.PLAYBACK_SEEKING,cn,u),Ve.on(t.Z.PLAYBACK_ERROR,Sr,u),Ve.on(t.Z.PLAYBACK_STARTED,Ue,u),Ve.on(t.Z.PLAYBACK_PAUSED,at,u),Ve.on(t.Z.PLAYBACK_ENDED,Xn,u),Ve.on(t.Z.METRIC_ADDED,Xr,u),Ve.on(t.Z.MANIFEST_VALIDITY_CHANGED,Si,u),Ve.on(t.Z.BUFFER_LEVEL_UPDATED,yt,u),Ve.on(t.Z.QUALITY_CHANGE_REQUESTED,Ye,u),i.Z.KEY_SESSION_UPDATED&&Ve.on(i.Z.KEY_SESSION_UPDATED,jt,u),Ve.on(i.Z.MANIFEST_UPDATED,sr,u),Ve.on(i.Z.STREAM_BUFFERING_COMPLETED,Rt,u),Ve.on(i.Z.TIME_SYNCHRONIZATION_COMPLETED,qt,u),Ve.on(i.Z.CURRENT_TRACK_CHANGED,gt,u),Ve.on(i.Z.SETTING_UPDATED_LIVE_DELAY,Ie,u),Ve.on(i.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ie,u)},getActiveStreamInfo:br,addDVRMetric:Ke,hasVideoTrack:gr,hasAudioTrack:nr,getStreamById:Wr,getStreamForTime:Zt,getTimeRelativeToStreamId:function(Xe,bt){for(var Vt=null,Jt=0,dn=0,gn=null,tn=0;tn<ie.length;tn++){if(dn=(Vt=ie[tn]).getStartTime(),gn=Vt.getDuration(),Number.isFinite(dn)&&(Jt=dn),Vt.getId()===bt)return Xe-Jt;Number.isFinite(gn)&&(Jt+=gn)}return null},load:function(Xe){var bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;ct(),pe=bt,T.load(Xe)},loadWithManifest:function(Xe){var bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;St(),pe=bt,A.setManifest(Xe)},getActiveStreamProcessors:In,setConfig:function(Xe){Xe&&(Xe.capabilities&&(c=Xe.capabilities),Xe.capabilitiesFilter&&(y=Xe.capabilitiesFilter),Xe.manifestLoader&&(T=Xe.manifestLoader),Xe.manifestModel&&(m=Xe.manifestModel),Xe.mediaPlayerModel&&(Re=Xe.mediaPlayerModel),Xe.customParametersModel&&(Me=Xe.customParametersModel),Xe.protectionController&&(L=Xe.protectionController),Xe.adapter&&(w=Xe.adapter),Xe.dashMetrics&&(G=Xe.dashMetrics),Xe.errHandler&&(re=Xe.errHandler),Xe.timelineConverter&&(ee=Xe.timelineConverter),Xe.videoModel&&(U=Xe.videoModel),Xe.playbackController&&(me=Xe.playbackController),Xe.serviceDescriptionController&&(Se=Xe.serviceDescriptionController),Xe.contentSteeringController&&(N=Xe.contentSteeringController),Xe.textController&&(Z=Xe.textController),Xe.abrController&&(ne=Xe.abrController),Xe.mediaController&&(se=Xe.mediaController),Xe.settings&&(_e=Xe.settings),Xe.baseURLController&&(H=Xe.baseURLController),Xe.uriFragmentModel&&(ge=Xe.uriFragmentModel),Xe.segmentBaseController&&(Y=Xe.segmentBaseController))},setProtectionData:function(Xe){M=Xe,L&&L.setProtectionData(M)},getIsStreamSwitchInProgress:function(){return K},switchToVideoElement:function(Xe){p&&(me.initialize(br()),un(Xe,!1,!0))},getHasMediaOrInitialisationError:function(){return W||ue},getStreams:Qr,getActiveStream:function(){return p},getInitialPlayback:function(){return Fe},getAutoPlay:function(){return R},reset:xr},r=(0,_.Z)(Ge).getInstance().getLogger(u),q=po(Ge).getInstance(),V=yo(Ge).getInstance(),x=et(Ge).getInstance(),Lr(),u}ia.__dashjs_factory_name="StreamController";const aa=h.Z.getSingletonFactory(ia);function oa(){var u,r,c,y,A,T,m,w,G,V,q,N,H=this.context,Y=(0,g.Z)(H).getInstance();function ge(){N.debug("Stopping the gap controller"),A&&(clearInterval(A),A=null),function(){Y.off(i.Z.WALLCLOCK_TIME_UPDATED,re,this),Y.off(i.Z.INITIAL_STREAM_SWITCH,x,this),Y.off(i.Z.PLAYBACK_SEEKING,ne,this),Y.off(i.Z.BUFFER_REPLACEMENT_STARTED,se,u),Y.off(i.Z.TRACK_CHANGE_RENDERED,fe,u)}(),A=null,T=NaN,y=0,V=null,q={}}function ne(){V&&(clearTimeout(V),V=null)}function se(M){try{if(M.streamId!==w.getActiveStreamInfo().id||M.mediaType!==e.Z.VIDEO&&M.mediaType!==e.Z.AUDIO)return;M.streamId===w.getActiveStreamInfo().id&&(q[M.mediaType]=!0)}catch(R){N.error(R)}}function fe(M){M&&M.mediaType&&(q[M.mediaType]=!1)}function x(){A||function(){try{A||(N.debug("Starting the gap controller"),A=setInterval(function(){ee()&&Z(m.getTime())},100))}catch{}}()}function re(){if(ee(c.get().streaming.gaps.enableSeekFix)&&++y>=10){var M=m.getTime();r===M?Z(M,!0):(r=M,T=NaN),y=0}}function ee(){var M=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!w.getActiveStream())return!1;var R=Object.keys(q).some(function(W){return q[W]}),K=!!M&&ie();return!R&&c.get().streaming.gaps.jumpGaps&&w.getActiveStreamProcessors().length>0&&(!m.isSeeking()||K)&&!m.isPaused()&&!w.getIsStreamSwitchInProgress()&&!w.getHasMediaOrInitialisationError()}function ie(){var M=w.getActiveStream(),R=parseFloat((M.getStartTime()+M.getDuration()).toFixed(5));return m.getTime()+c.get().streaming.gaps.threshold>=R}function p(M,R){try{if(!M||M.length<=1&&R>0)return NaN;for(var K=NaN,W=0;isNaN(K)&&W<M.length;){var ue=W>0?M.end(W-1):0;R<M.start(W)&&ue-R<c.get().streaming.gaps.threshold&&(K=W),W+=1}return K}catch{return null}}function L(M,R){for(var K=0,W=M.length;K<W;K++)if(R>=M.start(K)&&R<=M.end(K))return!0;return!1}function Z(M){var R,K=arguments.length>1&&arguments[1]!==void 0&&arguments[1],W=c.get().streaming.gaps.enableStallFix,ue=c.get().streaming.gaps.stallSeek,C=c.get().streaming.gaps.smallGapLimit,U=c.get().streaming.gaps.jumpLargeGaps,me=G.getBufferRange(),Se=NaN,Re=!1;if(R=p(me,M),!isNaN(R)){var Me=me.start(R),Ee=Me-M;Ee>0&&(Ee<=C||U)&&(Se=Me)}var Fe=m.getTimeToStreamEnd();if(isNaN(Se)&&K&&isFinite(Fe)&&!isNaN(Fe)&&Fe<C&&(Se=parseFloat(m.getStreamEndTime().toFixed(5)),Re=!0),W&&isNaN(Se)&&K&&isNaN(R)&&L(me,M)&&(ue===0?(N.warn("Toggle play pause to break stall"),G.pause(),G.play()):(N.warn("Jumping ".concat(ue,"s to break stall")),Se=M+ue)),Se>0&&T!==Se&&Se>M&&!V){var dt=Se-M;if(Re){var Je=w.getStreamForTime(Se),rt=Je&&!!Je.getPreloaded();N.warn("Jumping to end of stream because of gap from ".concat(M," to ").concat(Se,". Gap duration: ").concat(dt)),m.seek(Se,!0,rt)}else{var Tt=m.getIsDynamic(),Ct=R>0?me.end(R-1):M,_e=Tt?1e3*Math.max(0,dt-.1):0;V=window.setTimeout(function(){m.seek(Se,!0,!0),N.warn("Jumping gap occuring in period ".concat(w.getActiveStream().getStreamId()," starting at ").concat(Ct," and ending at ").concat(Se,". Jumping by: ").concat(Se-Ct)),V=null},_e)}T=Se}}return u={reset:ge,setConfig:function(M){M&&(M.settings&&(c=M.settings),M.playbackController&&(m=M.playbackController),M.streamController&&(w=M.streamController),M.videoModel&&(G=M.videoModel))},initialize:function(){(function(){Y.on(i.Z.WALLCLOCK_TIME_UPDATED,re,this),Y.on(i.Z.INITIAL_STREAM_SWITCH,x,this),Y.on(i.Z.PLAYBACK_SEEKING,ne,this),Y.on(i.Z.BUFFER_REPLACEMENT_STARTED,se,u),Y.on(i.Z.TRACK_CHANGE_RENDERED,fe,u)})()}},N=(0,_.Z)(H).getInstance().getLogger(u),ge(),u}oa.__dashjs_factory_name="GapController";const vo=h.Z.getSingletonFactory(oa);function sa(){var u,r,c,y,A,T,m,w,G,V,q=this.context,N=(0,g.Z)(q).getInstance();function H(){r=!1;var ie=sn.Z.parseUserAgent();c=ie&&ie.browser&&ie.browser.name&&ie.browser.name.toLowerCase()==="safari"}function Y(){r=!1}function ge(ie){if(ie.streamId===T.getActiveStreamInfo().id&&G){var p=m.getLiveDelay();m.getBufferLevel()>p/2&&(G=!1)}}function ne(ie){ie.streamId===T.getActiveStreamInfo().id&&(G=ie.state===S.Z.BUFFER_EMPTY)}function se(){w.getCatchupModeEnabled()||y.setPlaybackRate(1)}function fe(){m.getIsDynamic()&&w.getCatchupModeEnabled()&&(w.getCatchupPlaybackRates().max>0||w.getCatchupPlaybackRates().min<0)&&!m.isPaused()&&!m.isSeeking()&&function(){try{return!(!m.getTime()>0||r)&&(re()===e.Z.LIVE_CATCHUP_MODE_LOLP?function(ie,p){try{return Math.abs(x())>0||ie<p}catch{return!1}}(m.getBufferLevel(),A.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(x())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!r&&y){var ie,p=y.getPlaybackRate(),L=w.getCatchupPlaybackRates(),Z=m.getBufferLevel(),M=x(),R=w.getCatchupMaxDrift();if(!isNaN(R)&&R>0&&M>R)V.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),r=!0,m.seekToCurrentLive(!0,!1);else{var K=m.getCurrentLiveLatency(),W=m.getLiveDelay();ie=re()===e.Z.LIVE_CATCHUP_MODE_LOLP?function(C,U,me,Se,Re){var Me;if(Re<Se){var Ee=Math.abs(C.min),Fe=5*(Re-Se);Me=1-Ee+2*Ee/(1+Math.pow(Math.E,-Fe)),V.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Re+", newRate: "+Me)}else{var dt=C.max;if(Math.abs(U-me)<=.02*me)Me=1;else{var Je=5*(U-me);Me=1-dt+2*dt/(1+Math.pow(Math.E,-Je))}V.debug("[LoL+ playback control_latency-based] latency: "+U+", newRate: "+Me)}return Me}(L,K,W,A.get().streaming.liveCatchup.playbackBufferMin,Z):function(C,U,me,Se){if(G)return 1;var Re=U-me,Me=Re<0?Math.abs(C.min):C.max,Ee=5*Re,Fe=1-Me+2*Me/(1+Math.pow(Math.E,-Ee));return m.getPlaybackStalled()&&Se<=me/2&&Re>0&&(Fe=1),Fe}(L,K,W,Z);var ue=c?.25:.02/(.5/L.max);ie&&Math.abs(p-ie)>=ue&&(V.debug("[CatchupController]: Setting playback rate to ".concat(ie)),y.setPlaybackRate(ie))}}}()}function x(){return m.getCurrentLiveLatency()-m.getLiveDelay()}function re(){var ie=A.get().streaming.liveCatchup.playbackBufferMin;return A.get().streaming.liveCatchup.mode!==e.Z.LIVE_CATCHUP_MODE_LOLP||ie===null||isNaN(ie)?e.Z.LIVE_CATCHUP_MODE_DEFAULT:e.Z.LIVE_CATCHUP_MODE_LOLP}function ee(){w.getCatchupPlaybackRates(!0)}return u={reset:function(){N.off(t.Z.BUFFER_LEVEL_UPDATED,ge,u),N.off(t.Z.BUFFER_LEVEL_STATE_CHANGED,ne,u),N.off(t.Z.PLAYBACK_PROGRESS,fe,u),N.off(t.Z.PLAYBACK_TIME_UPDATED,fe,u),N.off(t.Z.PLAYBACK_SEEKED,fe,u),N.off(i.Z.SETTING_UPDATED_CATCHUP_ENABLED,se,u),N.off(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,u),N.off(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,u),N.off(t.Z.STREAM_INITIALIZED,ee,u),H(),y.setPlaybackRate(1,!0)},setConfig:function(ie){ie&&(ie.settings&&(A=ie.settings),ie.videoModel&&(y=ie.videoModel),ie.streamController&&(T=ie.streamController),ie.playbackController&&(m=ie.playbackController),ie.mediaPlayerModel&&(w=ie.mediaPlayerModel))},initialize:function(){N.on(t.Z.BUFFER_LEVEL_UPDATED,ge,u),N.on(t.Z.BUFFER_LEVEL_STATE_CHANGED,ne,u),N.on(t.Z.PLAYBACK_PROGRESS,fe,u),N.on(t.Z.PLAYBACK_TIME_UPDATED,fe,u),N.on(t.Z.PLAYBACK_SEEKED,Y,u),N.on(i.Z.SETTING_UPDATED_CATCHUP_ENABLED,se,u),N.on(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,u),N.on(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,u),N.on(t.Z.STREAM_INITIALIZED,ee,u),ee()}},V=(0,_.Z)(q).getInstance().getLogger(u),H(),u}sa.__dashjs_factory_name="CatchupController";const _o=h.Z.getSingletonFactory(sa);var To=[e.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],ua="video",la="audio";function ca(){var u,r,c,y,A,T=this.context;function m(){r={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},c=[]}function w(G,V,q){try{r[G][V]=q/1e3}catch(N){y.error(N)}}return u={getServiceDescriptionSettings:function(){return r},getProducerReferenceTimeOffsets:function(){return c},calculateProducerReferenceTimeOffsets:function(G){try{var V=[];if(G&&G.length>0){var q=[e.Z.VIDEO,e.Z.AUDIO,e.Z.TEXT],N=A.getAvailabilityStartTime()/1e3;G.forEach(function(H){var Y=q.reduce(function(ge,ne){return ge.concat(A.getAllMediaInfoForType(H,ne))},[]).reduce(function(ge,ne){return A.getProducerReferenceTimes(H,ne).forEach(function(se){var fe=A.getVoRepresentations(ne);if(fe&&fe.length>0&&fe[0].adaptation&&fe[0].segmentInfoType===n.Z.SEGMENT_TEMPLATE){var x=fe[0],re=new Date(se[n.Z.WALL_CLOCK_TIME]).getTime()/1e3-(se[n.Z.PRESENTATION_TIME]/x[n.Z.TIMESCALE]-x[n.Z.PRESENTATION_TIME_OFFSET]+H.start),ee=N-re;ge.push({id:se[n.Z.ID],to:ee})}}),ge},[]);V=V.concat(Y)})}c=V}catch(H){y.error(H),c=[]}},applyServiceDescription:function(G){if(G&&G.serviceDescriptions){var V=G.serviceDescriptions.filter(function(H){return To.includes(H.schemeIdUri)}),q=G.serviceDescriptions.filter(function(H){return H.schemeIdUri==null}),N=V.length>0?V[V.length-1]:q[q.length-1];N&&(N.latency&&N.latency.target>0&&function(H){var Y;if(H.schemeIdUri,e.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,Y=function(fe){return{liveDelay:fe.latency.target/1e3,maxDrift:!isNaN(fe.latency.max)&&fe.latency.max>fe.latency.target?(fe.latency.max-fe.latency.target+500)/1e3:NaN,referenceId:fe.latency.referenceId||NaN}}(H),c.length>0){var ge=function(fe){var x,re=0,ee=c.filter(function(ie){return ie.id===fe.referenceId});return ee.length===0?(re=c.length>0?c[0].to:0,x=c[0].id||NaN):(re=ee[0].to||0,x=ee[0].id||NaN),{to:re,id:x}}(Y),ne=ge.to,se=ge.id;r.liveDelay=Y.liveDelay-ne,r.liveCatchup.maxDrift=Y.maxDrift,y.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(ne," from ProducerReferenceTime element with id ").concat(se,`.
                Live Delay: `).concat(Y.liveDelay-ne,", Live catchup max drift: ").concat(Y.maxDrift,`
            `))}else r.liveDelay=Y.liveDelay,r.liveCatchup.maxDrift=Y.maxDrift,y.debug("Found latency properties coming from service description: Live Delay: ".concat(Y.liveDelay,", Live catchup max drift: ").concat(Y.maxDrift))}(N),N.playbackRate&&function(H){var Y=H.playbackRate.min?Math.round(1e3*(H.playbackRate.min-1))/1e3:NaN,ge=H.playbackRate.max?Math.round(1e3*(H.playbackRate.max-1))/1e3:NaN;r.liveCatchup.playbackRate.min=Y,r.liveCatchup.playbackRate.max=ge,y.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Y)),y.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ge))}(N),N.operatingQuality,N.operatingBandwidth&&function(H){if(H&&H.operatingBandwidth&&H.operatingBandwidth.mediaType&&H.operatingBandwidth.mediaType!=="all"){var Y={};Y.minBandwidth=H.operatingBandwidth.min,Y.maxBandwidth=H.operatingBandwidth.max,Y.targetBandwidth=H.operatingBandwidth.target;var ge=[];H.operatingBandwidth.mediaType===ua||H.operatingBandwidth.mediaType===la?ge.push(H.operatingBandwidth.mediaType):H.operatingBandwidth.mediaType==="any"&&(ge.push(la),ge.push(ua)),ge.forEach(function(ne){isNaN(Y.minBandwidth)||w("minBitrate",ne,Y.minBandwidth),isNaN(Y.maxBandwidth)||w("maxBitrate",ne,Y.maxBandwidth),isNaN(Y.targetBandwidth)||w("initialBitrate",ne,Y.targetBandwidth)})}}(N),N.contentSteering&&function(H){r.contentSteering=H.contentSteering}(N))}},reset:function(){m()},setConfig:function(G){G&&G.adapter&&(A=G.adapter)}},y=(0,_.Z)(T).getInstance().getLogger(u),m(),u}ca.__dashjs_factory_name="ServiceDescriptionController";const So=h.Z.getSingletonFactory(ca);var bo=D(3973),ui=D.n(bo),fa=D(3039);function Ci(){var u,r,c,y,A,T,m,w,G=this.context,V=(0,g.Z)(G).getInstance();function q(C,U){return C&&c[U]&&c[U][C]?c[U][C].list:[]}function N(C,U){return C&&c[U]&&c[U][C]?c[U][C].current:null}function H(C){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(C&&C.streamInfo){var me=C.type,Se=C.streamInfo,Re=Se.id,Me=N(me,Re);if(c[Re]&&c[Re][me]&&(c[Re][me].current=C,c[Re][me].current&&(me!==e.Z.TEXT&&!ne(C,Me)||me===e.Z.TEXT&&C.isFragmented)&&V.trigger(i.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Me,newMediaInfo:C,switchMode:y.get().streaming.trackSwitchMode[me]},{streamId:Re}),!U)){var Ee=fe(C);if(!Ee||!c[Re][me].storeLastSettings)return;Ee.roles&&(Ee.role=Ee.roles[0],delete Ee.roles),Ee.accessibility&&(Ee.accessibility=Ee.accessibility[0]),Ee.audioChannelConfiguration&&(Ee.audioChannelConfiguration=Ee.audioChannelConfiguration[0]),T[me]=Ee,w.setSavedMediaSettings(me,Ee)}}}function Y(C,U){C&&U&&(A[C]=U)}function ge(C){return C?A[C]:null}function ne(C,U){if(!C&&!U)return!0;if(!C||!U)return!1;var me=C.id===U.id,Se=C.viewpoint===U.viewpoint,Re=JSON.stringify(C.viewpointsWithSchemeIdUri)===JSON.stringify(U.viewpointsWithSchemeIdUri),Me=C.lang===U.lang,Ee=C.codec===U.codec,Fe=C.roles.toString()===U.roles.toString(),dt=JSON.stringify(C.rolesWithSchemeIdUri)===JSON.stringify(U.rolesWithSchemeIdUri),Je=C.accessibility.toString()===U.accessibility.toString(),rt=JSON.stringify(C.accessibilitiesWithSchemeIdUri)===JSON.stringify(U.accessibilitiesWithSchemeIdUri),Tt=C.audioChannelConfiguration.toString()===U.audioChannelConfiguration.toString(),Ct=JSON.stringify(C.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(U.audioChannelConfigurationsWithSchemeIdUri);return me&&Ee&&Se&&Re&&Me&&Fe&&dt&&Je&&rt&&Tt&&Ct}function se(){c={},T={},A={audio:null,video:null,text:null}}function fe(C){var U={lang:C.lang,viewpoint:C.viewpoint,roles:C.roles,accessibility:C.accessibility,audioChannelConfiguration:C.audioChannelConfiguration};return U.lang||U.viewpoint||U.role&&U.role.length>0||U.accessibility&&U.accessibility.length>0||U.audioChannelConfiguration&&U.audioChannelConfiguration.length>0?U:null}function x(C,U,me){var Se=[];return C.forEach(function(Re){U(me,Re)&&Se.push(Re)}),Se.length!==0?Se:C}function re(C,U){return!C.lang||C.lang instanceof RegExp?U.lang.match(C.lang):U.lang!==""&&(0,fa.extendedFilter)(U.lang,ui()(C.lang)).length>0}function ee(C,U){return C.index===void 0||C.index===null||U.index===C.index}function ie(C,U){return!C.viewpoint||C.viewpoint===U.viewpoint}function p(C,U){var me=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Se=!C.role||!!U.roles.filter(function(Re){return Re===C.role})[0];return Se||U.type===e.Z.AUDIO&&me}function L(C,U){return C.accessibility?!!U.accessibility.filter(function(me){return me===C.accessibility})[0]:!U.accessibility.length}function Z(C,U){return!C.audioChannelConfiguration||!!U.audioChannelConfiguration.filter(function(me){return me===C.audioChannelConfiguration})[0]}function M(C){var U,me=0,Se=[];return C.forEach(function(Re){(U=Math.max.apply(Math,Re.bitrateList.map(function(Me){return Me.bandwidth})))>me?(me=U,Se=[Re]):U===me&&Se.push(Re)}),Se}function R(C){var U,me=1/0,Se=[];return C.forEach(function(Re){var Me=Re.bitrateList.reduce(function(Ee,Fe){var dt=Math.max(1,Fe.width*Fe.height);return Ee+Fe.bandwidth/dt},0);(U=Me/Re.bitrateList.length)<me?(me=U,Se=[Re]):U===me&&Se.push(Re)}),Se}function K(C){var U,me=0,Se=[];return C.forEach(function(Re){(U=Re.representationCount)>me?(me=U,Se=[Re]):U===me&&Se.push(Re)}),Se}function W(C,U){if(C===e.Z.TEXT)return U[0];var me,Se=y.get().streaming.selectionModeForInitialTrack,Re=m.getCustomInitialTrackSelectionFunction();if(Re&&typeof Re=="function")me=Re(U);else switch(Se){case e.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:me=function(Me){var Ee,Fe,dt=(Ee=0,Fe=[],Me.forEach(function(Je){isNaN(Je.selectionPriority)||(Je.selectionPriority>Ee?(Ee=Je.selectionPriority,Fe=[Je]):Je.selectionPriority===Ee&&Fe.push(Je))}),Fe);return dt.length>1&&(dt=M(dt)),dt.length>1&&(dt=K(dt)),dt}(U);break;case e.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:me=function(Me){var Ee=M(Me);return Ee.length>1&&(Ee=K(Ee)),Ee}(U);break;case e.Z.TRACK_SELECTION_MODE_FIRST_TRACK:me=ue(U);break;case e.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:me=function(Me){var Ee=R(Me);return Ee.length>1&&(Ee=M(Ee)),Ee}(U);break;case e.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:me=function(Me){var Ee=K(Me);return Ee.length>1&&(Ee=M(Me)),Ee}(U);break;default:r.warn("Track selection mode ".concat(Se," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),me=ue(U)}return me.length>0?me[0]:U[0]}function ue(C){return C[0]}return u={setInitialMediaSettingsForType:function(C,U){var me=T[C]||ge(C),Se=q(C,U.id),Re=[];me||Y(C,me=w.getSavedMediaSettings(C)),Se&&Se.length!==0&&(me&&(Re=x(Re=Array.from(Se),re,me),Re=x(Re,ee,me),Re=x(Re,ie,me),C===e.Z.AUDIO&&T[C]||(Re=x(Re,p,me)),Re=x(Re,L,me),Re=x(Re,Z,me)),Re.length===0?H(W(C,Se),!0):Re.length>1?H(W(C,Re,T[C])):H(Re[0]))},addTrack:function(C){if(C){var U=C.type;if((me=U)===e.Z.AUDIO||me===e.Z.VIDEO||me===e.Z.TEXT||me===e.Z.IMAGE){var me,Se=C.streamInfo.id;c[Se]||(c[Se]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Re=c[Se][U].list,Me=0,Ee=Re.length;Me<Ee;++Me)if(ne(Re[Me],C))return;Re.push(C)}}},getTracksFor:q,getCurrentTrackFor:N,isCurrentTrack:function(C){if(!C)return!1;var U=C.type,me=C.streamInfo.id;return c[me]&&c[me][U]&&ne(c[me][U].current,C)},setTrack:H,selectInitialTrack:W,setInitialSettings:Y,getInitialSettings:ge,getTracksWithHighestBitrate:M,getTracksWithHighestEfficiency:R,getTracksWithWidestRange:K,isTracksEqual:ne,matchSettings:function(C,U){var me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Se=!1;if(C.lang){if(C.lang instanceof RegExp)Se=U.lang.match(C.lang);else if(U.lang!==""){var Re=ui()(C.lang);Re&&(Se=(0,fa.extendedFilter)(U.lang,Re).length>0)}}else Se=!0;var Me=C.index===void 0||C.index===null||U.index===C.index,Ee=!C.viewpoint||C.viewpoint===U.viewpoint,Fe=!C.role||!!U.roles.filter(function(rt){return rt===C.role})[0],dt=!C.accessibility||!!U.accessibility.filter(function(rt){return rt===C.accessibility})[0],Je=!C.audioChannelConfiguration||!!U.audioChannelConfiguration.filter(function(rt){return rt===C.audioChannelConfiguration})[0];return Se&&Me&&Ee&&(Fe||U.type===e.Z.AUDIO&&me)&&dt&&Je}catch{return!1}},matchSettingsLang:re,matchSettingsIndex:ee,matchSettingsViewPoint:ie,matchSettingsRole:p,matchSettingsAccessibility:L,matchSettingsAudioChannelConfig:Z,saveTextSettingsDisabled:function(){w.setSavedMediaSettings(e.Z.TEXT,null)},setConfig:function(C){C&&(C.domStorage&&(w=C.domStorage),C.settings&&(y=C.settings),C.customParametersModel&&(m=C.customParametersModel))},reset:se},r=(0,_.Z)(G).getInstance().getLogger(u),se(),u}Ci.__dashjs_factory_name="MediaController";var da=h.Z.getSingletonFactory(Ci);h.Z.updateSingletonFactory(Ci.__dashjs_factory_name,da);const Ao=da;var li=NaN,ga=function u(r,c){(function(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),this.data={baseUrls:r||null,selectedIdx:c||li},this.children=[]};function ha(){var u,r,c,y,A=this.context,T=It(A).getInstance();function m(q,N,H){var Y=w(H);q[N]?T.areEqual(Y,q[N].data.baseUrls)||(q[N].data.baseUrls=Y,q[N].data.selectedIdx=li):q[N]=new ga(Y)}function w(q){var N=c.getBaseURLsFromElement(q),H=y.getSynthesizedBaseUrlElements(N);return H&&H.length>0&&(N=N.concat(H)),N}function G(q,N){var H=N||r;q(H.data),H.children&&H.children.forEach(function(Y){return G(q,Y)})}function V(){r=new ga}return u={reset:V,update:function(q){(function(N){(function(){if(!c||!c.hasOwnProperty("getBaseURLsFromElement")||!c.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var H=w(N);T.areEqual(H,r.data.baseUrls)||(r.data.baseUrls=H,r.data.selectedIdx=li),N&&N.Period_asArray&&N.Period_asArray.forEach(function(Y,ge){m(r.children,ge,Y),Y.AdaptationSet_asArray&&Y.AdaptationSet_asArray.forEach(function(ne,se){m(r.children[ge].children,se,ne),ne.Representation_asArray&&ne.Representation_asArray.sort(c.getRepresentationSortFunction()).forEach(function(fe,x){m(r.children[ge].children[se].children,x,fe)})})})})(q)},getForPath:function(q){var N=r,H=[N.data];return q&&q.forEach(function(Y){(N=N.children[Y])&&H.push(N.data)}),H.filter(function(Y){return Y.baseUrls.length})},invalidateSelectedIndexes:function(q){G(function(N){isNaN(N.selectedIdx)||q===N.baseUrls[N.selectedIdx].serviceLocation&&(N.selectedIdx=li)})},setConfig:function(q){q.adapter&&(c=q.adapter),q.contentSteeringController&&(y=q.contentSteeringController)},getBaseUrls:function(q){return w(q)}},V(),u}ha.__dashjs_factory_name="BaseURLTreeModel";const Io=h.Z.getClassFactory(ha);function ma(u){var r=(u=u||{}).blacklistController;return{select:function(c){return c&&function(A){var T,m,w=0,G=[],V=0;if((m=A.sort(function(q,N){var H=q.dvb_priority-N.dvb_priority;return isNaN(H)?0:H}).filter(function(q,N,H){return!N||H[0].dvb_priority&&q.dvb_priority&&H[0].dvb_priority===q.dvb_priority})).length)return m.length>1&&(m.forEach(function(q){w+=q.dvb_weight,G.push(w)}),T=Math.floor(Math.random()*(w-1)),G.every(function(q,N){return V=N,!(T<q)})),m[V]}((y=[],c.filter(function(A){return!r.contains(A.serviceLocation)||(A.dvb_priority&&y.push(A.dvb_priority),!1)}).filter(function(A){return!y.length||!A.dvb_priority||y.indexOf(A.dvb_priority)===-1})));var y}}}ma.__dashjs_factory_name="DVBSelector";const Ro=h.Z.getClassFactory(ma);function pa(u){var r=(u=u||{}).blacklistController;return{select:function(c){var y,A=0;return c&&c.some(function(T,m){return A=m,!r.contains(T.serviceLocation)})&&(y=c[A]),y}}}pa.__dashjs_factory_name="BasicSelector";const wo=h.Z.getClassFactory(pa);function ya(){var u,r,c,y=this.context;function A(){for(var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=0,G=NaN,V=function(){var N=T[w],H=m.findIndex(function(Y){return Y.serviceLocation&&Y.serviceLocation===N});if(H!==-1&&!c.contains(m[H].serviceLocation))return G=H,"break";w+=1};w<T.length;){var q=V();if(q==="break")break}return G}return u={selectBaseUrlIndex:function(T){var m=NaN;if(isNaN(T.selectedIdx)){var w=r.getSteeringDataFromManifest();w&&w.defaultServiceLocationArray.length>0&&(m=A(w.defaultServiceLocationArray,T.baseUrls))}var G=r.getCurrentSteeringResponseData();return T.baseUrls&&T.baseUrls.length&&G&&G.pathwayPriority&&G.pathwayPriority.length&&(m=A(G.pathwayPriority,T.baseUrls)),m},setConfig:function(T){T.blacklistController&&(c=T.blacklistController),T.contentSteeringController&&(r=T.contentSteeringController)}},r=vr(y).getInstance(),u}ya.__dashjs_factory_name="ContentSteeringSelector";const No=h.Z.getClassFactory(ya);function Ea(){var u,r,c,y,A,T,m=this.context,w=(0,g.Z)(m).getInstance(),G=(0,st.Z)(m).getInstance();function V(){r.reset()}return u={chooseSelector:function(q){(0,Q.PS)(q,"boolean"),T=q?y:c},select:function(q){if(q){if(G.get().streaming.applyContentSteering){var N=A.selectBaseUrlIndex(q);isNaN(N)||N===-1||(q.selectedIdx=N)}if(!isNaN(q.selectedIdx))return q.baseUrls[q.selectedIdx];var H=T.select(q.baseUrls);return H?(q.selectedIdx=q.baseUrls.indexOf(H),H):(w.trigger(i.Z.URL_RESOLUTION_FAILED,{error:new k.Z(te.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,te.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(T===c&&V()))}},reset:V,setConfig:function(q){q.selector&&(T=q.selector),q.contentSteeringSelector&&(A=q.contentSteeringSelector)}},r=jr(m).create({updateEventName:i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),c=wo(m).create({blacklistController:r}),y=Ro(m).create({blacklistController:r}),(A=No(m).create()).setConfig({blacklistController:r}),T=c,u}Ea.__dashjs_factory_name="BaseURLSelector";const Co=h.Z.getClassFactory(Ea);function va(){var u,r,c,y,A,T=this.context,m=(0,g.Z)(T).getInstance(),w=(0,Ne.Z)(T).getInstance();function G(q){c.update(q),y.chooseSelector(r.getIsDVB(q)),m.trigger(t.Z.BASE_URLS_UPDATED,{baseUrls:V(q)})}function V(q){return c.getBaseUrls(q)}return u={reset:function(){c.reset(),y.reset()},initialize:function(q){c.setConfig({adapter:r,contentSteeringController:A}),G(q)},resolve:function(q){var N=c.getForPath(q).reduce(function(H,Y){var ge=y.select(Y);return ge?(w.isRelative(ge.url)?H.url=w.resolve(ge.url,H.url):(H.url=ge.url,H.serviceLocation=ge.serviceLocation),H.availabilityTimeOffset=ge.availabilityTimeOffset,H.availabilityTimeComplete=ge.availabilityTimeComplete,H.queryParams=ge.queryParams,H):new er},new er);if(!w.isRelative(N.url))return N},setConfig:function(q){q.baseURLTreeModel&&(c=q.baseURLTreeModel),q.baseURLSelector&&(y=q.baseURLSelector),q.adapter&&(r=q.adapter),q.contentSteeringController&&(A=q.contentSteeringController)},getBaseUrls:V,update:G},c=Io(T).create(),y=Co(T).create(),m.on(i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(q){c.invalidateSelectedIndexes(q.entry)},u),u}va.__dashjs_factory_name="BaseURLController";const Do=h.Z.getClassFactory(va);function Di(u){return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Di(u)}function Oi(u,r){return Oi=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Oi(u,r)}function Oo(u,r){return!r||Di(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function ci(u){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ci(u)}const _a=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&Oi(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=ci(r);if(c){var w=ci(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Oo(this,T)});function A(T,m){var w;return function(G,V){if(!(G instanceof V))throw new TypeError("Cannot call a class as a function")}(this,A),(w=y.call(this)).url=T||null,w.type=m||null,w.mediaType=e.Z.STREAM,w.responseType="",w}return A}(P.Z);function Ta(u){u=u||{};var r=this.context,c=(0,g.Z)(r).getInstance(),y=zn(r).create({errHandler:u.errHandler,dashMetrics:u.dashMetrics,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,errors:te});return{load:function(A,T,m){var w=function(V,q){T.resolved=!0,T.resolvedContent=V||null,c.trigger(i.Z.XLINK_ELEMENT_LOADED,{element:T,resolveObject:m,error:V||q?null:new k.Z(te.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,te.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+A)})};if(A==="urn:mpeg:dash:resolve-to-zero:2013")w(null,!0);else{var G=new _a(A,Ae.w.XLINK_EXPANSION_TYPE);y.load({request:G,success:function(V){w(V)},error:function(){w(null)}})}},reset:function(){y&&(y.abort(),y=null)}}}Ta.__dashjs_factory_name="XlinkLoader";const Mo=h.Z.getClassFactory(Ta),Sa=function(u){(u=u||{}).escapeMode===void 0&&(u.escapeMode=!0),u.attributePrefix===void 0&&(u.attributePrefix="_"),u.arrayAccessForm=u.arrayAccessForm||"none",u.emptyNodeForm=u.emptyNodeForm||"text",u.enableToStringFunc===void 0&&(u.enableToStringFunc=!0),u.arrayAccessFormPaths=u.arrayAccessFormPaths||[],u.skipEmptyTextNodesForObj===void 0&&(u.skipEmptyTextNodesForObj=!0),u.stripWhitespaces===void 0&&(u.stripWhitespaces=!0),u.datetimeAccessFormPaths=u.datetimeAccessFormPaths||[],u.useDoubleQuotes===void 0&&(u.useDoubleQuotes=!1),u.xmlElementsFilter=u.xmlElementsFilter||[],u.jsonPropertiesFilter=u.jsonPropertiesFilter||[],u.keepCData===void 0&&(u.keepCData=!1),u.ignoreRoot===void 0&&(u.ignoreRoot=!1);function r(x){var re=x.localName;return re==null&&(re=x.baseName),re!=null&&re!=""||(re=x.nodeName),re}function c(x){return typeof x=="string"?x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):x}function y(x,re,ee,ie){for(var p=0;p<x.length;p++){var L=x[p];if(typeof L=="string"){if(L==ie)break}else if(L instanceof RegExp){if(L.test(ie))break}else if(typeof L=="function"&&L(re,ee,ie))break}return p!=x.length}function A(x,re,ee){u.arrayAccessForm==="property"&&(x[re]instanceof Array?x[re+"_asArray"]=x[re]:x[re+"_asArray"]=[x[re]]),!(x[re]instanceof Array)&&u.arrayAccessFormPaths.length>0&&y(u.arrayAccessFormPaths,x,re,ee)&&(x[re]=[x[re]])}function T(x){var re=x.split(/[-T:+Z]/g),ee=new Date(re[0],re[1]-1,re[2]),ie=re[5].split(".");if(ee.setHours(re[3],re[4],ie[0]),ie.length>1&&ee.setMilliseconds(ie[1]),re[6]&&re[7]){var p=60*re[6]+Number(re[7]);p=0+((/\d\d-\d\d:\d\d$/.test(x)?"-":"+")=="-"?-1*p:p),ee.setMinutes(ee.getMinutes()-p-ee.getTimezoneOffset())}else x.indexOf("Z",x.length-1)!==-1&&(ee=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate(),ee.getHours(),ee.getMinutes(),ee.getSeconds(),ee.getMilliseconds())));return ee}function m(x,re,ee,ie){return!(re==1&&u.xmlElementsFilter.length>0)||y(u.xmlElementsFilter,x,ee,ie)}function w(x,re){if(x.nodeType==9){for(var ee=new Object,ie=x.childNodes,p=0;p<ie.length;p++)(Z=ie[p]).nodeType==1&&(u.ignoreRoot?ee=w(Z):(ee={})[M=r(Z)]=w(Z));return ee}if(x.nodeType==1){(ee=new Object).__cnt=0;var L=[];for(ie=x.childNodes,p=0;p<ie.length;p++){var Z,M=r(Z=ie[p]);if(Z.nodeType!=8){var R=re+"."+M;if(m(ee,Z.nodeType,M,R))if(ee.__cnt++,ee[M]==null){var K=w(Z,R);(M!="#text"||/[^\s]/.test(K))&&((W={})[M]=K,L.push(W)),ee[M]=K,A(ee,M,R)}else{var W;ee[M]!=null&&(ee[M]instanceof Array||(ee[M]=[ee[M]],A(ee,M,R))),K=w(Z,R),(M!="#text"||/[^\s]/.test(K))&&((W={})[M]=K,L.push(W)),ee[M][ee[M].length]=K}}}ee.__children=L;for(var ue=r(x),C=0;C<x.attributes.length;C++){var U=x.attributes[C];ee.__cnt++;for(var me=U.value,Se=0,Re=u.matchers.length;Se<Re;Se++){var Me=u.matchers[Se];Me.test(U,ue)&&(me=Me.converter(U.value))}ee[u.attributePrefix+U.name]=me}var Ee=function(Fe){return Fe.prefix}(x);return Ee!=null&&Ee!=""&&(ee.__cnt++,ee.__prefix=Ee),ee["#text"]!=null&&(ee.__text=ee["#text"],ee.__text instanceof Array&&(ee.__text=ee.__text.join(`
`)),u.stripWhitespaces&&(ee.__text=ee.__text.trim()),delete ee["#text"],u.arrayAccessForm=="property"&&delete ee["#text_asArray"],ee.__text=function(Fe,dt,Je){if(u.datetimeAccessFormPaths.length>0){var rt=Je.split(".#")[0];return y(u.datetimeAccessFormPaths,Fe,dt,rt)?T(Fe):Fe}return Fe}(ee.__text,M,re+"."+M)),ee["#cdata-section"]!=null&&(ee.__cdata=ee["#cdata-section"],delete ee["#cdata-section"],u.arrayAccessForm=="property"&&delete ee["#cdata-section_asArray"]),ee.__cnt==0&&u.emptyNodeForm=="text"?ee="":ee.__cnt==1&&ee.__text!=null?ee=ee.__text:ee.__cnt!=1||ee.__cdata==null||u.keepCData?ee.__cnt>1&&ee.__text!=null&&u.skipEmptyTextNodesForObj&&(u.stripWhitespaces&&ee.__text==""||ee.__text.trim()=="")&&delete ee.__text:ee=ee.__cdata,delete ee.__cnt,!u.enableToStringFunc||ee.__text==null&&ee.__cdata==null||(ee.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ee}if(x.nodeType==3||x.nodeType==4)return x.nodeValue}function G(x,re,ee,ie){var p="<"+(x!=null&&x.__prefix!=null?x.__prefix+":":"")+re;if(ee!=null)for(var L=0;L<ee.length;L++){var Z=ee[L],M=x[Z];u.escapeMode&&(M=c(M)),p+=" "+Z.substr(u.attributePrefix.length)+"=",u.useDoubleQuotes?p+='"'+M+'"':p+="'"+M+"'"}return p+(ie?"/>":">")}function V(x,re){return"</"+(x.__prefix!=null?x.__prefix+":":"")+re+">"}function q(x,re){return u.arrayAccessForm=="property"&&(ie="_asArray",(ee=re.toString()).indexOf(ie,ee.length-ie.length)!==-1)||re.toString().indexOf(u.attributePrefix)==0||re.toString().indexOf("__")==0||x[re]instanceof Function;var ee,ie}function N(x){var re=0;if(x instanceof Object)for(var ee in x)q(x,ee)||re++;return re}function H(x,re,ee){return u.jsonPropertiesFilter.length==0||ee==""||y(u.jsonPropertiesFilter,x,re,ee)}function Y(x){var re=[];if(x instanceof Object)for(var ee in x)ee.toString().indexOf("__")==-1&&ee.toString().indexOf(u.attributePrefix)==0&&re.push(ee);return re}function ge(x){var re="";return x instanceof Object?re+=function(ee){var ie="";return ee.__cdata!=null&&(ie+="<![CDATA["+ee.__cdata+"]]>"),ee.__text!=null&&(u.escapeMode?ie+=c(ee.__text):ie+=ee.__text),ie}(x):x!=null&&(u.escapeMode?re+=c(x):re+=x),re}function ne(x,re){return x===""?re:x+"."+re}function se(x,re,ee,ie){var p="";if(x.length==0)p+=G(x,re,ee,!0);else for(var L=0;L<x.length;L++)p+=G(x[L],re,Y(x[L]),!1),p+=fe(x[L],ne(ie,re)),p+=V(x[L],re);return p}function fe(x,re){var ee="";if(N(x)>0){for(var ie in x)if(!q(x,ie)&&(re==""||H(x,ie,ne(re,ie)))){var p=x[ie],L=Y(p);p==null||p==null?ee+=G(p,ie,L,!0):p instanceof Object?p instanceof Array?ee+=se(p,ie,L,re):p instanceof Date?(ee+=G(p,ie,L,!1),ee+=p.toISOString(),ee+=V(p,ie)):N(p)>0||p.__text!=null||p.__cdata!=null?(ee+=G(p,ie,L,!1),ee+=fe(p,ne(re,ie)),ee+=V(p,ie)):ee+=G(p,ie,L,!0):(ee+=G(p,ie,L,!1),ee+=ge(p),ee+=V(p,ie))}}return ee+ge(x)}this.parseXmlString=function(x){var re;if(x===void 0)return null;if(window.DOMParser){var ee=new window.DOMParser;try{(re=ee.parseFromString(x,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(re=null)}catch{re=null}}else x.indexOf("<?")==0&&(x=x.substr(x.indexOf("?>")+2)),(re=new ActiveXObject("Microsoft.XMLDOM")).async="false",re.loadXML(x);return re},this.asArray=function(x){return x===void 0||x==null?[]:x instanceof Array?x:[x]},this.toXmlDateTime=function(x){return x instanceof Date?x.toISOString():typeof x=="number"?new Date(x).toISOString():null},this.asDateTime=function(x){return typeof x=="string"?T(x):x},this.xml2json=function(x){return w(x)},this.xml_str2json=function(x){var re=this.parseXmlString(x);return re!=null?this.xml2json(re):null},this.json2xml_str=function(x){return fe(x,"")},this.json2xml=function(x){var re=this.json2xml_str(x);return this.parseXmlString(re)},this.getVersion=function(){return"1.2.0"}};var Or="onLoad";function ba(u){u=u||{};var r,c,y,A,T,m,w=this.context,G=(0,g.Z)(w).getInstance(),V=(0,Ne.Z)(w).getInstance();function q(ne,se,fe){var x,re,ee={};ee.elements=ne,ee.type=se,ee.resolveType=fe,ee.elements.length===0&&H(ee);for(var ie=0;ie<ee.elements.length;ie++)x=ee.elements[ie],re=V.isHTTPURL(x.url)?x.url:x.originalContent.BaseURL+x.url,m.load(re,x,ee)}function N(ne){var se,fe,x="";if(se=ne.element,fe=ne.resolveObject,se.resolvedContent){var re=0;se.resolvedContent.indexOf("<?xml")===0&&(re=se.resolvedContent.indexOf("?>")+2),x=se.resolvedContent.substr(0,re)+"<response>"+se.resolvedContent.substr(re)+"</response>",se.resolvedContent=T.xml_str2json(x)}(function(ee){var ie;for(ie=0;ie<ee.elements.length;ie++)if(ee.elements[ie].resolved===!1)return!1;return!0})(fe)&&H(fe)}function H(ne){var se,fe,x=[];if(function(re){var ee,ie,p,L,Z,M,R=[];for(L=re.elements.length-1;L>=0;L--){if(ie=(ee=re.elements[L]).type+"_asArray",ee.resolvedContent){if(ee.resolvedContent)for(Z=0;Z<ee.resolvedContent[ie].length;Z++)p=ee.resolvedContent[ie][Z],R.push(p)}else delete ee.originalContent["xlink:actuate"],delete ee.originalContent["xlink:href"],R.push(ee.originalContent);for(ee.parentElement[ie].splice(ee.index,1),M=0;M<R.length;M++)ee.parentElement[ie].splice(ee.index+M,0,R[M]);R=[]}re.elements.length>0&&y.run(A)}(ne),ne.resolveType==="onActuate"&&G.trigger(i.Z.XLINK_READY,{manifest:A}),ne.resolveType===Or)switch(ne.type){case n.Z.PERIOD:for(se=0;se<A[n.Z.PERIOD+"_asArray"].length;se++)(fe=A[n.Z.PERIOD+"_asArray"][se]).hasOwnProperty(n.Z.ADAPTATION_SET+"_asArray")&&(x=x.concat(Y(fe[n.Z.ADAPTATION_SET+"_asArray"],fe,n.Z.ADAPTATION_SET,Or))),fe.hasOwnProperty(n.Z.EVENT_STREAM+"_asArray")&&(x=x.concat(Y(fe[n.Z.EVENT_STREAM+"_asArray"],fe,n.Z.EVENT_STREAM,Or)));q(x,n.Z.ADAPTATION_SET,Or);break;case n.Z.ADAPTATION_SET:G.trigger(i.Z.XLINK_READY,{manifest:A})}}function Y(ne,se,fe,x){var re,ee,ie,p=[];for(ee=ne.length-1;ee>=0;ee--)(re=ne[ee]).hasOwnProperty("xlink:href")&&re["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&ne.splice(ee,1);for(ee=0;ee<ne.length;ee++)(re=ne[ee]).hasOwnProperty("xlink:href")&&re.hasOwnProperty("xlink:actuate")&&re["xlink:actuate"]===x&&(ie=ge(re["xlink:href"],se,fe,ee,x,re),p.push(ie));return p}function ge(ne,se,fe,x,re,ee){return{url:ne,parentElement:se,type:fe,index:x,resolveType:re,originalContent:ee,resolvedContent:null,resolved:!1}}return r={resolveManifestOnLoad:function(ne){T=new Sa({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:c}),(A=ne).Period_asArray?q(Y(A.Period_asArray,A,n.Z.PERIOD,Or),n.Z.PERIOD,Or):G.trigger(i.Z.XLINK_READY,{manifest:A})},setMatchers:function(ne){ne&&(c=ne)},setIron:function(ne){ne&&(y=ne)},reset:function(){G.off(i.Z.XLINK_ELEMENT_LOADED,N,r),m&&(m.reset(),m=null)}},G.on(i.Z.XLINK_ELEMENT_LOADED,N,r),m=Mo(w).create({errHandler:u.errHandler,dashMetrics:u.dashMetrics,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,settings:u.settings}),r}ba.__dashjs_factory_name="XlinkController";const Po=h.Z.getClassFactory(ba);function Vr(u){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vr(u)}function Aa(u){function r(A,T){for(var m in A)T.hasOwnProperty(m)||(T[m]=A[m])}function c(A,T,m){for(var w=0,G=A.length;w<G;++w){var V=A[w];if(T[V.name])if(m[V.name]){if(V.merge){var q=T[V.name],N=m[V.name];Vr(q)==="object"&&Vr(N)==="object"?r(q,N):m[V.name]=q+N}}else m[V.name]=T[V.name]}}function y(A,T){for(var m=0,w=A.children.length;m<w;++m){var G=A.children[m],V=T[G.name+"_asArray"];if(V)for(var q=0,N=V.length;q<N;++q){var H=V[q];c(A.properties,T,H),y(G,H)}}}return{run:function(A){if(A===null||Vr(A)!=="object")return A;if(A.Period_asArray&&"period"in u)for(var T=u.period,m=A.Period_asArray,w=0,G=m.length;w<G;++w){var V=m[w];if(y(T,V),"adaptationset"in u){var q=V.AdaptationSet_asArray;if(q)for(var N=u.adaptationset,H=0,Y=q.length;H<Y;++H)y(N,q[H])}}return A}}}Aa.__dashjs_factory_name="ObjectIron";const Lo=h.Z.getClassFactory(Aa);function xo(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const Kr=function(){function u(y,A){(function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u),this._test=y,this._converter=A}var r,c;return r=u,(c=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&xo(r.prototype,c),u}();function Mi(u){return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mi(u)}function Cn(u,r,c){return r in u?Object.defineProperty(u,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[r]=c,u}function Pi(u,r){return Pi=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Pi(u,r)}function Fo(u,r){return!r||Mi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function fi(u){return fi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fi(u)}const ko=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&Pi(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=fi(r);if(c){var w=fi(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Fo(this,T)});function A(){return function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}(this,A),y.call(this,function(T,m){var w,G=(Cn(w={},n.Z.MPD,[n.Z.ID,n.Z.PROFILES]),Cn(w,n.Z.PERIOD,[n.Z.ID]),Cn(w,n.Z.BASE_URL,[n.Z.SERVICE_LOCATION,n.Z.BYTE_RANGE]),Cn(w,n.Z.SEGMENT_BASE,[n.Z.INDEX_RANGE]),Cn(w,n.Z.INITIALIZATION,[n.Z.RANGE]),Cn(w,n.Z.REPRESENTATION_INDEX,[n.Z.RANGE]),Cn(w,n.Z.SEGMENT_LIST,[n.Z.INDEX_RANGE]),Cn(w,n.Z.BITSTREAM_SWITCHING,[n.Z.RANGE]),Cn(w,n.Z.SEGMENT_URL,[n.Z.MEDIA_RANGE,n.Z.INDEX_RANGE]),Cn(w,n.Z.SEGMENT_TEMPLATE,[n.Z.INDEX_RANGE,n.Z.MEDIA,n.Z.INDEX,n.Z.INITIALIZATION_MINUS,n.Z.BITSTREAM_SWITCHING_MINUS]),Cn(w,n.Z.ASSET_IDENTIFIER,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.EVENT_STREAM,[n.Z.VALUE]),Cn(w,n.Z.ADAPTATION_SET,[n.Z.PROFILES,n.Z.MIME_TYPE,n.Z.SEGMENT_PROFILES,n.Z.CODECS,n.Z.CONTENT_TYPE]),Cn(w,n.Z.FRAME_PACKING,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.AUDIO_CHANNEL_CONFIGURATION,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.CONTENT_PROTECTION,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.ESSENTIAL_PROPERTY,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.SUPPLEMENTAL_PROPERTY,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.INBAND_EVENT_STREAM,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.ACCESSIBILITY,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.ROLE,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.RATING,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.VIEWPOINT,[n.Z.VALUE,n.Z.ID]),Cn(w,n.Z.CONTENT_COMPONENT,[n.Z.CONTENT_TYPE]),Cn(w,n.Z.REPRESENTATION,[n.Z.ID,n.Z.DEPENDENCY_ID,n.Z.MEDIA_STREAM_STRUCTURE_ID]),Cn(w,n.Z.SUBSET,[n.Z.ID]),Cn(w,n.Z.METRICS,[n.Z.METRICS_MINUS]),Cn(w,n.Z.REPORTING,[n.Z.VALUE,n.Z.ID]),w);if(G.hasOwnProperty(m)){var V=G[m];return V!==void 0&&V.indexOf(T.name)>=0}return!1},function(T){return String(T)})}return A}(Kr);function Li(u){return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Li(u)}function xi(u,r){return xi=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},xi(u,r)}function Zo(u,r){return!r||Li(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function di(u){return di=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},di(u)}var Ia=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const Uo=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&xi(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=di(r);if(c){var w=di(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Zo(this,T)});function A(){return function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}(this,A),y.call(this,function(T){for(var m=[n.Z.MIN_BUFFER_TIME,n.Z.MEDIA_PRESENTATION_DURATION,n.Z.MINIMUM_UPDATE_PERIOD,n.Z.TIMESHIFT_BUFFER_DEPTH,n.Z.MAX_SEGMENT_DURATION,n.Z.MAX_SUBSEGMENT_DURATION,n.Z.SUGGESTED_PRESENTATION_DELAY,n.Z.START,e.Z.START_TIME,n.Z.DURATION],w=m.length,G=0;G<w;G++)if(T.nodeName===m[G])return Ia.test(T.value);return!1},function(T){var m=Ia.exec(T),w=31536e3*parseFloat(m[3]||0)+2592e3*parseFloat(m[5]||0)+86400*parseFloat(m[7]||0)+3600*parseFloat(m[9]||0)+60*parseFloat(m[11]||0)+parseFloat(m[13]||0);return m[1]!==void 0&&(w=-w),w})}return A}(Kr);function Fi(u){return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fi(u)}function ki(u,r){return ki=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},ki(u,r)}function Bo(u,r){return!r||Fi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function gi(u){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gi(u)}var Ra=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const Go=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&ki(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=gi(r);if(c){var w=gi(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Bo(this,T)});function A(){return function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}(this,A),y.call(this,function(T){return Ra.test(T.value)},function(T){var m,w=Ra.exec(T);if(m=Date.UTC(parseInt(w[1],10),parseInt(w[2],10)-1,parseInt(w[3],10),parseInt(w[4],10),parseInt(w[5],10),w[6]&&parseInt(w[6],10)||0,w[7]&&1e3*parseFloat(w[7])||0),w[9]&&w[10]){var G=60*parseInt(w[9],10)+parseInt(w[10],10);m+=(w[8]==="+"?-1:1)*G*60*1e3}return new Date(m)})}return A}(Kr);function Zi(u){return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zi(u)}function Ui(u,r){return Ui=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Ui(u,r)}function qo(u,r){return!r||Zi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function hi(u){return hi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hi(u)}var Yo=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const jo=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&Ui(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=hi(r);if(c){var w=hi(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return qo(this,T)});function A(){return function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}(this,A),y.call(this,function(T){return Yo.test(T.value)},function(T){return parseFloat(T)})}return A}(Kr);function Bi(u){return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bi(u)}function zr(u,r,c){return r in u?Object.defineProperty(u,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[r]=c,u}function Gi(u,r){return Gi=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Gi(u,r)}function Ho(u,r){return!r||Bi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function mi(u){return mi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mi(u)}const Vo=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&Gi(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=mi(r);if(c){var w=mi(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Ho(this,T)});function A(){return function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}(this,A),y.call(this,function(T,m){var w,G=(zr(w={},n.Z.ADAPTATION_SET,[n.Z.LANG]),zr(w,n.Z.REPRESENTATION,[n.Z.LANG]),zr(w,n.Z.CONTENT_COMPONENT,[n.Z.LANG]),zr(w,n.Z.LABEL,[n.Z.LANG]),zr(w,n.Z.GROUP_LABEL,[n.Z.LANG]),w);if(G.hasOwnProperty(m)){var V=G[m];return V!==void 0&&V.indexOf(T.name)>=0}return!1},function(T){var m=ui()(T);return m!==void 0?m:String(T)})}return A}(Kr);function Ko(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const zo=function(){function u(y){var A;(function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u),this._name=y,this._merge=(A=y)&&A.length&&A.charAt(0)===A.charAt(0).toUpperCase()}var r,c;return r=u,(c=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&Ko(r.prototype,c),u}();function Wo(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const Mr=function(){function u(y,A,T){var m=this;(function(w,G){if(!(w instanceof G))throw new TypeError("Cannot call a class as a function")})(this,u),this._name=y||"",this._properties=[],this._children=T||[],Array.isArray(A)&&A.forEach(function(w){m._properties.push(new zo(w))})}var r,c;return r=u,(c=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&Wo(r.prototype,c),u}();function qi(u){return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qi(u)}function Yi(u,r){return Yi=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Yi(u,r)}function Xo(u,r){return!r||qi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function pi(u){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},pi(u)}const Qo=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&Yi(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=pi(r);if(c){var w=pi(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Xo(this,T)});function A(){(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,A);var T=[n.Z.PROFILES,n.Z.WIDTH,n.Z.HEIGHT,n.Z.SAR,n.Z.FRAMERATE,n.Z.AUDIO_SAMPLING_RATE,n.Z.MIME_TYPE,n.Z.SEGMENT_PROFILES,n.Z.CODECS,n.Z.MAXIMUM_SAP_PERIOD,n.Z.START_WITH_SAP,n.Z.MAX_PLAYOUT_RATE,n.Z.CODING_DEPENDENCY,n.Z.SCAN_TYPE,n.Z.FRAME_PACKING,n.Z.AUDIO_CHANNEL_CONFIGURATION,n.Z.CONTENT_PROTECTION,n.Z.ESSENTIAL_PROPERTY,n.Z.ESSENTIAL_PROPERTY+"_asArray",n.Z.SUPPLEMENTAL_PROPERTY,n.Z.INBAND_EVENT_STREAM];return y.call(this,n.Z.ADAPTATION_SET,T,[new Mr(n.Z.REPRESENTATION,T,[new Mr(n.Z.SUB_REPRESENTATION,T)])])}return A}(Mr);function ji(u){return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ji(u)}function Hi(u,r){return Hi=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},Hi(u,r)}function Jo(u,r){return!r||ji(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function yi(u){return yi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yi(u)}const $o=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&Hi(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=yi(r);if(c){var w=yi(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return Jo(this,T)});function A(){(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,A);var T=[n.Z.SEGMENT_BASE,n.Z.SEGMENT_TEMPLATE,n.Z.SEGMENT_LIST];return y.call(this,n.Z.PERIOD,T,[new Mr(n.Z.ADAPTATION_SET,T,[new Mr(n.Z.REPRESENTATION,T)])])}return A}(Mr);function wa(u){u=u||{};var r,c,y,A,T,m=this.context,w=u.debug;return r={parse:function(G){var V,q=window.performance.now();if(!(V=A.xml_str2json(G)))throw new Error("parsing the manifest failed");var N=window.performance.now();V.Patch?((V=V.Patch).add_asArray&&V.add_asArray.forEach(function(Y){return T.run(Y)}),V.replace_asArray&&V.replace_asArray.forEach(function(Y){return T.run(Y)})):(V=V.MPD,T.run(V));var H=window.performance.now();return c.info("Parsing complete: ( xml2json: "+(N-q).toPrecision(3)+"ms, objectiron: "+(H-N).toPrecision(3)+"ms, total: "+((H-q)/1e3).toPrecision(3)+"s)"),V.protocol="DASH",V},getMatchers:function(){return y},getIron:function(){return T}},c=w.getLogger(r),y=[new Uo,new Go,new jo,new Vo,new ko],A=new Sa({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:y}),T=Lo(m).create({adaptationset:new Qo,period:new $o}),r}wa.__dashjs_factory_name="DashParser";const es=h.Z.getClassFactory(wa);function Na(u){u=u||{};var r,c,y,A,T,m=this.context,w=u.debug,G=u.settings,V=(0,g.Z)(m).getInstance(),q=(0,Ne.Z)(m).getInstance(),N=u.mssHandler,H=u.errHandler;function Y(ne){V.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:ne.manifest})}function ge(ne){var se=null;return ne.indexOf("SmoothStreamingMedia")>-1?(N&&(se=N.createMssParser(),N.createMssFragmentProcessor(),N.registerEvents()),se):ne.indexOf("MPD")>-1||ne.indexOf("Patch")>-1?es(m).create({debug:w}):se}return r={load:function(ne){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,x=new Date,re=new _a(ne,Ae.w.MPD_TYPE);se&&(re.serviceLocation=se),fe&&(re.queryParams=fe),re.requestStartDate||(re.requestStartDate=x),V.trigger(i.Z.MANIFEST_LOADING_STARTED,{request:re}),y.load({request:re,success:function(ee,ie,p){var L,Z,M;if(A)if(p&&p!==ne?(Z=q.parseBaseUrl(p),L=p):(q.isRelative(ne)&&(ne=q.resolve(ne,window.location.href)),Z=q.parseBaseUrl(ne)),ie!="No Content")if(T===null&&(T=ge(ee)),T!==null){A.setMatchers(T.getMatchers()),A.setIron(T.getIron());try{M=T.parse(ee)}catch{return void V.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.Z(te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ne))})}if(M){if(M.url=L||ne,M.originalUrl||(M.originalUrl=M.url),G&&G.get().streaming.enableManifestDurationMismatchFix&&M.mediaPresentationDuration&&M.Period_asArray.length>1){var R=M.Period_asArray.reduce(function(K,W){return K+W.duration},0);!isNaN(R)&&M.mediaPresentationDuration>R&&(c.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),M.mediaPresentationDuration=R)}M.baseUri=Z,M.loadedTime=new Date,A.resolveManifestOnLoad(M),V.trigger(i.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:ee})}else V.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.Z(te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ne))})}else V.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.Z(te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,te.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ne))});else V.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(ee,ie,p){V.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.Z(te.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,te.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ne,", ").concat(p))})}})},reset:function(){V.off(i.Z.XLINK_READY,Y,r),N&&N.reset(),A&&(A.reset(),A=null),y&&(y.abort(),y=null)}},c=w.getLogger(r),V.on(i.Z.XLINK_READY,Y,r),y=zn(m).create({errHandler:u.errHandler,dashMetrics:u.dashMetrics,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,urlUtils:q,constants:e.Z,dashConstants:n.Z,errors:te,requestTimeout:u.settings.get().streaming.manifestRequestTimeout}),A=Po(m).create({errHandler:H,dashMetrics:u.dashMetrics,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,settings:u.settings}),T=null,r}Na.__dashjs_factory_name="ManifestLoader";const ts=h.Z.getClassFactory(Na);function Ca(){var u=this.context,r=(0,g.Z)(u).getInstance();return{error:function(c){r.trigger(i.Z.ERROR,{error:c})}}}Ca.__dashjs_factory_name="ErrorHandler";const ns=h.Z.getSingletonFactory(Ca);var Da=D(1715);function Oa(){var u,r,c,y,A,T,m=this.context,w=(0,g.Z)(m).getInstance();function G(V,q){if(!q||!q.Period_asArray||q.Period_asArray.length===0)return Promise.resolve();var N=[];return q.Period_asArray.forEach(function(H){N.push(function(Y,ge){return new Promise(function(ne){if(Y&&Y.AdaptationSet_asArray&&Y.AdaptationSet_asArray.length!==0){var se=[];Y.AdaptationSet_asArray.forEach(function(fe){r.getIsTypeOf(fe,ge)&&se.push(function(x,re){return new Promise(function(ee){if(x.Representation_asArray&&x.Representation_asArray.length!==0){var ie=[],p=[];x.Representation_asArray.forEach(function(L,Z){var M=r.getCodec(x,Z,!1),R=function(K,W,ue){switch(K){case e.Z.VIDEO:return function(C,U){return{codec:U,width:C.width||null,height:C.height||null,framerate:C.frameRate||null,bitrate:C.bandwidth||null}}(W,ue);case e.Z.AUDIO:return function(C,U){var me=C.audioSamplingRate||null;return{codec:U,bitrate:C.bandwidth||null,samplerate:me}}(W,ue);default:return null}}(re,L,M);p.push(R),ie.push(c.supportsCodec(R,re))}),Promise.all(ie).then(function(L){x.Representation_asArray=x.Representation_asArray.filter(function(Z,M){return L[M]||T.debug("[Stream] Codec ".concat(p[M].codec," not supported ")),L[M]}),ee()}).catch(function(){ee()})}else ee()})}(fe,ge))}),Promise.all(se).then(function(){Y.AdaptationSet_asArray=Y.AdaptationSet_asArray.filter(function(fe){var x=fe.Representation_asArray&&fe.Representation_asArray.length>0;return x||(w.trigger(i.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:fe}),T.warn("AdaptationSet has been removed because of no supported Representation")),x}),ne()}).catch(function(){ne()})}else ne()})}(H,V))}),Promise.all(N)}return u={setConfig:function(V){V&&(V.adapter&&(r=V.adapter),V.capabilities&&(c=V.capabilities),V.settings&&(y=V.settings),V.customParametersModel&&(A=V.customParametersModel))},filterUnsupportedFeatures:function(V){return new Promise(function(q){var N=[];N.push(G(e.Z.VIDEO,V)),N.push(G(e.Z.AUDIO,V)),Promise.all(N).then(function(){y.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(H){H&&H.Period_asArray&&H.Period_asArray.length!==0&&H.Period_asArray.forEach(function(Y){Y.AdaptationSet_asArray=Y.AdaptationSet_asArray.filter(function(ge){return!ge.Representation_asArray||ge.Representation_asArray.length===0||(ge.Representation_asArray=ge.Representation_asArray.filter(function(ne){var se=r.getEssentialPropertiesForRepresentation(ne);if(se&&se.length>0)for(var fe=0;fe<se.length;){if(!c.supportsEssentialProperty(se[fe]))return T.debug("[Stream] EssentialProperty not supported: "+se[fe].schemeIdUri),!1;fe+=1}return!0}),ge.Representation_asArray&&ge.Representation_asArray.length>0)})})}(V),function(H){var Y=A.getCustomCapabilitiesFilters();Y&&Y.length!==0&&H&&H.Period_asArray&&H.Period_asArray.length!==0&&H.Period_asArray.forEach(function(ge){ge.AdaptationSet_asArray=ge.AdaptationSet_asArray.filter(function(ne){return!ne.Representation_asArray||ne.Representation_asArray.length===0||(ne.Representation_asArray=ne.Representation_asArray.filter(function(se){return!Y.some(function(fe){return!fe(se)})}),ne.Representation_asArray&&ne.Representation_asArray.length>0)})})}(V),q()}).catch(function(){q()})})}},T=(0,_.Z)(m).getInstance().getLogger(u),u}Oa.__dashjs_factory_name="CapabilitiesFilter";const rs=h.Z.getSingletonFactory(Oa),is=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Ma(){var u;return{initialize:function(r){if(u=new is,!r)return null;var c=r.indexOf("#");if(c!==-1)for(var y=r.substr(c+1).split("&"),A=0,T=y.length;A<T;++A){var m=y[A],w=m.indexOf("=");if(w!==-1){var G=m.substring(0,w);u.hasOwnProperty(G)&&(u[G]=m.substr(w+1))}}},getURIFragmentData:function(){return u}}}Ma.__dashjs_factory_name="URIFragmentModel";const as=h.Z.getSingletonFactory(Ma);function Pa(){var u,r=this.context,c=(0,g.Z)(r).getInstance();return{getValue:function(){return u},setValue:function(y){u=y,y&&c.trigger(i.Z.MANIFEST_LOADED,{data:y})}}}Pa.__dashjs_factory_name="ManifestModel";const os=h.Z.getSingletonFactory(Pa);var Vi=-.5;function La(){var u,r,c,y,A=this.context,T=(0,st.Z)(A).getInstance();function m(V,q){return isNaN(V)?0:V>0?(q&&r.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):V<Vi?(q&&r.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(Vi,": ").concat(-50,"% playback speed.")),Vi):V}function w(V,q){return isNaN(V)?0:V<0?(q&&r.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):V>1?(q&&r.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):V}function G(){var V=T.get().streaming.buffer.stableBufferTime>0?T.get().streaming.buffer.stableBufferTime:T.get().streaming.buffer.fastSwitchEnabled?20:12,q=c.getLiveDelay();return!isNaN(q)&&q>0?Math.min(V,q):V}return u={getCatchupMaxDrift:function(){if(!isNaN(T.get().streaming.liveCatchup.maxDrift)&&T.get().streaming.liveCatchup.maxDrift>0)return T.get().streaming.liveCatchup.maxDrift;var V=y.getServiceDescriptionSettings();return V&&V.liveCatchup&&!isNaN(V.liveCatchup.maxDrift)&&V.liveCatchup.maxDrift>0?V.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return T.get().streaming.liveCatchup.enabled!==null?T.get().streaming.liveCatchup.enabled:c.getInitialCatchupModeActivated()},getStableBufferTime:G,getInitialBufferLevel:function(){var V=T.get().streaming.buffer.initialBufferLevel;return isNaN(V)||V<0?0:Math.min(G(),V)},getRetryAttemptsForType:function(V){var q=isNaN(T.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:T.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return c.getLowLatencyModeEnabled()?T.get().streaming.retryAttempts[V]*q:T.get().streaming.retryAttempts[V]},getRetryIntervalsForType:function(V){var q=isNaN(T.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:T.get().streaming.retryIntervals.lowLatencyReductionFactor;return c.getLowLatencyModeEnabled()?T.get().streaming.retryIntervals[V]/q:T.get().streaming.retryIntervals[V]},getCatchupPlaybackRates:function(V){var q=T.get().streaming.liveCatchup.playbackRate;if(!isNaN(q.min)||!isNaN(q.max))return{min:m(q.min,V),max:w(q.max,V)};var N=y.getServiceDescriptionSettings();if(N&&N.liveCatchup&&(!isNaN(N.liveCatchup.playbackRate.min)||!isNaN(N.liveCatchup.playbackRate.max))){var H=N.liveCatchup.playbackRate;return{min:m(H.min,V),max:w(H.max,V)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(V,q){try{var N=T.get().streaming.abr[V][q];if(!isNaN(N)&&N!==-1)return N;var H=y.getServiceDescriptionSettings();return H&&H[V]&&!isNaN(H[V][q])?H[V][q]:-1}catch{return-1}},setConfig:function(V){V.playbackController&&(c=V.playbackController),V.serviceDescriptionController&&(y=V.serviceDescriptionController)},reset:function(){}},r=(0,_.Z)(A).getInstance().getLogger(u),u}La.__dashjs_factory_name="MediaPlayerModel";const ss=h.Z.getSingletonFactory(La);var us=D(1767);function xa(u){var r=(u=u||{}).abrController,c=u.switchHistory,y=u.droppedFramesHistory,A=u.currentRequest,T=u.useBufferOccupancyABR,m=u.useL2AABR,w=u.useLoLPABR,G=u.streamProcessor?u.streamProcessor.getScheduleController():null,V=u.streamProcessor?u.streamProcessor.getRepresentationInfo():null,q=u.videoModel?u.videoModel:null;function N(){return V?V.mediaInfo:null}return{getMediaType:function(){var H=N();return H?H.type:null},getMediaInfo:N,getDroppedFramesHistory:function(){return y},getCurrentRequest:function(){return A},getSwitchHistory:function(){return c},getStreamInfo:function(){var H=N();return H?H.streamInfo:null},getScheduleController:function(){return G},getAbrController:function(){return r},getRepresentationInfo:function(){return V},useBufferOccupancyABR:function(){return T},useL2AABR:function(){return m},useLoLPABR:function(){return w},getVideoModel:function(){return q}}}xa.__dashjs_factory_name="RulesContext";const Fa=h.Z.getClassFactory(xa);var Ei=D(2068);function ka(){var u=[],r=[];return{push:function(c){c.newValue===Ei.Z.NO_CHANGE&&(c.newValue=c.oldValue),u[c.oldValue]||(u[c.oldValue]={noDrops:0,drops:0,dropSize:0});var y=c.newValue-c.oldValue,A=y<0?1:0,T=A?-y:0,m=A?0:1;if(u[c.oldValue].drops+=A,u[c.oldValue].dropSize+=T,u[c.oldValue].noDrops+=m,r.push({idx:c.oldValue,noDrop:m,drop:A,dropSize:T}),r.length>8){var w=r.shift();u[w.idx].drops-=w.drop,u[w.idx].dropSize-=w.dropSize,u[w.idx].noDrops-=w.noDrop}},getSwitchRequests:function(){return u},reset:function(){u=[],r=[]}}}ka.__dashjs_factory_name="SwitchRequestHistory";const ls=h.Z.getClassFactory(ka);function Za(){var u={},r={},c={};return{push:function(y,A,T){if(A){u[y]||(u[y]=[],r[y]=0,c[y]=0);var m=T&&T.droppedVideoFrames?T.droppedVideoFrames:0,w=T&&T.totalVideoFrames?T.totalVideoFrames:0,G=m-r[y];r[y]=m;var V=w-c[y];c[y]=w;var q=u[y];isNaN(A)||(q[A]?(q[A].droppedVideoFrames+=G,q[A].totalVideoFrames+=V):q[A]={droppedVideoFrames:G,totalVideoFrames:V})}},getFrameHistory:function(y){return u[y]},clearForStream:function(y){try{delete u[y],delete r[y],delete c[y]}catch{}},reset:function(){u={},r={},c={}}}}Za.__dashjs_factory_name="DroppedFramesHistory";const cs=h.Z.getClassFactory(Za);function Ua(u){var r,c,y,A,T,m=this.context,w=(u=u||{}).settings,G=(0,g.Z)(m).getInstance();function V(ne,se,fe,x){var re=Math.pow(.5,fe/x.fast);ne.fastEstimate=(1-re)*se+re*ne.fastEstimate;var ee=Math.pow(.5,fe/x.slow);ne.slowEstimate=(1-ee)*se+ee*ne.slowEstimate,ne.totalWeight+=fe}function q(ne,se,fe){return w.get().streaming.abr.movingAverageMethod!==e.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(x,re){var ee=x?T.throughputHalfLife:T.latencyHalfLife,ie=x?y[re]:A[re];if(!ie||ie.totalWeight<=0)return NaN;var p=ie.fastEstimate/(1-Math.pow(.5,ie.totalWeight/ee.fast)),L=ie.slowEstimate/(1-Math.pow(.5,ie.totalWeight/ee.slow));return x?Math.min(p,L):Math.max(p,L)}(ne,se):function(x,re,ee){var ie=function(L,Z,M){var R,K;if(L?(R=r[Z],K=M?3:4):(R=c[Z],K=4),R){if(K>=R.length)K=R.length;else if(L)for(var W=1;W<K;++W){var ue=R[R.length-W]/R[R.length-W-1];if((ue>=1.3||ue<=.7692307692307692)&&(K+=1)===R.length)break}}else K=0;return K}(x,re,ee),p=(x?r:c)[re];return ie!==0&&p&&p.length!==0?(p=p.slice(-ie)).reduce(function(L,Z){return L+Z})/p.length:NaN}(ne,se,fe)}function N(ne,se){return q(!0,ne,se)}function H(ne){r[ne]=r[ne]||[],c[ne]=c[ne]||[],y[ne]=y[ne]||{fastEstimate:0,slowEstimate:0,totalWeight:0},A[ne]=A[ne]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Y(){r={},c={},y={},A={}}var ge={push:function(ne,se,fe){if(se.trace&&se.trace.length){var x,re=se.tresponse.getTime()-se.trequest.getTime()||1,ee=se._tfinish.getTime()-se.tresponse.getTime()||1,ie=se.trace.reduce(function(M,R){return M+R.b[0]},0),p=0;if((x=se._fileLoaderType&&se._fileLoaderType===e.Z.FILE_LOADER_TYPES.FETCH?se.trace.reduce(function(M,R){return M+R.d},0):fe?ee:re+ee)!==0&&(p=Math.round(8*ie/x)),se.cmsd){var L=se.cmsd.dynamic&&se.cmsd.dynamic.etp?se.cmsd.dynamic.etp:null;if(L){var Z=w.get().streaming.cmsd.abr.etpWeightRatio;Z>0&&Z<=1&&(p=p*(1-Z)+L*Z)}}if(H(ne),function(M,R,K){return M===e.Z.VIDEO?K<w.get().streaming.cacheLoadThresholds[e.Z.VIDEO]:M===e.Z.AUDIO?K<w.get().streaming.cacheLoadThresholds[e.Z.AUDIO]:void 0}(ne,0,ee)){if(r[ne].length>0&&!r[ne].hasCachedEntries)return;r[ne].hasCachedEntries=!0}else r[ne]&&r[ne].hasCachedEntries&&function(M){delete r[M],delete c[M],delete y[M],delete A[M],H(M)}(ne);r[ne].push(p),G.trigger(t.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:p,mediaType:ne,httpRequest:se}),r[ne].length>20&&r[ne].shift(),c[ne].push(re),c[ne].length>20&&c[ne].shift(),V(y[ne],p,.001*ee,T.throughputHalfLife),V(A[ne],re,1,T.latencyHalfLife)}},getAverageThroughput:N,getSafeAverageThroughput:function(ne,se){var fe=N(ne,se);return isNaN(fe)||(fe*=w.get().streaming.abr.bandwidthSafetyFactor),fe},getAverageLatency:function(ne){return q(!1,ne)},reset:Y};return T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Y(),ge}Ua.__dashjs_factory_name="ThroughputHistory";const fs=h.Z.getClassFactory(Ua);function Ki(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re,ee,ie,p,L,Z,M,R,K=this.context,W=(0,_.Z)(K).getInstance(),ue=(0,g.Z)(K).getInstance();function C(){A={},T={},w={},m={},re={},p={},L={},Z={},V===void 0&&(V=!1),ee&&ee.reset(),x=void 0,ee=void 0,ie=void 0,clearTimeout(G),G=null}function U(_e){var le=_e.request.mediaType,Oe=_e.streamId;if(le&&Oe&&m[Oe]&&R.get().streaming.abr.autoSwitchBitrate[le]){var pe=m[Oe][le];if(pe){var Pe=Fa(K).create({abrController:u,streamProcessor:pe,currentRequest:_e.request,useBufferOccupancyABR:p[le],useL2AABR:L[le],useLoLPABR:Z[le],videoModel:Y}),Ge=c.shouldAbandonFragment(Pe,Oe);Ge.quality>Ei.Z.NO_CHANGE&&pe.getFragmentModel().getRequests({state:I.FRAGMENT_MODEL_LOADING,index:_e.request.index})[0]&&(w[Oe][le].state=S.Z.ABANDON_LOAD,re[Oe][le].reset(),re[Oe][le].push({oldValue:Ee(le,Oe),newValue:Ge.quality,confidence:1,reason:Ge.reason}),Fe(le,y.getActiveStreamInfo(),Ge.quality,Ge.reason),clearTimeout(G),G=setTimeout(function(){w[Oe][le].state=S.Z.ALLOW_LOAD,G=null},R.get().streaming.abandonLoadTimeout))}}}function me(_e){_e.mediaType===e.Z.VIDEO&&(x!==void 0&&ee.push(_e.streamId,x,Y.getPlaybackQuality()),x=_e.newQuality)}function Se(_e){var le,Oe;_e.metric!==S.Z.HTTP_REQUEST||!_e.value||_e.value.type!==Ae.w.MEDIA_SEGMENT_TYPE||_e.mediaType!==e.Z.AUDIO&&_e.mediaType!==e.Z.VIDEO||ie.push(_e.mediaType,_e.value,R.get().streaming.abr.useDeadTimeLatency),_e.metric!==S.Z.BUFFER_LEVEL||_e.mediaType!==e.Z.AUDIO&&_e.mediaType!==e.Z.VIDEO||(le=_e.mediaType,Oe=.001*_e.value.level,R.get().streaming.abr.ABRStrategy===e.Z.ABR_STRATEGY_DYNAMIC&&function(pe,Pe){try{var Ge=ge.getStableBufferTime(),Ve=Ge,ct=.5*Ge,St=p[pe],qt=Pe>(St?ct:Ve);p[pe]=qt,qt!==St&&(qt?r.info("["+pe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Pe.toFixed(3)+")."):r.info("["+pe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Pe.toFixed(3)+")."))}catch(jt){r.error(jt)}}(le,Oe))}function Re(_e,le){try{var Oe;return A[le]=A[le]||{},A[le].hasOwnProperty(_e)||(A[le][_e]=0),Oe=function(pe,Pe){var Ge=A[Pe][pe],Ve=Ge;if(!m[Pe]||!m[Pe][pe])return Ve;var ct=Me(pe,Pe);ct!==void 0&&(Ve=Math.max(Ge,ct));var St=function(qt,jt){try{var kt=ge.getAbrBitrateParameter("maxBitrate",qt);return kt>-1?rt(m[jt][qt].getMediaInfo(),kt,jt):void 0}catch{return}}(pe,Pe);return St!==void 0&&(Ve=Math.min(Ve,St)),Ve}(_e,le),Oe=function(pe,Pe,Ge){var Ve=A[Ge][Pe],ct=R.get().streaming.abr.maxRepresentationRatio[Pe];return isNaN(ct)||ct>=1||ct<0?pe:Math.min(pe,Math.round(Ve*ct))}(Oe,_e,le),Oe=function(pe,Pe,Ge){if(Pe!==e.Z.VIDEO||!R.get().streaming.abr.limitBitrateByPortal||!m[Ge]||!m[Ge][Pe])return pe;V||Ct();var Ve=m[Ge][Pe].getStreamInfo(),ct=H.getAdaptationForType(Ve.index,Pe,Ve).Representation_asArray,St=pe;if(q>0&&N>0){for(;St>0&&ct[St]&&q<ct[St].width&&q-ct[St-1].width<ct[St].width-q;)St-=1;for(;St<ct.length-1&&ct[St].width===ct[St+1].width;)St+=1}return St}(Oe,_e,le),R.get().streaming.cmsd.enabled&&R.get().streaming.cmsd.abr.applyMb&&(Oe=function(pe,Pe,Ge){if(Pe!=="video")return pe;var Ve=se.getMaxBitrate(Pe);if(Ve<0)return pe;var ct=Je(Ge,"audio",Ee("audio",Ge));Ve-=ct?ct.bitrate/1e3:0;var St=rt(m[Ge][Pe].getMediaInfo(),Ve,Ge);return r.debug("Stream ID: "+Ge+" ["+Pe+"] Apply max bit rate from CMSD: "+Ve),Math.min(pe,St)}(Oe,_e,le)),Oe}catch{return}}function Me(_e,le){try{return function(Oe,pe){try{var Pe=ge.getAbrBitrateParameter("minBitrate",Oe);if(Pe>-1){var Ge=m[pe][Oe].getMediaInfo(),Ve=Tt(Ge),ct=rt(Ge,Pe,pe);return Ve[ct]&&ct<Ve.length-1&&Ve[ct].bitrate<1e3*Pe&&ct++,ct}return}catch{return}}(_e,le)}catch{return}}function Ee(_e){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return le||(le=y.getActiveStreamInfo().id),_e&&m[le]&&m[le][_e]&&le?(T[le]=T[le]||{},T[le].hasOwnProperty(_e)||(T[le][_e]=0),T[le][_e]):0}catch{return 0}}function Fe(_e,le,Oe){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(le&&le.id&&_e){var Pe=le.id,Ge=Ee(_e,Pe);(0,Q.SE)(Oe);var Ve=Re(_e,Pe);Oe!==Ge&&Oe>=0&&Oe<=Ve&&dt(_e,Ge,Oe,Ve,pe,Pe)}}function dt(_e,le,Oe,pe,Pe,Ge){if(_e&&m[Ge]&&m[Ge][_e]){var Ve=m[Ge][_e].getStreamInfo(),ct=Ve&&Ve.manifestInfo&&Ve.manifestInfo.isDynamic,St=M.getCurrentBufferLevel(_e);r.info("Stream ID: "+Ge+" ["+_e+"] switch from "+le+" to "+Oe+"/"+pe+" (buffer: "+St+") "+(Pe?JSON.stringify(Pe):".")),T[Ge]=T[Ge]||{},T[Ge][_e]=Oe;var qt=Je(Ge,_e,Oe);ue.trigger(i.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:le,newQuality:Oe,reason:Pe,streamInfo:Ve,bitrateInfo:qt,maxIdx:pe,mediaType:_e},{streamId:Ve.id,mediaType:_e});var jt=ie.getAverageThroughput(_e,ct);isNaN(jt)||fe.setSavedBitrateSettings(_e,jt)}}function Je(_e,le,Oe){if(le&&m&&m[_e]&&m[_e][le]){var pe=Tt(m[_e][le].getMediaInfo());return pe[Oe]?pe[Oe]:null}return null}function rt(_e,le,Oe){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Pe=_e&&_e.type?m[Oe][_e.type].getRepresentationInfo():null;if(R.get().streaming.abr.useDeadTimeLatency&&pe&&Pe&&Pe.fragmentDuration){pe/=1e3;var Ge=Pe.fragmentDuration;if(pe>Ge)return 0;var Ve=pe/Ge;le*=1-Ve}for(var ct=Tt(_e),St=ct.length-1;St>=0;St--){var qt=ct[St];if(1e3*le>=qt.bitrate)return St}return 0}function Tt(_e){var le=[];if(!_e||!_e.bitrateList)return le;for(var Oe,pe=_e.bitrateList,Pe=_e.type,Ge=0,Ve=pe.length;Ge<Ve;Ge++)(Oe=new ni).mediaType=Pe,Oe.qualityIndex=Ge,Oe.bitrate=pe[Ge].bandwidth,Oe.width=pe[Ge].width,Oe.height=pe[Ge].height,Oe.scanType=pe[Ge].scanType,le.push(Oe);return le}function Ct(){if(Y){var _e=R.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;q=Y.getClientWidth()*_e,N=Y.getClientHeight()*_e}}return u={initialize:function(){ee=cs(K).create(),ie=fs(K).create({settings:R}),(c=(0,us.Z)(K).create({dashMetrics:M,customParametersModel:ne,mediaPlayerModel:ge,settings:R})).initialize(),ue.on(t.Z.QUALITY_CHANGE_RENDERED,me,u),ue.on(t.Z.METRIC_ADDED,Se,u),ue.on(i.Z.LOADING_PROGRESS,U,u)},isPlayingAtTopQuality:function(_e){var le=_e?_e.id:null,Oe=Ee(e.Z.AUDIO,le),pe=Ee(e.Z.VIDEO,le);return Oe===Re(e.Z.AUDIO,le)&&pe===Re(e.Z.VIDEO,le)},updateTopQualityIndex:function(_e){var le=_e.type,Oe=_e.streamInfo.id,pe=_e.representationCount-1;return A[Oe]=A[Oe]||{},A[Oe][le]=pe,pe},clearDataForStream:function(_e){ee&&ee.clearForStream(_e),m[_e]&&delete m[_e],re[_e]&&delete re[_e],w[_e]&&delete w[_e]},getThroughputHistory:function(){return ie},getBitrateList:Tt,getQualityForBitrate:rt,getTopBitrateInfoFor:function(_e){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(le||(le=y.getActiveStreamInfo().id),_e&&m&&m[le]&&m[le][_e]){var Oe=Re(_e,le),pe=Tt(m[le][_e].getMediaInfo());return pe[Oe]?pe[Oe]:null}return null},getMinAllowedIndexFor:Me,getMaxAllowedIndexFor:Re,getInitialBitrateFor:function(_e,le){if(function(){if(!fe||!fe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(e.Z.MISSING_CONFIG_ERROR)}(),_e===e.Z.TEXT)return NaN;var Oe=fe.getSavedBitrateSettings(_e),pe=ge.getAbrBitrateParameter("initialBitrate",_e),Pe=R.get().streaming.abr.initialRepresentationRatio[_e];if(pe===-1)if(Pe>-1){var Ge=m[le][_e].getStreamInfo(),Ve=H.getAdaptationForType(Ge.index,_e,Ge).Representation_asArray;pe=Array.isArray(Ve)?Ve[Math.max(Math.round(Ve.length*Pe)-1,0)].bandwidth/1e3:0}else pe=isNaN(Oe)?_e===e.Z.VIDEO?1e3:100:Oe;return pe},getQualityFor:Ee,getAbandonmentStateFor:function(_e,le){return w[_e]&&w[_e][le]?w[_e][le].state:null},setPlaybackQuality:Fe,checkPlaybackQuality:function(_e,le){try{if(!(_e&&m&&m[le]&&m[le][_e]))return!1;if(ee){var Oe=Y.getPlaybackQuality();Oe&&ee.push(le,x,Oe)}if(!R.get().streaming.abr.autoSwitchBitrate[_e])return!1;var pe=Ee(_e,le),Pe=Fa(K).create({abrController:u,switchHistory:re[le][_e],droppedFramesHistory:ee,streamProcessor:m[le][_e],currentValue:pe,useBufferOccupancyABR:p[_e],useL2AABR:L[_e],useLoLPABR:Z[_e],videoModel:Y}),Ge=Me(_e,le),Ve=Re(_e,le),ct=c.getMaxQuality(Pe),St=ct.quality;return Ge!==void 0&&(St>Ei.Z.NO_CHANGE?St:pe)<Ge&&(St=Ge),St>Ve&&(St=Ve),re[le][_e].push({oldValue:pe,newValue:St}),St>Ei.Z.NO_CHANGE&&St!==pe&&(w[le][_e].state===S.Z.ALLOW_LOAD||St<pe)&&(dt(_e,pe,St,Ve,ct.reason,le),!0)}catch{return!1}},setElementSize:Ct,setWindowResizeEventCalled:function(_e){V=_e},registerStreamType:function(_e,le){var Oe=le.getStreamInfo().id;m[Oe]||(m[Oe]={}),re[Oe]||(re[Oe]={}),w[Oe]||(w[Oe]={}),re[Oe][_e]=ls(K).create(),m[Oe][_e]=le,w[Oe][_e]={},w[Oe][_e].state=S.Z.ALLOW_LOAD,function(pe){var Pe=R.get().streaming.abr.ABRStrategy;Pe===e.Z.ABR_STRATEGY_L2A?(p[pe]=!1,Z[pe]=!1,L[pe]=!0):Pe===e.Z.ABR_STRATEGY_LoLP?(p[pe]=!1,Z[pe]=!0,L[pe]=!1):Pe===e.Z.ABR_STRATEGY_BOLA?(p[pe]=!0,Z[pe]=!1,L[pe]=!1):Pe===e.Z.ABR_STRATEGY_THROUGHPUT?(p[pe]=!1,Z[pe]=!1,L[pe]=!1):Pe===e.Z.ABR_STRATEGY_DYNAMIC&&(p[pe]=!(!p||!p[pe])&&p[pe],Z[pe]=!1,L[pe]=!1)}(_e),_e===e.Z.VIDEO&&Ct()},unRegisterStreamType:function(_e,le){try{m[_e]&&m[_e][le]&&delete m[_e][le],re[_e]&&re[_e][le]&&delete re[_e][le],w[_e]&&w[_e][le]&&delete w[_e][le]}catch{}},setConfig:function(_e){_e&&(_e.streamController&&(y=_e.streamController),_e.domStorage&&(fe=_e.domStorage),_e.mediaPlayerModel&&(ge=_e.mediaPlayerModel),_e.customParametersModel&&(ne=_e.customParametersModel),_e.cmsdModel&&(se=_e.cmsdModel),_e.dashMetrics&&(M=_e.dashMetrics),_e.adapter&&(H=_e.adapter),_e.videoModel&&(Y=_e.videoModel),_e.settings&&(R=_e.settings))},reset:function(){C(),ue.off(i.Z.LOADING_PROGRESS,U,u),ue.off(t.Z.QUALITY_CHANGE_RENDERED,me,u),ue.off(t.Z.METRIC_ADDED,Se,u),c&&c.reset()}},r=W.getLogger(u),C(),u}Ki.__dashjs_factory_name="AbrController";var zi=h.Z.getSingletonFactory(Ki);zi.QUALITY_DEFAULT=0,h.Z.updateSingletonFactory(Ki.__dashjs_factory_name,zi);const ds=zi;var gs=new Map([[e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Ba(){var u,r,c,y,A,T,m=this.context,w=(0,g.Z)(m).getInstance(),G=[];function V(){c&&(c.playbackRate=1,c.removeEventListener("canplay",V))}function q(){return G.length>0}function N(){if(c&&q()&&c.playbackRate===0){var x=document.createEvent("Event");x.initEvent("waiting",!0,!1),c.dispatchEvent(x)}}function H(x,re){c&&c.addEventListener(x,re)}function Y(x,re){c&&c.removeEventListener(x,re)}function ge(){return c?c.readyState:NaN}function ne(){return c?c.buffered:null}function se(x,re,ee,ie,p){if(c){for(var L=0;L<c.textTracks.length;L++)if(c.textTracks[L].kind===x&&(!re||c.textTracks[L].label==re)&&c.textTracks[L].language===ee&&c.textTracks[L].isTTML===ie&&c.textTracks[L].isEmbedded===p)return c.textTracks[L]}return null}function fe(x,re){x===e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||ge()>=x?re():function(ee,ie){H(ee,function p(){Y(ee,p),ie(ee)})}(gs.get(x),re)}return u={initialize:function(){w.on(i.Z.PLAYBACK_PLAYING,N,this)},setCurrentTime:function(x,re){c&&(y=x,fe(e.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(c.currentTime!==y)try{y=re?function(ee){var ie=ne(),p=ee,L=9999999999;if(ie)for(var Z=0;Z<ie.length;Z++){var M=ie.start(Z),R=ie.end(Z),K=Math.abs(M-ee),W=Math.abs(R-ee);if(ee>=M&&ee<=R)return ee;K<L&&(L=K,p=M),W<L&&(L=W,p=R)}return p}(y):y,c.currentTime=y,y=NaN}catch(ee){c.readyState===0&&ee.code===ee.INVALID_STATE_ERR&&setTimeout(function(){c.currentTime=y,y=NaN},400)}else y=NaN}))},play:function(){if(c){c.autoplay=!0;var x=c.play();x&&x.catch&&typeof Promise<"u"&&x.catch(function(re){re.name==="NotAllowedError"&&w.trigger(i.Z.PLAYBACK_NOT_ALLOWED),r.warn("Caught pending play exception - continuing (".concat(re,")"))})}},isPaused:function(){return c?c.paused:null},pause:function(){c&&(c.pause(),c.autoplay=!1)},isStalled:q,isSeeking:function(){return c?c.seeking||!isNaN(y):null},getTime:function(){return c?isNaN(y)?c.currentTime:y:null},getPlaybackRate:function(){return c?c.playbackRate:null},setPlaybackRate:function(x){var re=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c&&(!re&&c.readyState<=2&&x>0?c.addEventListener("canplay",V):c.playbackRate=x)},getPlayedRanges:function(){return c?c.played:null},getEnded:function(){return c?c.ended:null},setStallState:function(x,re){(function(ee,ie){ie?function(p){p!==null&&c&&!c.seeking&&G.indexOf(p)===-1&&G.push(p)}(ee):function(p){var L=G.indexOf(p);p!==null&&L!==-1&&G.splice(L,1)}(ee)})(x,re)},getElement:function(){return c},setElement:function(x){if(!(x==null||x&&/^(VIDEO|AUDIO)$/i.test(x.nodeName)))throw"element is not video or audio DOM type!";(c=x)&&(c.preload="auto")},setSource:function(x){c&&(x?c.src=x:(c.removeAttribute("src"),c.load()))},getSource:function(){return c?c.src:null},getTTMLRenderingDiv:function(){return A},setTTMLRenderingDiv:function(x){(A=x).style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0},getVttRenderingDiv:function(){return T},setVttRenderingDiv:function(x){T=x},getPlaybackQuality:function(){if(!c)return null;var x="webkitDroppedFrameCount"in c&&"webkitDecodedFrameCount"in c,re=null;return"getVideoPlaybackQuality"in c?re=c.getVideoPlaybackQuality():x&&(re={droppedVideoFrames:c.webkitDroppedFrameCount,totalVideoFrames:c.webkitDroppedFrameCount+c.webkitDecodedFrameCount,creationTime:new Date}),re},addEventListener:H,removeEventListener:Y,getReadyState:ge,getBufferRange:ne,getClientWidth:function(){return c?c.clientWidth:NaN},getClientHeight:function(){return c?c.clientHeight:NaN},getTextTracks:function(){return c?c.textTracks:[]},getTextTrack:se,addTextTrack:function(x,re,ee,ie,p){if(!c)return null;var L=se(x,re,ee,ie,p);return L||((L=c.addTextTrack(x,re,ee)).isEmbedded=p,L.isTTML=ie),L},appendChild:function(x){c&&(c.appendChild(x),x.isTTML!==void 0&&(c.textTracks[c.textTracks.length-1].isTTML=x.isTTML,c.textTracks[c.textTracks.length-1].isEmbedded=x.isEmbedded))},removeChild:function(x){c&&c.removeChild(x)},getVideoWidth:function(){return c?c.videoWidth:NaN},getVideoHeight:function(){return c?c.videoHeight:NaN},getVideoRelativeOffsetTop:function(){if(c){var x=c.parentNode.host||c.parentNode;return x?c.getBoundingClientRect().top-x.getBoundingClientRect().top:NaN}return NaN},getVideoRelativeOffsetLeft:function(){if(c){var x=c.parentNode.host||c.parentNode;return x?c.getBoundingClientRect().left-x.getBoundingClientRect().left:NaN}return NaN},waitForReadyState:fe,reset:function(){w.off(i.Z.PLAYBACK_PLAYING,N,this)}},r=(0,_.Z)(m).getInstance().getLogger(u),y=NaN,u}Ba.__dashjs_factory_name="VideoModel";const hs=h.Z.getSingletonFactory(Ba);var ms=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ga="dashjs_?_bitrate",qa="dashjs_?_settings",Pr="localStorage",Ya="lastBitrate",ja="lastMediaSettings";function Ha(u){u=u||{};var r,c,y,A=this.context,T=u.settings;function m(q){if(y!==void 0)return y;var N;y=!1;try{typeof window<"u"&&(N=window[q])}catch(H){return c.warn("DOMStorage access denied: "+H.message),y}if(!N||q!==Pr&&q!=="sessionStorage")return y;try{N.setItem("1","1"),N.removeItem("1"),y=!0}catch(H){c.warn("DOMStorage is supported, but cannot be used: "+H.message)}return y}function w(){var q=6e5;return Math.round(new Date().getTime()/q)*q}function G(q,N){return m(q)&&T.get().streaming[N+"CachingInfo"].enabled}function V(){if(!T)throw new Error(e.Z.MISSING_CONFIG_ERROR)}return r={getSavedBitrateSettings:function(q){if(V(),!T.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var N=NaN;if(G(Pr,Ya)){var H=Ga.replace(/\?/,q);try{var Y=JSON.parse(localStorage.getItem(H))||{},ge=new Date().getTime()-parseInt(Y.timestamp,10)>=T.get().streaming.lastBitrateCachingInfo.ttl||!1,ne=parseFloat(Y.bitrate);isNaN(ne)||ge?ge&&localStorage.removeItem(H):(N=ne,c.debug("Last saved bitrate for "+q+" was "+ne))}catch{return null}}return N},setSavedBitrateSettings:function(q,N){if(G(Pr,Ya)&&N){var H=Ga.replace(/\?/,q);try{localStorage.setItem(H,JSON.stringify({bitrate:N.toFixed(3),timestamp:w()}))}catch(Y){c.error(Y.message)}}},getSavedMediaSettings:function(q){if(V(),!T.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var N=null;if(G(Pr,ja)){var H=qa.replace(/\?/,q);try{var Y=JSON.parse(localStorage.getItem(H))||{},ge=new Date().getTime()-parseInt(Y.timestamp,10)>=T.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;N=Y.settings,ge&&(localStorage.removeItem(H),N=null)}catch{return null}}return N},setSavedMediaSettings:function(q,N){if(G(Pr,ja)){var H=qa.replace(/\?/,q);try{localStorage.setItem(H,JSON.stringify({settings:N,timestamp:w()}))}catch(Y){c.error(Y.message)}}}},c=(0,_.Z)(A).getInstance().getLogger(r),m(Pr)&&ms.forEach(function(q){var N=localStorage.getItem(q.oldKey);if(N){localStorage.removeItem(q.oldKey);try{localStorage.setItem(q.newKey,N)}catch(H){c.error(H.message)}}}),r}Ha.__dashjs_factory_name="DOMStorage";const ps=h.Z.getSingletonFactory(Ha);var ys=D(2032),Va=D(2011);function Ka(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y=this.context;function ge(x,re,ee,ie){var p=null,L=x?H.resolve(x.path):null,Z=ie||{init:!0,url:L?L.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:re};r.debug("Start searching for initialization.");var M=fe(Z);w.load({request:M,success:function(R){if(Z.bytesLoaded=Z.range.end,!(p=y.findInitRange(R)))return Z.range.end=Z.bytesLoaded+Z.bytesToLoad,ge(x,re,ee,Z);x.range=p,ee(x)},error:function(){ee(x)}}),r.debug("Perform init search: "+Z.url)}function ne(x,re,ee,ie,p,L){if(ee&&(ee.start===void 0||ee.end===void 0)){var Z=ee?ee.toString().split("-"):null;ee=Z?{start:parseFloat(Z[0]),end:parseFloat(Z[1])}:null}p=p||se;var M=null,R=null,K=!!ee,W=x?H.resolve(x.path):null,ue={init:!1,url:W?W.url:void 0,range:K?ee:{start:0,end:1500},searching:!K,bytesLoaded:L?L.bytesLoaded:0,bytesToLoad:1500,mediaType:re},C=fe(ue);w.load({request:C,success:function(U){var me=ue.bytesToLoad,Se=U.byteLength;if(ue.bytesLoaded=ue.range.end-ue.range.start,M=y.parse(U),(R=M.getBox("sidx"))&&R.isComplete){var Re,Me,Ee=R.references;if(Ee!=null&&Ee.length>0&&(Re=Ee[0].reference_type===1),Re){var Fe,dt,Je,rt;r.debug("Initiate multiple SIDX load."),ue.range.end=ue.range.start+R.size;var Tt=[],Ct=0,_e=(R.offset||ue.range.start)+R.size,le=function(pe){pe?(Tt=Tt.concat(pe),++Ct>=dt&&(Tt.sort(function(Pe,Ge){return Pe.startTime-Ge.startTime<0?-1:0}),p(Tt,x,ie))):p(null,x,ie)};for(Fe=0,dt=Ee.length;Fe<dt;Fe++)Je=_e,rt=_e+Ee[Fe].referenced_size-1,_e+=Ee[Fe].referenced_size,ne(x,re,{start:Je,end:rt},ie,le,ue)}else r.debug("Parsing segments from SIDX. representation "+re+" - id: "+x.id+" for range : "+ue.range.start+" - "+ue.range.end),Me=function(pe,Pe){for(var Ge,Ve,ct,St,qt=pe.references,jt=qt.length,kt=pe.timescale,Ht=pe.earliest_presentation_time,Kt=Pe.range.start+pe.offset+pe.first_offset+pe.size,rn=[],un=0;un<jt;un++)ct=qt[un].subsegment_duration,St=qt[un].referenced_size,(Ge=new Va.Z).duration=ct,Ge.startTime=Ht,Ge.timescale=kt,Ve=Kt+St-1,Ge.mediaRange=Kt+"-"+Ve,rn.push(Ge),Ht+=ct,Kt+=St;return rn}(R,ue),p(Me,x,ie)}else{if(R)ue.range.start=R.offset||ue.range.start,ue.range.end=ue.range.start+(R.size||me);else{if(Se<ue.bytesLoaded)return void p(null,x,ie);var Oe=M.getLastBox();Oe&&Oe.size?(ue.range.start=Oe.offset+Oe.size,ue.range.end=ue.range.start+me):ue.range.end+=me}ne(x,re,ue.range,ie,null,ue)}},error:function(){p(null,x,ie)}}),r.debug("Perform SIDX load for type ".concat(re," : ").concat(ue.url," with range ").concat(ue.range.start," - ").concat(ue.range.end))}function se(x,re,ee){ee({segments:x,representation:re,error:x?void 0:new k.Z(G.SEGMENT_BASE_LOADER_ERROR_CODE,G.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function fe(x){if(x.url){var re=new P.Z;return re.setInfo(x),re}}return u={setConfig:function(x){x.baseURLController&&(H=x.baseURLController),x.dashMetrics&&(T=x.dashMetrics),x.mediaPlayerModel&&(m=x.mediaPlayerModel),x.errHandler&&(c=x.errHandler),x.boxParser&&(y=x.boxParser),x.debug&&(r=x.debug.getLogger(u)),x.requestModifier&&(A=x.requestModifier),x.errors&&(G=x.errors),x.urlUtils&&(N=x.urlUtils),x.constants&&(V=x.constants),x.dashConstants&&(q=x.dashConstants)},initialize:function(){w=zn(Y).create({errHandler:c,dashMetrics:T,mediaPlayerModel:m,requestModifier:A,boxParser:y,errors:G,urlUtils:N,constants:V,dashConstants:q})},loadInitialization:function(x,re){return new Promise(function(ee){ge(x,re,ee)})},loadSegments:function(x,re,ee){return new Promise(function(ie){ne(x,re,ee,ie)})},reset:function(){w&&(w.abort(),w=null)}}}Ka.__dashjs_factory_name="SegmentBaseLoader";const Es=h.Z.getSingletonFactory(Ka);function za(u){var r;u=u||{};var c=new DataView(u.data),y=0;function A(m,w){var G=!0,V=0;if(w===void 0&&(w=!1),m.tag>16777215?(c.getUint32(y)!==m.tag&&(G=!1),V=4):m.tag>65535?(256*c.getUint16(y)+c.getUint8(y+2)!==m.tag&&(G=!1),V=3):m.tag>255?(c.getUint16(y)!==m.tag&&(G=!1),V=2):(c.getUint8(y)!==m.tag&&(G=!1),V=1),!G&&m.required&&!w)throw new Error("required tag not found");return G&&(y+=V),G}function T(m){var w=1,G=128,V=-1,q=0,N=c.getUint8(y),H=0;for(H=0;H<8;H+=1){if((N&G)===G){q=m===void 0?N&~G:N,V=H;break}G>>=1}for(H=0;H<V;H+=1,w+=1)q=q<<8|255&c.getUint8(y+w);return y+=w,q}return r={getPos:function(){return y},setPos:function(m){y=m},consumeTag:A,consumeTagAndSize:function(m,w){var G=A(m,w);return G&&T(),G},parseTag:function(m){var w;return A(m),w=T(),r[m.parse](w)},skipOverElement:function(m,w){var G,V=A(m,w);return V&&(G=T(),y+=G),V},getMatroskaCodedNum:T,getMatroskaFloat:function(m){var w;switch(m){case 4:w=c.getFloat32(y),y+=4;break;case 8:w=c.getFloat64(y),y+=8}return w},getMatroskaUint:function(m){if(m>4)return function(V){for(var q=Math.floor(Number.MAX_SAFE_INTEGER/256),N=0,H=0;H<V;H+=1){if(N>q)throw new Error("Value exceeds safe integer limit");N*=256;var Y=c.getUint8(y+H);if(N>Number.MAX_SAFE_INTEGER-Y)throw new Error("Value exceeds safe integer limit");N+=Y}return y+=V,N}(m);for(var w=0,G=0;G<m;G+=1)w<<=8,w|=255&c.getUint8(y+G);return y+=m,w>>>0},moreData:function(){return y<c.byteLength}}}za.__dashjs_factory_name="EBMLParser";const Wa=h.Z.getClassFactory(za);function Xa(){var u,r,c,y,A,T,m,w,G,V,q=this.context;function N(H){var Y=new P.Z;return Y.setInfo(H),Y}return u={setConfig:function(H){if(!(H.baseURLController&&H.dashMetrics&&H.mediaPlayerModel&&H.errHandler))throw new Error(e.Z.MISSING_CONFIG_ERROR);V=H.baseURLController,T=H.dashMetrics,m=H.mediaPlayerModel,y=H.errHandler,G=H.errors,r=H.debug.getLogger(u),A=H.requestModifier},initialize:function(){w=zn(q).create({errHandler:y,dashMetrics:T,mediaPlayerModel:m,requestModifier:A,errors:G})},loadInitialization:function(H,Y){return new Promise(function(ge){var ne=null,se=H?V.resolve(H.path):null,fe=H?H.range.split("-"):null,x={range:{start:fe?parseFloat(fe[0]):null,end:fe?parseFloat(fe[1]):null},request:ne,url:se?se.url:void 0,init:!0,mediaType:Y};r.info("Start loading initialization."),ne=N(x),w.load({request:ne,success:function(){ge(H)},error:function(){ge(H)}}),r.debug("Perform init load: "+x.url)})},loadSegments:function(H,Y,ge){return new Promise(function(ne){var se=null,fe=H?V.resolve(H.path):null,x=fe?fe.url:void 0;se=N({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:se,url:x,init:!1,mediaType:Y}),r.debug("Parsing ebml header"),w.load({request:se,success:function(re){(function(ee,ie,p,L){if(ee&&ee.byteLength!==0){var Z,M,R,K,W=Wa(q).create({data:ee}),ue=p?p.split("-"):null,C=null,U={url:ie,range:{start:ue?parseFloat(ue[0]):null,end:ue?parseFloat(ue[1]):null},request:C};for(r.debug("Parse EBML header: "+U.url),W.skipOverElement(c.EBML),W.consumeTag(c.Segment),R=W.getMatroskaCodedNum(),R+=W.getPos(),K=W.getPos();W.moreData()&&!W.consumeTagAndSize(c.Segment.Info,!0);)if(!(W.skipOverElement(c.Segment.SeekHead,!0)||W.skipOverElement(c.Segment.Tracks,!0)||W.skipOverElement(c.Segment.Cues,!0)||W.skipOverElement(c.Void,!0)))throw new Error("no valid top level element found");for(;Z===void 0;){var me=W.getMatroskaCodedNum(!0),Se=W.getMatroskaCodedNum();me===c.Segment.Info.Duration.tag?Z=W[c.Segment.Info.Duration.parse](Se):W.setPos(W.getPos()+Se)}C=N(U),w.load({request:C,success:function(Re){M=function(Me,Ee,Fe,dt){var Je,rt,Tt,Ct,_e,le,Oe,pe;for(Tt=[],_e=0,le=(rt=function(Pe){var Ge,Ve,ct=[],St=Wa(q).create({data:Pe});for(St.consumeTagAndSize(c.Segment.Cues);St.moreData()&&St.consumeTagAndSize(c.Segment.Cues.CuePoint,!0);){for((Ge={}).CueTime=St.parseTag(c.Segment.Cues.CuePoint.CueTime),Ge.CueTracks=[];St.moreData()&&St.consumeTag(c.Segment.Cues.CuePoint.CueTrackPositions,!0);){var qt=St.getMatroskaCodedNum(),jt=St.getPos();if((Ve={}).Track=St.parseTag(c.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),Ve.Track===0)throw new Error("Cue track cannot be 0");Ve.ClusterPosition=St.parseTag(c.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Ge.CueTracks.push(Ve),St.setPos(jt+qt)}if(Ge.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");ct.push(Ge)}if(ct.length===0)throw new Error("mandatory cuepoint not found");return ct}(Me)).length;_e<le;_e+=1)Ct=new Va.Z,Je=_e<rt.length-1?rt[_e+1].CueTime-rt[_e].CueTime:dt-rt[_e].CueTime,Ct.duration=Je,Ct.startTime=rt[_e].CueTime,Ct.timescale=1e3,Oe=rt[_e].CueTracks[0].ClusterPosition+Ee,pe=_e<rt.length-1?rt[_e+1].CueTracks[0].ClusterPosition+Ee-1:Fe-1,Ct.mediaRange=Oe+"-"+pe,Tt.push(Ct);return r.debug("Parsed cues: "+Tt.length+" cues."),Tt}(Re,K,R,Z),L(M)},error:function(){r.error("Download Error: Cues "+U.url),L(null)}}),r.debug("Perform cues load: "+U.url+" bytes="+U.range.start+"-"+U.range.end)}else L(null)})(re,x,ge,function(ee){ne({segments:ee,representation:H,error:ee?void 0:new k.Z(G.SEGMENT_BASE_LOADER_ERROR_CODE,G.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ne({representation:H,error:new k.Z(G.SEGMENT_BASE_LOADER_ERROR_CODE,G.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){w&&(w.abort(),w=null)}},c={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},u}Xa.__dashjs_factory_name="WebmSegmentBaseLoader";const vs=h.Z.getSingletonFactory(Xa);function Qa(u){u=u||{};var r,c,y,A=this.context,T=u.eventBus,m=u.events,w=u.dashMetrics,G=u.mediaPlayerModel,V=u.errHandler,q=u.baseURLController,N=u.debug,H=u.boxParser,Y=u.requestModifier,ge=u.errors;function ne(se){return(se?se.split("/")[1]:"").toLowerCase()==="webm"}return r={initialize:function(){c.initialize(),y.initialize()},getSegmentBaseInitSegment:function(se){return ne(se.representation.mimeType)?y.loadInitialization(se.representation,se.mediaType):c.loadInitialization(se.representation,se.mediaType)},getSegmentList:function(se){return ne(se.mimeType)?y.loadSegments(se.representation,se.mediaType,se.representation?se.representation.indexRange:null):c.loadSegments(se.representation,se.mediaType,se.representation?se.representation.indexRange:null)},reset:function(){c.reset(),y.reset()}},c=Es(A).getInstance(),y=vs(A).getInstance(),c.setConfig({baseURLController:q,dashMetrics:w,mediaPlayerModel:G,errHandler:V,eventBus:T,events:m,errors:ge,debug:N,boxParser:H,requestModifier:Y}),y.setConfig({baseURLController:q,dashMetrics:w,mediaPlayerModel:G,errHandler:V,eventBus:T,events:m,errors:ge,debug:N,requestModifier:Y}),r}Qa.__dashjs_factory_name="SegmentBaseController";const _s=h.Z.getSingletonFactory(Qa),Ja=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Wi=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},$a=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},Ts=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function Ss(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const bs=function(){function u(y){var A=this;(function(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u),this.valid=y[0]=="/",this.path=y.split("/").filter(function(T){return T.length!==0}).map(function(T){var m={name:T},w=T.indexOf("[");if(w!=-1){m.name=T.substring(0,w);var G=T.substring(w+1,T.length-1);A.valid=A.valid&&G.indexOf("[")==-1;var V=G.indexOf("=");V!=-1?(m.attribute={name:G.substring(1,V),value:G.substring(V+1)},["'",'"'].indexOf(m.attribute.value[0])!=-1&&(m.attribute.value=m.attribute.value.substring(1,m.attribute.value.length-1))):m.position=parseInt(G,10)-1}return m})}var r,c;return r=u,(c=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(y,A){for(var T=null,m=y,w=1,G="MPD";w<this.path.length&&m!==null;){T=m;var V=this.path[w];if(G=V.name,w!==this.path.length-1||!G.startsWith("@")){var q=T[G+"_asArray"]||[];q.length===0&&T[G]&&q.push(T[G]),V.position?m=q[V.position]||null:V.attribute?function(){var N=V.attribute;m=q.filter(function(H){return H[N.name]==N.value})[0]||null}():m=q[0]||null}w++}return m===null?null:G.startsWith("@")?{name:G.substring(1),leaf:m,target:m}:{name:G,leaf:m,target:A?T:m}}}])&&Ss(r.prototype,c),u}();function As(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}const Is=function(){function u(y,A,T){(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this.action=y,this.xpath=A,this.value=T,this.position=null}var r,c;return r=u,(c=[{key:"getMpdTarget",value:function(y){var A=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(y,A)}}])&&As(r.prototype,c),u}();function eo(){var u,r,c=this.context;return u={getIsPatch:function(y){return y&&y.hasOwnProperty(n.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(y){return y&&y.hasOwnProperty(n.Z.PUBLISH_TIME)?new Date(y[n.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(y){return y&&y.hasOwnProperty(n.Z.ORIGINAL_PUBLISH_TIME)?new Date(y[n.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(y){return y&&y[n.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(y){return y?(y.__children||[]).map(function(A){var T=Object.keys(A)[0];if(T!=="add"&&T!=="remove"&&T!=="replace")return r.warn("Ignoring node of invalid action: ".concat(T)),null;var m=A[T],w=m.sel;if(T==="add"&&m.type){if(!m.type.startsWith("@"))return r.warn("Ignoring add action for prefixed namespace declaration: ".concat(m.type,"=").concat(m.__text)),null;w="".concat(w,"/").concat(m.type)}var G=new bs(w);if(!G.isValid())return r.warn("Ignoring action with invalid selector: ".concat(T," - ").concat(w)),null;var V=null;G.findsAttribute()?V=m.__text||"":T!=="remove"&&(V=m.__children.reduce(function(N,H){var Y=Object.keys(H)[0];return Y!=="#text"&&(N[Y]=N[Y]||[],N[Y].push(H[Y])),N},{}));var q=new Is(T,G,V);return T==="add"&&(q.position=m.pos),q}).filter(function(A){return!!A}):[]}},r=(0,_.Z)(c).getInstance().getLogger(u),u}eo.__dashjs_factory_name="PatchManifestModel";const Rs=h.Z.getSingletonFactory(eo);function to(){var u,r,c,y,A,T,m,w=this.context;function G(Z,M,R){var K,W=r.getAdaptationsForType(y[0].mpd.manifest,Z,M);if(!W||W.length===0)return null;if(W.length>1&&R){var ue=N(R,M);if(A[R.id]&&A[R.id][M]){for(var C=0,U=W.length;C<U;C++)if(V(A[R.id][M],ue[C]))return W[C]}for(var me=0,Se=W.length;me<Se;me++)if(K=W[me],r.getRolesForAdaptation(K).filter(function(Re){return Re.value===n.Z.MAIN})[0])return W[me]}return W[0]}function V(Z,M){if(!Z||!M)return!1;var R=Z.id===M.id,K=Z.codec===M.codec,W=Z.viewpoint===M.viewpoint,ue=JSON.stringify(Z.viewpointsWithSchemeIdUri)===JSON.stringify(M.viewpointsWithSchemeIdUri),C=Z.lang===M.lang,U=Z.roles.toString()===M.roles.toString(),me=JSON.stringify(Z.rolesWithSchemeIdUri)===JSON.stringify(M.rolesWithSchemeIdUri),Se=Z.accessibility.toString()===M.accessibility.toString(),Re=JSON.stringify(Z.accessibilitiesWithSchemeIdUri)===JSON.stringify(M.accessibilitiesWithSchemeIdUri),Me=Z.audioChannelConfiguration.toString()===M.audioChannelConfiguration.toString(),Ee=JSON.stringify(Z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(M.audioChannelConfigurationsWithSchemeIdUri);return R&&K&&W&&ue&&C&&U&&me&&Se&&Re&&Me&&Ee}function q(Z,M,R,K,W,ue){var C,U,me,Se,Re,Me,Ee=[];if(!K||K.length===0)return[];var Fe=r.getAdaptationsForPeriod(M);for(Se=0,Me=K.length;Se<Me;Se++)if(C=K[Se],U=x(Fe[me=r.getIndexForAdaptation(C,Z,R.index)]),ue){var dt=U.accessibility.length;for(Re=0;Re<dt;Re++)if(U){var Je=U.accessibility[Re];if(Je.indexOf("cea-608:")===0){var rt=Je.substring(8).split(";");if(rt[0].substring(0,2)==="CC")for(Re=0;Re<rt.length;Re++)U||(U=x.call(this,Fe[me])),re(U,rt[Re].substring(0,3),rt[Re].substring(4)),Ee.push(U),U=null;else for(Re=0;Re<rt.length;Re++)U||(U=x.call(this,Fe[me])),re(U,"CC"+(Re+1),rt[Re]),Ee.push(U),U=null}else Je.indexOf("cea-608")===0&&(re(U,T.CC1,"eng"),Ee.push(U),U=null)}}else W===T.IMAGE?(U.type=T.IMAGE,Ee.push(U),U=null):U&&Ee.push(U);return Ee}function N(Z,M,R){var K=y,W=R,ue=[];if(W)ie(),K=H(W);else{if(!(y.length>0))return ue;W=y[0].mpd.manifest}var C=fe(Z,K),U=r.getAdaptationsForType(W,Z?Z.index:null,M);return ue=q(W,C,Z,U,M),M===T.TEXT&&(U=r.getAdaptationsForType(W,Z?Z.index:null,T.VIDEO),ue=ue.concat(q(W,C,Z,U,M,!0))),ue}function H(Z){var M=Y(Z);return r.getRegularPeriods(M)}function Y(Z){var M=ne(Z);return r.getMpd(M)}function ge(){y=[],A={}}function ne(Z){return Z||(y.length>0?y[0].mpd.manifest:null)}function se(Z){try{var M=fe(Z.streamInfo,y),R=r.getAdaptationsForPeriod(M);return Z&&Z.streamInfo&&Z.streamInfo.id!==void 0&&R?R[Z.index]:null}catch{return null}}function fe(Z,M){for(var R=M.length,K=0;K<R;K++){var W=M[K];if(Z&&Z.id===W.id)return W}return null}function x(Z){if(!Z)return null;var M,R,K,W,ue,C=new Wi,U=Z.period.mpd.manifest.Period_asArray[Z.period.index].AdaptationSet_asArray[Z.index];if(C.id=Z.id,C.index=Z.index,C.type=Z.type,C.streamInfo=ee(Z.period),C.representationCount=r.getRepresentationCount(U),C.labels=r.getLabelsForAdaptation(U),C.lang=r.getLanguageForAdaptation(U),C.segmentAlignment=r.getSegmentAlignment(U),C.subSegmentAlignment=r.getSubSegmentAlignment(U),M=r.getViewpointForAdaptation(U),C.viewpoint=M.length?M[0].value:void 0,C.viewpointsWithSchemeIdUri=M,ue=r.getAccessibilityForAdaptation(U),C.accessibility=ue.map(function(Ee){var Fe=Ee.value,dt=Fe;return Ee.schemeIdUri&&Ee.schemeIdUri.search("cea-608")>=0&&m!==void 0&&(dt=Fe?"cea-608:"+Fe:"cea-608",C.embeddedCaptions=!0),dt}),C.accessibilitiesWithSchemeIdUri=ue,R=r.getAudioChannelConfigurationForAdaptation(U),C.audioChannelConfiguration=R.map(function(Ee){return Ee.value}),C.audioChannelConfigurationsWithSchemeIdUri=R,C.audioChannelConfiguration.length===0&&Array.isArray(U.Representation_asArray)&&U.Representation_asArray.length>0&&(K=r.getAudioChannelConfigurationForRepresentation(U.Representation_asArray[0]),C.audioChannelConfiguration=K.map(function(Ee){return Ee.value}),C.audioChannelConfigurationsWithSchemeIdUri=K),W=r.getRolesForAdaptation(U),C.roles=W.map(function(Ee){return Ee.value}),C.rolesWithSchemeIdUri=W,C.codec=r.getCodec(U),C.mimeType=r.getMimeType(U),C.contentProtection=r.getContentProtectionData(U),C.bitrateList=r.getBitrateListForAdaptation(U),C.selectionPriority=r.getSelectionPriority(U),C.contentProtection){var me=C.contentProtection.map(function(Ee){return r.getKID(Ee)}).filter(function(Ee){return Ee!==null});if(me.length){var Se=me[0];C.contentProtection.forEach(function(Ee){Ee.keyId=Se})}}if(C.isText=r.getIsText(U),C.supplementalProperties=r.getSupplementalPropertiesForAdaptation(U),(!C.supplementalProperties||Object.keys(C.supplementalProperties).length===0)&&Array.isArray(U.Representation_asArray)&&U.Representation_asArray.length>0){var Re=U.Representation_asArray.map(function(Ee){return r.getSupplementalPropertiesForRepresentation(Ee)});Re.every(function(Ee){return JSON.stringify(Ee)===JSON.stringify(Re[0])})&&(C.supplementalProperties=Re[0])}if(C.supplementalPropertiesAsArray=r.getSupplementalPropertiesAsArrayForAdaptation(U),(!C.supplementalPropertiesAsArray||C.supplementalPropertiesAsArray.length===0)&&Array.isArray(U.Representation_asArray)&&U.Representation_asArray.length>0){var Me=U.Representation_asArray.map(function(Ee){return r.getSupplementalPropertiesAsArrayForRepresentation(Ee)});Me.every(function(Ee){return JSON.stringify(Ee)===JSON.stringify(Me[0])})&&(C.supplementalPropertiesAsArray=Me[0])}return C.isFragmented=r.getIsFragmented(U),C.isEmbedded=!1,C}function re(Z,M,R){Z.id=M,Z.index=100+parseInt(M.substring(2,3)),Z.type=T.TEXT,Z.codec="cea-608-in-SEI",Z.isEmbedded=!0,Z.isFragmented=!1,Z.lang=ui()(R),Z.roles=["caption"],Z.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function ee(Z){var M,R,K=new $a;return K.id=Z.id,K.index=Z.index,K.start=Z.start,K.duration=Z.duration,K.manifestInfo=(M=Z.mpd,(R=new Ts).dvrWindowSize=M.timeShiftBufferDepth,R.loadedTime=M.manifest.loadedTime,R.availableFrom=M.availabilityStartTime,R.minBufferTime=M.manifest.minBufferTime,R.maxFragmentDuration=M.maxSegmentDuration,R.duration=r.getDuration(M.manifest),R.isDynamic=r.getIsDynamic(M.manifest),R.serviceDescriptions=r.getServiceDescriptions(M.manifest),R.protocol=M.manifest.protocol,R),K.isLast=Z.mpd.manifest.Period_asArray.length===1||Math.abs(K.start+K.duration-K.manifestInfo.duration)<1,K}function ie(){if(!T)throw new Error("setConfig function has to be called previously")}function p(Z){return y.length>0?y[0].mpd.manifest.Period_asArray[Z]:null}function L(Z,M,R){var K,W,ue,C,U;if(Z){for(K=Z.AdaptationSet_asArray,C=0;C<K.length;C+=1)for(ue=K[C].Representation_asArray,U=0;U<ue.length;U+=1)if(M===(W=ue[U]).id)return R?U:W}return null}return u={getBandwidthForRepresentation:function(Z,M){var R;return(R=L(p(M),Z))?R.bandwidth:null},getIndexForRepresentation:function(Z,M){return function(R,K){var W=L(R,K,!0);return W!==null?W:-1}(p(M),Z)},getMaxIndexForBufferType:function(Z,M){return function(R,K){var W,ue,C,U;if(!R||!K)return-1;for(ue=R.AdaptationSet_asArray,U=0;U<ue.length;U+=1)if(C=(W=ue[U]).Representation_asArray,r.getIsTypeOf(W,K))return C.length;return-1}(p(M),Z)},convertRepresentationToRepresentationInfo:function(Z){if(Z){var M=new Ja,R=Z.adaptation.period.mpd.manifest.Period_asArray[Z.adaptation.period.index].AdaptationSet_asArray[Z.adaptation.index],K=r.getRepresentationFor(Z.index,R);return M.id=Z.id,M.quality=Z.index,M.bandwidth=r.getBandwidth(K),M.fragmentDuration=Z.segmentDuration||(Z.segments&&Z.segments.length>0?Z.segments[0].duration:NaN),M.MSETimeOffset=Z.MSETimeOffset,M.mediaInfo=x(Z.adaptation),M}return null},getStreamsInfo:function(Z,M){var R=[],K=y;if(Z&&(ie(),K=H(Z)),K.length>0){(!M||M>K.length)&&(M=K.length);for(var W=0;W<M;W++)R.push(ee(K[W]))}return R},getMediaInfoForType:function(Z,M){if(y.length===0||!Z)return null;var R=fe(Z,y);if(!R)return null;var K=r.getAdaptationsForPeriod(R),W=G(Z.index,M,Z);return W?x(K[r.getIndexForAdaptation(W,y[0].mpd.manifest,Z.index)]):null},getAllMediaInfoForType:N,getAdaptationForType:G,getRealAdaptation:function(Z,M){var R,K,W=fe(Z,y);return R=M?M.id:null,y.length>0&&W&&(K=R?r.getAdaptationForId(R,y[0].mpd.manifest,W.index):r.getAdaptationForIndex(M?M.index:null,y[0].mpd.manifest,W.index)),K},getProducerReferenceTimes:function(Z,M){var R,K,W=fe(Z,y);return R=M?M.id:null,y.length>0&&W&&(K=R?r.getAdaptationForId(R,y[0].mpd.manifest,W.index):r.getAdaptationForIndex(M?M.index:null,y[0].mpd.manifest,W.index)),K?r.getProducerReferenceTimesForAdaptation(K):[]},getRealPeriodByIndex:function(Z){return r.getRealPeriodForIndex(Z,y[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(Z){try{return r.getEssentialPropertiesForRepresentation(Z)}catch{return[]}},getVoRepresentations:function(Z){var M=se(Z);return r.getRepresentationsForAdaptation(M)},getEventsFor:function(Z,M,R){var K=[];if(y.length>0){var W=y[0].mpd.manifest;if(Z instanceof $a){var ue=fe(Z,y);K=r.getEventsForPeriod(ue)}else if(Z instanceof Wi){var C=fe(R,y);K=r.getEventStreamForAdaptationSet(W,se(Z),C)}else if(Z instanceof Ja){var U=fe(R,y);K=r.getEventStreamForRepresentation(W,M,U)}}return K},getEvent:function(Z,M,R,K){try{if(!Z||!M||isNaN(R)||!K)return null;var W=Z.scheme_id_uri,ue=Z.value;if(!M[W+"/"+ue])return null;var C,U=new Vn,me=Z.timescale||1,Se=K.adaptation.period.start,Re=M[W+"/"+ue],Me=isNaN(K.presentationTimeOffset)?isNaN(Re.presentationTimeOffset)?0:Re.presentationTimeOffset:K.presentationTimeOffset,Ee=Z.presentation_time_delta/me;C=Z.version===0?Se+R-Me+Ee:Se-Me+Ee;var Fe=Z.event_duration/me,dt=Z.id,Je=Z.message_data;return U.eventStream=Re,U.eventStream.value=ue,U.eventStream.timescale=me,U.duration=Fe,U.id=dt,U.calculatedPresentationTime=C,U.messageData=Je,U.presentationTimeDelta=Ee,U}catch{return null}},getMpd:Y,setConfig:function(Z){Z&&(Z.constants&&(T=Z.constants),Z.cea608parser&&(m=Z.cea608parser),Z.errHandler&&r.setConfig({errHandler:Z.errHandler}),Z.BASE64&&r.setConfig({BASE64:Z.BASE64}))},updatePeriods:function(Z){if(!Z)return null;ie(),y=H(Z)},getIsTextTrack:function(Z){return r.getIsText(Z)},getUTCTimingSources:function(){var Z=ne();return r.getUTCTimingSources(Z)},getSuggestedPresentationDelay:function(){var Z=y.length>0?y[0].mpd:null;return r.getSuggestedPresentationDelay(Z)},getAvailabilityStartTime:function(Z){var M=Y(Z);return r.getAvailabilityStartTime(M)},getIsTypeOf:function(Z,M){return r.getIsTypeOf(Z,M)},getIsDynamic:function(Z){var M=ne(Z);return r.getIsDynamic(M)},getDuration:function(Z){var M=ne(Z);return r.getDuration(M)},getRegularPeriods:H,getContentSteering:function(Z){return r.getContentSteering(Z)},getLocation:function(Z){return r.getLocation(Z)},getPatchLocation:function(Z){var M=r.getPatchLocation(Z),R=r.getPublishTime(Z);return M&&M.length!==0&&R?M.filter(function(K){return isNaN(K.ttl)||R.getTime()+K.ttl>new Date().getTime()}):[]},getManifestUpdatePeriod:function(Z){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.getManifestUpdatePeriod(Z,M)},getPublishTime:function(Z){return r.getPublishTime(Z)},getIsDVB:function(Z){return r.hasProfile(Z,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(Z){return c.getIsPatch(Z)},getBaseURLsFromElement:function(Z){return r.getBaseURLsFromElement(Z)},getRepresentationSortFunction:function(){return r.getRepresentationSortFunction()},getCodec:function(Z,M,R){return r.getCodec(Z,M,R)},getPeriodById:function(Z){if(!Z||y.length===0)return null;var M=y.filter(function(R){return R.id===Z});return M&&M.length>0?M[0]:null},setCurrentMediaInfo:function(Z,M,R){A[Z]=A[Z]||{},A[Z][M]=A[Z][M]||{},A[Z][M]=R},isPatchValid:function(Z,M){var R=r.getId(Z),K=c.getMpdId(M),W=r.getPublishTime(Z),ue=c.getPublishTime(M),C=c.getOriginalPublishTime(M);return!!(R&&K&&R==K&&W&&C&&W.getTime()==C.getTime()&&ue&&W.getTime()<ue.getTime())},applyPatchToManifest:function(Z,M){c.getPatchOperations(M).forEach(function(R){var K=R.getMpdTarget(Z);if(K!==null){var W=K.name,ue=K.target,C=K.leaf;if(R.xpath.findsAttribute())switch(R.action){case"add":case"replace":ue[W]=R.value;break;case"remove":delete ue[W]}else{var U=(ue[W+"_asArray"]||[]).indexOf(C),me=R.position==="prepend"||R.position==="before";if((R.action==="remove"||R.action==="replace")&&(delete ue[W],U!=-1)){var Se=ue[W+"_asArray"];Se.splice(U,1),Se.length>1?ue[W]=Se:Se.length==1?ue[W]=Se[0]:delete ue[W+"_asArray"]}R.action!=="add"&&R.action!=="replace"||Object.keys(R.value).forEach(function(Re){var Me=R.value[Re],Ee=ue[Re+"_asArray"]||[];if(Ee.length===0&&ue[Re]&&Ee.push(ue[Re]),Ee.length===0)Ee=Me;else{var Fe=Ee.length;Fe=Re==W&&U!=-1?U+(me?0:1)+(R.action=="replace"?-1:0):me?0:Ee.length,Ee.splice.apply(Ee,[Fe,0].concat(Me))}ue[Re+"_asArray"]=Ee,ue[Re]=Ee.length==1?Ee[0]:Ee})}}})},areMediaInfosEqual:V,reset:ge},r=Qt(w).getInstance(),c=Rs(w).getInstance(),ge(),u}to.__dashjs_factory_name="DashAdapter";const ws=h.Z.getSingletonFactory(to);function Ns(u,r){for(var c=0;c<r.length;c++){var y=r[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}var Cs=function(){function u(){(function(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u)}var r,c;return r=u,c=[{key:"round10",value:function(y,A){return function(T,m,w){return w===void 0||+w==0?Math[T](m):(w=+w,(m=+m)===null||isNaN(m)||typeof w!="number"||w%1!=0?NaN:(m=m.toString().split("e"),+((m=(m=Math[T](+(m[0]+"e"+(m[1]?+m[1]-w:-w)))).toString().split("e"))[0]+"e"+(m[1]?+m[1]+w:w))))}("round",y,A)}}],c&&Ns(r,c),u}();const Ds=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},Os=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.t=null,this.mt=null,this.to=null,this.lto=null},Ms=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.t=null,this.level=null},Ps=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.target=null,this.state=S.Z.BUFFER_EMPTY},Ls=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.time=null,this.range=null,this.manifestInfo=null},xs=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.time=null,this.droppedFrames=null};function Xi(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var Fs=function u(){Xi(this,u),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},ks=function u(){Xi(this,u),this.id=null,this.index=null,this.start=null,this.duration=null},Zs=function u(){Xi(this,u),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const Us=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Bs=function u(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u),this.loadingRequests=[],this.executedRequests=[]};function no(u){var r,c,y=(u=u||{}).settings,A=this.context,T=(0,g.Z)(A).getInstance();function m(){T.trigger(i.Z.METRICS_CHANGED)}function w(Y){T.trigger(i.Z.METRIC_CHANGED,{mediaType:Y}),m()}function G(Y,ge,ne){T.trigger(i.Z.METRIC_UPDATED,{mediaType:Y,metric:ge,value:ne}),w(Y)}function V(Y,ge,ne){T.trigger(i.Z.METRIC_ADDED,{mediaType:Y,metric:ge,value:ne}),w(Y)}function q(Y,ge){var ne=null;return Y&&(c.hasOwnProperty(Y)?ne=c[Y]:ge||(ne=new Ds,c[Y]=ne)),ne}function N(Y,ge,ne){var se=q(Y);se!==null&&(se[ge].push(ne),se[ge].length>y.get().streaming.metrics.maxListDepth&&se[ge].shift())}function H(Y,ge,ne){N(Y,ge,ne),V(Y,ge,ne)}return r={clearCurrentMetricsForType:function(Y){delete c[Y],w(Y)},clearAllCurrentMetrics:function(){c={},m()},getMetricsFor:q,addHttpRequest:function Y(ge,ne,se,fe,x,re,ee,ie,p,L,Z,M,R,K,W,ue,C){var U=new Ae.w;re&&re!==fe&&(Y(ge,null,se,fe,x,null,null,ie,p,null,null,null,R,null,null,ue,C),U.actualurl=re),U.tcpid=ne,U.type=se,U.url=fe,U.range=ie,U.trequest=p,U.tresponse=L,U.responsecode=M,U.cmsd=C,U._tfinish=Z,U._stream=ge,U._mediaduration=R,U._quality=x,U._responseHeaders=K,U._serviceLocation=ee,U._fileLoaderType=ue,W?W.forEach(function(me){(function(Se,Re,Me,Ee){var Fe=new Ae.O;Fe.s=Re,Fe.d=Me,Fe.b=Ee,Se.trace.push(Fe),Se.interval||(Se.interval=0),Se.interval+=Me})(U,me.s,me.d,me.b)}):(delete U.interval,delete U.trace),H(ge,S.Z.HTTP_REQUEST,U)},addRepresentationSwitch:function(Y,ge,ne,se,fe){var x=new Os;x.t=ge,x.mt=ne,x.to=se,fe?x.lto=fe:delete x.lto,H(Y,S.Z.TRACK_SWITCH,x)},addBufferLevel:function(Y,ge,ne){var se=new Ms;se.t=ge,se.level=ne,H(Y,S.Z.BUFFER_LEVEL,se)},addBufferState:function(Y,ge,ne){var se=new Ps;se.target=ne,se.state=ge,H(Y,S.Z.BUFFER_STATE,se)},addDVRInfo:function(Y,ge,ne,se){var fe=new Ls;fe.time=ge,fe.range=se,fe.manifestInfo=ne,H(Y,S.Z.DVR_INFO,fe)},addDroppedFrames:function(Y,ge){var ne=new xs,se=q(Y).DroppedFrames;ge&&(ne.time=ge.creationTime,ne.droppedFrames=ge.droppedVideoFrames,se.length>0&&se[se.length-1]==ne||H(Y,S.Z.DROPPED_FRAMES,ne))},addSchedulingInfo:function(Y,ge,ne,se,fe,x,re,ee,ie){var p=new Us;p.mediaType=Y,p.t=ge,p.type=ne,p.startTime=se,p.availabilityStartTime=fe,p.duration=x,p.quality=re,p.range=ee,p.state=ie,H(Y,S.Z.SCHEDULING_INFO,p)},addRequestsQueue:function(Y,ge,ne){var se=new Bs;se.loadingRequests=ge,se.executedRequests=ne,q(Y).RequestsQueue=se,V(Y,S.Z.REQUESTS_QUEUE,se)},addManifestUpdate:function(Y,ge,ne,se,fe,x,re,ee,ie,p){var L=new Fs;L.mediaType=Y,L.type=ge,L.requestTime=ne,L.fetchTime=se,L.availabilityStartTime=fe,L.presentationStartTime=x,L.clientTimeOffset=re,L.currentTime=ee,L.buffered=ie,L.latency=p,N(e.Z.STREAM,S.Z.MANIFEST_UPDATE,L),V(Y,S.Z.MANIFEST_UPDATE,L)},updateManifestUpdateInfo:function(Y,ge){if(Y){for(var ne in ge)Y[ne]=ge[ne];G(Y.mediaType,S.Z.MANIFEST_UPDATE,Y)}},addManifestUpdateStreamInfo:function(Y,ge,ne,se,fe){if(Y){var x=new ks;x.id=ge,x.index=ne,x.start=se,x.duration=fe,Y.streamInfo.push(x),G(Y.mediaType,S.Z.MANIFEST_UPDATE_STREAM_INFO,Y)}},addManifestUpdateRepresentationInfo:function(Y,ge,ne,se,fe,x,re,ee){if(Y&&Y.representationInfo){var ie=new Zs;ie.id=ge,ie.index=ne,ie.streamIndex=se,ie.mediaType=fe,ie.startNumber=re,ie.fragmentInfoType=ee,ie.presentationTimeOffset=x,Y.representationInfo.push(ie),G(Y.mediaType,S.Z.MANIFEST_UPDATE_TRACK_INFO,Y)}},addPlayList:function(Y){Y.trace&&Array.isArray(Y.trace)?Y.trace.forEach(function(ge){ge.hasOwnProperty("subreplevel")&&!ge.subreplevel&&delete ge.subreplevel}):delete Y.trace,H(e.Z.STREAM,S.Z.PLAY_LIST,Y)},addDVBErrors:function(Y){H(e.Z.STREAM,S.Z.DVB_ERRORS,Y)}},c={},r}no.__dashjs_factory_name="MetricsModel";const Gs=h.Z.getSingletonFactory(no);function ro(u){u=u||{};var r,c,y,A,T=this.context,m=u.metricsModel;function w(q){var N=m.getMetricsFor(q,!0);if(!N)return null;var H,Y=N.HttpList,ge=null;if(!Y||Y.length<=0)return null;for(H=Y.length-1;H>=0;){if(Y[H].responsecode){ge=Y[H];break}H--}return ge}function G(q){var N=m.getMetricsFor(q,!0);return N&&N.HttpList?N.HttpList:[]}function V(q,N){if(!q)return null;var H=q[N];return H&&H.length!==0?H[H.length-1]:null}return r={getCurrentRepresentationSwitch:function(q){return V(m.getMetricsFor(q,!0),S.Z.TRACK_SWITCH)},getCurrentBufferState:function(q){return V(m.getMetricsFor(q,!0),S.Z.BUFFER_STATE)},getCurrentBufferLevel:function(q){var N=V(m.getMetricsFor(q,!0),S.Z.BUFFER_LEVEL);return N?Cs.round10(N.level/1e3,-3):0},getCurrentHttpRequest:w,getHttpRequests:G,getCurrentDroppedFrames:function(){return V(m.getMetricsFor(e.Z.VIDEO,!0),S.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(q){return V(m.getMetricsFor(q,!0),S.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(q){return V(q?m.getMetricsFor(q,!0):m.getMetricsFor(e.Z.VIDEO,!0)||m.getMetricsFor(e.Z.AUDIO,!0),S.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return V(m.getMetricsFor(e.Z.STREAM),S.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(q,N){if(!N)return null;var H={},Y=w(q);Y&&(H=sn.Z.parseHttpHeaders(Y._responseHeaders));var ge=H[N.toLowerCase()];return ge===void 0?null:ge},getLatestMPDRequestHeaderValueByID:function(q){if(!q)return null;var N,H,Y,ge={};for(Y=(N=G(e.Z.STREAM)).length-1;Y>=0;Y--)if((H=N[Y]).type===Ae.w.MPD_TYPE){ge=sn.Z.parseHttpHeaders(H._responseHeaders);break}var ne=ge[q.toLowerCase()];return ne===void 0?null:ne},addRepresentationSwitch:function(q,N,H,Y,ge){m.addRepresentationSwitch(q,N,H,Y,ge)},addDVRInfo:function(q,N,H,Y){m.addDVRInfo(q,N,H,Y)},updateManifestUpdateInfo:function(q){var N=this.getCurrentManifestUpdate();m.updateManifestUpdateInfo(N,q)},addManifestUpdateStreamInfo:function(q){if(q){var N=this.getCurrentManifestUpdate();m.addManifestUpdateStreamInfo(N,q.id,q.index,q.start,q.duration)}},addManifestUpdateRepresentationInfo:function(q,N){if(q){var H=this.getCurrentManifestUpdate();m.addManifestUpdateRepresentationInfo(H,q.id,q.index,q.streamIndex,N,q.presentationTimeOffset,q.startNumber,q.fragmentInfoType)}},addManifestUpdate:function(q){m.addManifestUpdate(e.Z.STREAM,q.type,q.requestStartDate,q.requestEndDate)},addHttpRequest:function(q,N,H,Y,ge,ne){m.addHttpRequest(q.mediaType,null,q.type,q.url,q.quality,N,q.serviceLocation||null,q.range||null,q.requestStartDate,q.firstByteDate,q.requestEndDate,H,q.duration,Y,ge,q.fileLoaderType,ne)},addSchedulingInfo:function(q,N){m.addSchedulingInfo(q.mediaType,new Date,q.type,q.startTime,q.availabilityStartTime,q.duration,q.quality,q.range,N)},addRequestsQueue:function(q,N,H){m.addRequestsQueue(q,N,H)},addBufferLevel:function(q,N,H){m.addBufferLevel(q,N,H)},addBufferState:function(q,N,H){m.addBufferState(q,N,H)},addDroppedFrames:function(q){m.addDroppedFrames(e.Z.VIDEO,q)},addPlayList:function(){A&&(m.addPlayList(A),A=null)},addDVBErrors:function(q){m.addDVBErrors(q)},createPlaylistMetrics:function(q,N){(A=new ve).start=new Date,A.mstart=q,A.starttype=N},createPlaylistTraceMetrics:function(q,N,H){c===!0&&(c=!1,(y=new Le).representationid=q,y.start=new Date,y.mstart=N,y.playbackspeed=H!==null?H.toString():null)},updatePlayListTraceMetrics:function(q){if(y)for(var N in y)y[N]=q[N]},pushPlayListTraceMetrics:function(q,N){if(c===!1&&A&&y&&y.start){var H=y.start,Y=q.getTime()-H.getTime();y.duration=Y,y.stopreason=N,A.trace.push(y),c=!0}},clearAllCurrentMetrics:function(){m.clearAllCurrentMetrics()}},m=m||Gs(T).getInstance({settings:u.settings}),c=!0,y=null,A=null,r}ro.__dashjs_factory_name="DashMetrics";const qs=h.Z.getSingletonFactory(ro);function io(){var u,r,c,y,A=this.context,T=(0,g.Z)(A).getInstance(),m=(0,st.Z)(A).getInstance();function w(fe){y=fe}function G(fe,x,re,ee){var ie,p=x.adaptation.period.mpd,L=p.availabilityStartTime;if(ee)ie=re&&p.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(L.getTime()+1e3*(fe+p.timeShiftBufferDepth)):p.availabilityEndTime;else if(re){var Z=x.availabilityTimeOffset;ie=new Date(L.getTime()+1e3*(fe-Z))}else ie=L;return ie}function V(fe,x){return(fe.getTime()-x.mpd.availabilityStartTime.getTime()+1e3*y)/1e3}function q(fe,x){return fe+(x.adaptation.period.start-x.presentationTimeOffset)}function N(fe){var x={start:NaN,end:NaN},re=fe[0].getAdapter().getRegularPeriods()[0],ee=V(new Date,re);if(!fe||fe.length===0)return{range:x,now:ee};fe.forEach(function(p){var L=p.getAdapter(),Z=L.getMediaInfoForType(p.getStreamInfo(),e.Z.VIDEO)||L.getMediaInfoForType(p.getStreamInfo(),e.Z.AUDIO),M=L.getVoRepresentations(Z)[0],R={start:NaN,end:NaN};if(M)if(M.segmentInfoType===n.Z.SEGMENT_TIMELINE)R=function(W){var ue,C,U,me,Se=W.adaptation.period.mpd.manifest.Period_asArray[W.adaptation.period.index].AdaptationSet_asArray[W.adaptation.index],Re=r.getRepresentationFor(W.index,Se),Me=Re.SegmentTemplate.SegmentTimeline,Ee=Re.SegmentTemplate.timescale,Fe=Me.S_asArray,dt={start:0,end:0},Je=Fe[0].t,rt=!isNaN(Je),Tt=rt?Je:0,Ct=0;for(rt&&(dt.start=q(Tt/Ee,W)),U=0,me=Fe.length;U<me;U++)C=0,(ue=Fe[U]).hasOwnProperty("r")&&(C=ue.r),Ct+=ue.d*(1+C);return dt.end=q((Tt+Ct)/Ee,W),dt}(M);else{var K=M.adaptation.period;R.start=K.start,R.end=Math.max(ee,K.start+K.duration)}!isNaN(R.start)&&(isNaN(x.start)||x.start>R.start)&&(x.start=R.start),!isNaN(R.end)&&(isNaN(x.end)||x.end<R.end)&&(x.end=R.end)}),x.end=Math.min(ee,x.end);var ie=Y(fe,x.end,!0);return x.end=isNaN(ie)?x.end:ie,x.start=re&&re.mpd&&re.mpd.timeShiftBufferDepth&&!isNaN(re.mpd.timeShiftBufferDepth)&&!isNaN(x.end)?Math.max(x.end-re.mpd.timeShiftBufferDepth,x.start):x.start,x.start=Y(fe,x.start),{range:x,now:ee}}function H(fe,x){c=fe-x.end}function Y(fe,x){var re=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var ee=0,ie=!1,p=NaN;!ie&&ee<fe.length;){var L=fe[ee].getStreamInfo();L.start<=x&&(!isFinite(L.duration)||L.start+L.duration>=x)?(p=x,ie=!0):!re&&L.start>x&&(isNaN(p)||L.start<p)?p=L.start:re&&L.start+L.duration<x&&(isNaN(p)||L.start+L.duration>p)&&(p=L.start+L.duration),ee+=1}return p}catch{return x}}function ge(fe){fe.offset===void 0||isNaN(fe.offset)||w(fe.offset/1e3)}function ne(){y=0,c=0}function se(){T.off(i.Z.UPDATE_TIME_SYNC_OFFSET,ge,this),ne()}return u={initialize:function(){ne(),T.on(i.Z.UPDATE_TIME_SYNC_OFFSET,ge,this)},getClientTimeOffset:function(){return y},setClientTimeOffset:w,getClientReferenceTime:function(){return Date.now()-1e3*c+1e3*y},calcAvailabilityStartTimeFromPresentationTime:function(fe,x,re){return G(fe,x,re)},calcAvailabilityEndTimeFromPresentationTime:function(fe,x,re){return G(fe,x,re,!0)},calcPresentationTimeFromWallTime:V,calcPresentationTimeFromMediaTime:q,calcPeriodRelativeTimeFromMpdRelativeTime:function(fe,x){return x-fe.adaptation.period.start},calcMediaTimeFromPresentationTime:function(fe,x){return fe-x.adaptation.period.start+x.presentationTimeOffset},calcWallTimeForSegment:function(fe,x){var re,ee,ie;return x&&(re=fe.representation.adaptation.period.mpd.suggestedPresentationDelay,ee=fe.presentationStartTime+re,ie=new Date(fe.availabilityStartTime.getTime()+1e3*ee)),ie},calcTimeShiftBufferWindow:function(fe,x){if(!x)return function(ee){var ie={start:NaN,end:NaN},p=0,L=NaN;return ee.forEach(function(Z){var M=Z.getStreamInfo();p+=M.duration,(isNaN(L)||M.start<L)&&(L=M.start)}),ie.start=L,ie.end=L+p,ie}(fe);if(m.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var re=N(fe);return H(re.now,re.range),re.range}return function(ee){var ie={start:NaN,end:NaN};if(!ee||ee.length===0)return ie;var p=ee[0].getAdapter().getRegularPeriods()[0],L=V(new Date,p),Z=p.mpd.timeShiftBufferDepth,M=isNaN(Z)?0:L-Z;if(ie.start=Y(ee,M),ie.end=!isNaN(ie.start)&&L<ie.start?L:Y(ee,L,!0),!isNaN(Z)&&ie.end<L-Z&&(ie.end=NaN),m.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var R=N(ee);if(R.range.end<ie.start)return T.trigger(t.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.WARNING,event:Dr.EVENTS.INVALID_DVR_WINDOW}),H(R.now,R.range),R.range}return ie}(fe)},reset:se},r=Qt(A).getInstance(),se(),u}io.__dashjs_factory_name="TimelineConverter";const Ys=h.Z.getSingletonFactory(io);var Qi=D(4593),vi=D(6934);function Ji(u){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ji(u)}function $i(u,r){return $i=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c},$i(u,r)}function js(u,r){return!r||Ji(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(u):r}function _i(u){return _i=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_i(u)}const Hs=function(u){(function(T,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(m&&m.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),m&&$i(T,m)})(A,u);var r,c,y=(r=A,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,m=_i(r);if(c){var w=_i(this).constructor;T=Reflect.construct(m,arguments,w)}else T=m.apply(this,arguments);return js(this,T)});function A(){var T;return function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,A),(T=y.call(this)).captionData=null,T.label=null,T.defaultTrack=!1,T.kind=null,T.isFragmented=!1,T.isEmbedded=!1,T.isTTML=null,T}return A}(Wi);var Vs=D(2295);function ao(){var u=0;function r(w){for(var G="",V=0;V<w.length;++V)G+=w[V].uchar;return G.length-G.replace(/^\s+/,"").length}function c(w){return"left: "+3.125*w.x+"%; top: "+6.66*w.y1+"%; width: "+(100-3.125*w.x)+"%; height: "+6.66*Math.max(w.y2-1-w.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function y(w){return w==="red"?"rgb(255, 0, 0)":w==="green"?"rgb(0, 255, 0)":w==="blue"?"rgb(0, 0, 255)":w==="cyan"?"rgb(0, 255, 255)":w==="magenta"?"rgb(255, 0, 255)":w==="yellow"?"rgb(255, 255, 0)":w==="white"?"rgb(255, 255, 255)":w==="black"?"rgb(0, 0, 0)":w}function A(w,G){var V=w.videoHeight/15;return G?"font-size: "+V+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(G.foreground?y(G.foreground):"rgb(255, 255, 255)")+"; font-style: "+(G.italics?"italic":"normal")+"; text-decoration: "+(G.underline?"underline":"none")+"; white-space: pre; background-color: "+(G.background?y(G.background):"transparent")+";":"font-size: "+V+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function T(w){return w.replace(/^\s+/g,"")}function m(w){return w.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(w,G,V,q){var N,H,Y=null,ge=!1,ne=-1,se={start:G,end:V,spans:[]},fe="style_cea608_white_black",x={},re={},ee=[];for(N=0;N<15;++N){var ie=q.rows[N],p="",L=null;if(ie.isEmpty()===!1){var Z=r(ie.chars);Y===null&&(Y={x:Z,y1:N,y2:N+1,p:[]}),Z!==ne&&ge&&(Y.p.push(se),se={start:G,end:V,spans:[]},Y.y2=N,Y.name="region_"+Y.x+"_"+Y.y1+"_"+Y.y2,x.hasOwnProperty(Y.name)===!1?(ee.push(Y),x[Y.name]=Y):x[Y.name].p.contat(Y.p),Y={x:Z,y1:N,y2:N+1,p:[]});for(var M=0;M<ie.chars.length;++M){var R=ie.chars[M],K=R.penState;if(L===null||!K.equals(L)){p.trim().length>0&&(se.spans.push({name:fe,line:p,row:N}),p="");var W="style_cea608_"+K.foreground+"_"+K.background;K.underline&&(W+="_underline"),K.italics&&(W+="_italics"),re.hasOwnProperty(W)||(re[W]=JSON.parse(JSON.stringify(K))),L=K,fe=W}p+=R.uchar}p.trim().length>0&&se.spans.push({name:fe,line:p,row:N}),ge=!0,ne=Z}else ge=!1,ne=-1,Y&&(Y.p.push(se),se={start:G,end:V,spans:[]},Y.y2=N,Y.name="region_"+Y.x+"_"+Y.y1+"_"+Y.y2,x.hasOwnProperty(Y.name)===!1?(ee.push(Y),x[Y.name]=Y):x[Y.name].p.contat(Y.p),Y=null)}Y&&(Y.p.push(se),Y.y2=N+1,Y.name="region_"+Y.x+"_"+Y.y1+"_"+Y.y2,x.hasOwnProperty(Y.name)===!1?(ee.push(Y),x[Y.name]=Y):x[Y.name].p.contat(Y.p),Y=null);var ue=[];for(N=0;N<ee.length;++N){var C=ee[N],U="sub_cea608_"+u++,me=document.createElement("div");me.id=U;var Se=c(C);me.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Se;var Re=document.createElement("div");Re.className="paragraph bodyStyle",Re.style.cssText=A(w);var Me=document.createElement("div");Me.className="cueUniWrapper",Me.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ee=0;Ee<C.p.length;++Ee){var Fe=C.p[Ee],dt=0;for(H=0;H<Fe.spans.length;++H){var Je=Fe.spans[H];if(Je.line.length>0){if(H!==0&&dt!=Je.row){var rt=document.createElement("br");rt.className="lineBreak",Me.appendChild(rt)}var Tt=!1;dt===Je.row&&(Tt=!0),dt=Je.row;var Ct=re[Je.name],_e=document.createElement("span");_e.className="spanPadding "+Je.name+" customSpanColor",_e.style.cssText=A(w,Ct),H!==0&&Tt?H===Fe.spans.length-1?_e.textContent=m(Je.line):_e.textContent=Je.line:Fe.spans.length>1&&H<Fe.spans.length-1&&Je.row===Fe.spans[H+1].row?_e.textContent=T(Je.line):_e.textContent=Je.line.trim(),Me.appendChild(_e)}}}Re.appendChild(Me),me.appendChild(Re);var le={bodyStyle:["%",90]};for(var Oe in re)re.hasOwnProperty(Oe)&&(le[Oe]=["%",90]);ue.push({type:"html",start:G,end:V,cueHTMLElement:me,cueID:U,cellResolution:[32,15],isFromCEA608:!0,fontSize:le,lineHeight:{},linePadding:{}})}return ue}}}ao.__dashjs_factory_name="EmbeddedTextHtmlRender";const Ks=h.Z.getSingletonFactory(ao);function oo(u){var r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe=u.errHandler,x=u.manifestModel,re=u.mediaController,ee=u.videoModel,ie=u.textTracks,p=u.vttParser,L=u.vttCustomRenderingParser,Z=u.ttmlParser,M=u.streamInfo,R=u.settings,K=this.context,W=(0,g.Z)(K).getInstance(),ue=!1;function C(){m=null,G=NaN,V=[],q=null,w=!1,T=[],A=null}function U(Je){var rt=new Hs;for(var Tt in Je)rt[Tt]=Je[Tt];rt.labels=Je.labels,rt.defaultTrack=function(Ct){var _e=!1;return H.length>1&&Ct.isEmbedded?_e=Ct.id&&Ct.id===e.Z.CC1:H.length===1?Ct.id&&typeof Ct.id=="string"&&Ct.id.substring(0,2)==="CC"&&(_e=!0):H.length===0&&(_e=Ct.index===T[0].index),_e}(Je),rt.isFragmented=Je.isFragmented,rt.isEmbedded=!!Je.isEmbedded,rt.isTTML=function(Ct){return Ct.codec&&Ct.codec.search(e.Z.STPP)>=0||Ct.mimeType&&Ct.mimeType.search(e.Z.TTML)>=0}(Je),rt.kind=function(Ct,_e){var le=Ct.roles&&Ct.roles.length>0?_e[Ct.roles[0]]:_e.caption;return le=le===_e.caption||le===_e.subtitle?le:_e.caption}(Je,{subtitle:"subtitles",caption:"captions"}),ie.addTextTrack(rt)}function me(Je){var rt=Je.chunk;rt.mediaInfo.embeddedCaptions&&Re(rt.bytes,rt)}function Se(Je){N=Je}function Re(Je,rt){var Tt=rt.mediaInfo,Ct=Tt.type,_e=Tt.mimeType,le=Tt.codec||_e;le?Tt.codec.indexOf("application/mp4")!==-1?function(Oe,pe,Pe){var Ge;if(pe.segmentType==="InitializationSegment")w=!0,G=y.getMediaTimescaleFromMoov(Oe);else{if(!w)return;(Ge=y.getSamplesInfo(Oe).sampleList).length>0&&(q=Ge[0].cts-pe.start*G),Pe.search(e.Z.STPP)>=0?function(Ve,ct,St){var qt,jt;for(A=A!==null?A:Fe(St),qt=0;qt<ct.length;qt++){var kt=ct[qt],Ht=kt.cts,Kt=Ee(),rn=Kt+Ht/G,un=rn+kt.duration/G;r.buffered.add(rn,un);var en=new DataView(Ve,kt.offset,kt.subSizes[0]),cn=vi.Utils.dataViewToString(en,e.Z.UTF8),an=[],fn=kt.offset+kt.subSizes[0];for(jt=1;jt<kt.subSizes.length;jt++){var gt=new Uint8Array(Ve,fn,kt.subSizes[jt]),Bt=String.fromCharCode.apply(null,gt);an.push(Bt),fn+=kt.subSizes[jt]}try{var Gt=x.getValue().ttmlTimeIsRelative?Ht/G:0,Zt=A.parse(cn,Gt,Ht/G,(Ht+kt.duration)/G,an);ie.addCaptions(N,Kt,Zt)}catch(Ke){m.removeExecutedRequestsBeforeTime(),this.remove(),c.error("TTML parser error: "+Ke.message)}}}(Oe,Ge,Pe):function(Ve,ct){var St,qt,jt,kt=[];for(St=0;St<ct.length;St++){var Ht=ct[St];Ht.cts-=q;var Kt=Ee()+Ht.cts/G,rn=Kt+Ht.duration/G;r.buffered.add(Kt,rn);var un=Ve.slice(Ht.offset,Ht.offset+Ht.size),en=vi.parseBuffer(un);for(qt=0;qt<en.boxes.length;qt++){var cn=en.boxes[qt];if(c.debug("VTT box1: "+cn.type),cn.type!=="vtte"&&cn.type==="vttc"){c.debug("VTT vttc boxes.length = "+cn.boxes.length);var an={styles:{}};for(jt=0;jt<cn.boxes.length;jt++){var fn=cn.boxes[jt];if(c.debug("VTT box2: "+fn.type),fn.type==="payl")an.start=Ht.cts/G,an.end=(Ht.cts+Ht.duration)/G,an.data=fn.cue_text;else if(fn.type==="sttg"&&fn.settings&&fn.settings!=="")try{var gt=fn.settings.split(" ");an.styles=p.getCaptionStyles(gt)}catch{}}an&&an.data&&(kt.push(an),c.debug("VTT  ".concat(an.start," - ").concat(an.end," :  ").concat(an.data)))}}}kt.length>0&&ie.addCaptions(N,0,kt)}(Oe,Ge)}}(Je,rt,le):Ct===e.Z.VIDEO?function(Oe,pe){var Pe,Ge;if(pe.segmentType===Ae.w.INIT_SEGMENT_TYPE)Y===0&&(Y=y.getMediaTimescaleFromMoov(Oe));else if(pe.segmentType===Ae.w.MEDIA_SEGMENT_TYPE){if(Y===0)return void c.warn("CEA-608: No timescale for embeddedTextTrack yet");var Ve=(Ge=y.getSamplesInfo(Oe)).lastSequenceNumber;if(ne[0]||ne[1]||function(){for(var kt,Ht=0;Ht<H.length;Ht++){if((kt=ie.getTrackIdxForId(H[Ht].id))===-1)return void c.warn("CEA-608: data before track is ready.");var Kt=Me(kt);ne[Ht]=new(b()).Cea608Parser(Ht+1,{newCue:Kt},null)}}(),Y){if(ge!==null&&Ve!==ge+Ge.numSequences)for(Pe=0;Pe<ne.length;Pe++)ne[Pe]&&ne[Pe].reset();for(var ct=function(kt,Ht){if(Ht.length===0)return null;for(var Kt={splits:[],fields:[[],[]]},rn=new DataView(kt),un=0;un<Ht.length;un++)for(var en=Ht[un],cn=b().findCea608Nalus(rn,en.offset,en.size),an=null,fn=0,gt=0;gt<cn.length;gt++)for(var Bt=b().extractCea608DataFromRange(rn,cn[gt]),Gt=0;Gt<2;Gt++)if(Bt[Gt].length>0){en.cts!==an?fn=0:fn+=1;var Zt=Ee();Kt.fields[Gt].push([en.cts+Zt*Y,Bt[Gt],fn]),an=en.cts}return Kt.fields.forEach(function(Ke){Ke.sort(function(yt,Ye){return yt[0]===Ye[0]?yt[2]-Ye[2]:yt[0]-Ye[0]})}),Kt}(Oe,Ge.sampleList),St=0;St<ne.length;St++){var qt=ct.fields[St],jt=ne[St];if(jt)for(Pe=0;Pe<qt.length;Pe++)jt.addData(qt[Pe][0]/Y,qt[Pe][1])}ge=Ve}}}(Je,rt):function(Oe,pe,Pe){var Ge,Ve,ct=new DataView(Oe,0,Oe.byteLength);Ve=vi.Utils.dataViewToString(ct,e.Z.UTF8);try{Ge=Fe(Pe).parse(Ve,0),ie.addCaptions(ie.getCurrentTrackIdx(),0,Ge),r.buffered&&r.buffered.add(pe.start,pe.end)}catch(St){fe.error(new k.Z(te.TIMED_TEXT_ERROR_ID_PARSE_CODE,te.TIMED_TEXT_ERROR_MESSAGE_PARSE+St.message,Ve))}}(Je,rt,le):c.error("No text type defined")}function Me(Je){return function(rt,Tt,Ct){var _e;(_e=ee.getTTMLRenderingDiv()?se.createHTMLCaptionsFromScreen(ee.getElement(),rt,Tt,Ct):[{start:rt,end:Tt,data:Ct.getDisplayText(),styles:{}}])&&ie.addCaptions(Je,0,_e)}}function Ee(){return isNaN(r.timestampOffset)?0:r.timestampOffset}function Fe(Je){var rt;return Je.search(e.Z.VTT)>=0?rt=R.get().streaming.text.webvtt.customRenderingEnabled&&L?L:p:(Je.search(e.Z.TTML)>=0||Je.search(e.Z.STPP)>=0)&&(rt=Z),rt}function dt(Je){H.forEach(function(rt){var Tt=ie.getTrackIdxForId(rt.id);Tt>=0&&ie.deleteCuesFromTrackIdx(Tt,Je.from,Je.to)})}return r={initialize:function(){ue||(H=[],N=null,Y=0,ne=[],ge=null,ue=!0,se=Ks(K).getInstance(),W.on(i.Z.VIDEO_CHUNK_RECEIVED,me,r),W.on(i.Z.BUFFER_CLEARED,dt,r))},addMediaInfos:function(Je,rt,Tt){if(T=T.concat(rt),Je===e.Z.TEXT&&rt[0].isFragmented&&!rt[0].isEmbedded){m=Tt,r.buffered=(0,Vs.Z)(K).create(),V=re.getTracksFor(e.Z.TEXT,M.id).filter(function(Oe){return Oe.isFragmented});for(var Ct=re.getCurrentTrackFor(e.Z.TEXT,M.id),_e=0;_e<V.length;_e++)if(V[_e]===Ct){Se(_e);break}}for(var le=0;le<rt.length;le++)U(rt[le])},resetMediaInfos:function(){T=[]},getStreamId:function(){return M.id},append:Re,abort:function(){},addEmbeddedTrack:function(Je){if(ue&&Je)if(Je.id===e.Z.CC1||Je.id===e.Z.CC3){for(var rt=0;rt<H.length;rt++)if(H[rt].id===Je.id)return;H.push(Je)}else c.warn("Embedded track "+Je.id+" not supported!")},resetEmbedded:function(){W.off(i.Z.VIDEO_CHUNK_RECEIVED,me,r),W.off(i.Z.BUFFER_CLEARED,dt,r),ie&&ie.deleteAllTextTracks(),ue=!1,H=[],ne=[null,null],ge=null},getConfig:function(){return{fragmentModel:m,fragmentedTracks:V,videoModel:ee}},setCurrentFragmentedTrackIdx:Se,remove:function(Je,rt){Je===void 0&&Je===rt&&(Je=r.buffered.start(0),rt=r.buffered.end(r.buffered.length-1)),r.buffered.remove(Je,rt),ie.deleteCuesFromTrackIdx(N,Je,rt)},reset:function(){C(),T=[],y=null}},c=(0,_.Z)(K).getInstance().getLogger(r),y=(0,Yr.Z)(K).getInstance(),C(),r}oo.__dashjs_factory_name="TextSourceBuffer";const zs=h.Z.getClassFactory(oo);var ea=D(4403);function so(u,r){(r==null||r>u.length)&&(r=u.length);for(var c=0,y=new Array(r);c<r;c++)y[c]=u[c];return y}var Ws=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function uo(u){var r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re=this.context,ee=(0,g.Z)(re).getInstance(),ie=u.videoModel,p=u.streamInfo,L=u.settings;function Z(le,Oe,pe,Pe,Ge,Ve){var ct=0,St=0;le/Oe>pe/Pe?ct=(St=Oe)/Pe*pe:St=(ct=le)/pe*Pe;var qt,jt,kt=0,Ht=0;return ct/St>Ge?(Ht=St,kt=St*Ge):(kt=ct,Ht=ct/Ge),qt=(le-kt)/2,jt=(Oe-Ht)/2,Ve?{x:qt+.1*kt,y:jt+.1*Ht,w:.8*kt,h:.8*Ht}:{x:qt,y:jt,w:kt,h:Ht}}function M(le,Oe){var pe=ie.getClientWidth(),Pe=ie.getClientHeight(),Ge=ie.getVideoWidth(),Ve=ie.getVideoHeight(),ct=ie.getVideoRelativeOffsetTop(),St=ie.getVideoRelativeOffsetLeft();if(Ge!==0&&Ve!==0){var qt=Ge/Ve,jt=!1;le.isFromCEA608&&(qt=1.1666666666666667,jt=!0);var kt=Z.call(this,pe,Pe,Ge,Ve,qt,jt),Ht=kt.w,Kt=kt.h,rn=kt.x,un=kt.y;if(Ht!=V||Kt!=q||rn!=w||un!=G||Oe){if(w=rn+St,G=un+ct,V=Ht,q=Kt,N){var en=N.style;en&&(en.left=w+"px",en.top=G+"px",en.width=V+"px",en.height=q+"px",en.zIndex=ge&&document[ge]||ne?fe:null,ee.trigger(t.Z.CAPTION_CONTAINER_RESIZE))}var cn=le.activeCues;if(cn)for(var an=cn.length,fn=0;fn<an;++fn){var gt=cn[fn];gt.scaleCue(gt)}}}}function R(le){var Oe,pe,Pe,Ge,Ve,ct=V,St=q;if(le.cellResolution){var qt=[ct/le.cellResolution[0],St/le.cellResolution[1]];if(le.linePadding){for(Oe in le.linePadding)if(le.linePadding.hasOwnProperty(Oe)){pe=(le.linePadding[Oe]*qt[0]).toString();for(var jt=document.getElementsByClassName("spanPadding"),kt=0;kt<jt.length;kt++)jt[kt].style.cssText=jt[kt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+pe),jt[kt].style.cssText=jt[kt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+pe)}}if(le.fontSize){for(Oe in le.fontSize)if(le.fontSize.hasOwnProperty(Oe)){le.fontSize[Oe][0]==="%"?Pe=le.fontSize[Oe][1]/100:le.fontSize[Oe][0]==="c"&&(Pe=le.fontSize[Oe][1]),pe=(Pe*qt[1]).toString(),Ve=Oe!=="defaultFontSize"?document.getElementsByClassName(Oe):document.getElementsByClassName("paragraph");for(var Ht=0;Ht<Ve.length;Ht++)Ve[Ht].style.cssText=Ve[Ht].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+pe)}if(le.lineHeight){for(Oe in le.lineHeight)if(le.lineHeight.hasOwnProperty(Oe)){le.lineHeight[Oe][0]==="%"?Ge=le.lineHeight[Oe][1]/100:le.fontSize[Oe][0]==="c"&&(Ge=le.lineHeight[Oe][1]),pe=(Ge*qt[1]).toString(),Ve=document.getElementsByClassName(Oe);for(var Kt=0;Kt<Ve.length;Kt++)Ve[Kt].style.cssText=Ve[Kt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+pe)}}}}if(le.isd){var rn=document.getElementById(le.cueID);rn&&N.removeChild(rn),W(le)}}function K(le,Oe){var pe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Pe=/^#(.*)$/;if(pe.test(Oe)){var Ge=pe.exec(Oe),Ve=parseInt(Ge[4],10)-1;return"data:image/png;base64,"+btoa(le.images[Ve])}if(Pe.test(Oe)){var ct=Pe.exec(Oe)[1];return"data:image/png;base64,"+le.embeddedImages[ct]}return Oe}function W(le){if(N){var Oe=document.createElement("div");N.appendChild(Oe),se=(0,ea.renderHTML)(le.isd,Oe,function(pe){return K(le,pe)},N.clientHeight,N.clientWidth,!1,function(pe){c.info("renderCaption :",pe)},se,!0),Oe.id=le.cueID,ee.trigger(t.Z.CAPTION_RENDERED,{captionDiv:Oe,currentTrackIdx:m})}}function ue(le,Oe){if(!L.get().streaming.text.extendSegmentedCues||!Oe.cues||Oe.cues.length===0)return!1;var pe=Oe.cues[Oe.cues.length-1];return!(pe.endTime<le.startTime||!function(Pe,Ge,Ve){for(var ct=0;ct<Ve.length;ct++){var St=Ve[ct];if(JSON.stringify(Pe[St])!==JSON.stringify(Ge[St]))return!1}return!0}(pe,le,Ws)||(pe.endTime=Math.max(pe.endTime,le.endTime),0))}function C(le,Oe){Oe&&Oe.forEach(function(pe){pe.kind&&pe.kind==="image"&&(pe.src=K(le,pe.src)),C(le,pe.contents)})}function U(le,Oe,pe){var Pe=Me(le);if(Pe&&Array.isArray(pe)&&pe.length!==0)for(var Ge=0;Ge<pe.length;Ge++){var Ve=void 0,ct=pe[Ge];Pe.cellResolution=ct.cellResolution,Pe.isFromCEA608=ct.isFromCEA608,isNaN(ct.start)||isNaN(ct.end)||(Ve=ct.type==="html"&&N?me(ct,Oe,Pe):ct.data?Se(ct,Oe,Pe):null);try{Ve?dt(Pe,Ve)||(L.get().streaming.text.webvtt.customRenderingEnabled?(Pe.manualCueList||(Pe.manualCueList=[]),Pe.manualCueList.push(Ve)):ue(Ve,Pe)||Pe.addCue(Ve)):c.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(St){throw rt(Pe),Pe.addCue(Ve),St}}}function me(le,Oe,pe){var Pe=this,Ge=new y(le.start+Oe,le.end+Oe,"");return Ge.cueHTMLElement=le.cueHTMLElement,Ge.isd=le.isd,Ge.images=le.images,Ge.embeddedImages=le.embeddedImages,Ge.cueID=le.cueID,Ge.scaleCue=R.bind(Pe),Ge.cellResolution=le.cellResolution,Ge.lineHeight=le.lineHeight,Ge.linePadding=le.linePadding,Ge.fontSize=le.fontSize,N.style.left=w+"px",N.style.top=G+"px",N.style.width=V+"px",N.style.height=q+"px",Ge.isd&&C(Ge,Ge.isd.contents),Ge.onenter=function(){pe.mode===e.Z.TEXT_SHOWING&&(this.isd?(W(this),c.debug("Cue enter id:"+this.cueID)):(N.appendChild(this.cueHTMLElement),R.call(Pe,this),ee.trigger(t.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:m})))},Ge.onexit=function(){if(N)for(var Ve=N.childNodes,ct=0;ct<Ve.length;++ct)Ve[ct].id===this.cueID&&(c.debug("Cue exit id:"+Ve[ct].id),N.removeChild(Ve[ct]),--ct)},Ge}function Se(le,Oe,pe){var Pe=new y(le.start-Oe,le.end-Oe,le.data);if(Pe.cueID="".concat(Pe.startTime,"_").concat(Pe.endTime),Pe.isActive=!1,le.styles)try{le.styles.align!==void 0&&"align"in Pe&&(Pe.align=le.styles.align),le.styles.line!==void 0&&"line"in Pe&&(Pe.line=le.styles.line),le.styles.snapToLines!==void 0&&"snapToLines"in Pe&&(Pe.snapToLines=le.styles.snapToLines),le.styles.position!==void 0&&"position"in Pe&&(Pe.position=le.styles.position),le.styles.size!==void 0&&"size"in Pe&&(Pe.size=le.styles.size)}catch(Ge){c.error(Ge)}return Pe.onenter=function(){pe.mode===e.Z.TEXT_SHOWING&&ee.trigger(t.Z.CAPTION_RENDERED,{currentTrackIdx:m})},Pe}function Re(){var le,Oe=[],pe=function(Ge,Ve){var ct;if(typeof Symbol>"u"||Ge[Symbol.iterator]==null){if(Array.isArray(Ge)||(ct=function(Kt,rn){if(Kt){if(typeof Kt=="string")return so(Kt,rn);var un=Object.prototype.toString.call(Kt).slice(8,-1);return un==="Object"&&Kt.constructor&&(un=Kt.constructor.name),un==="Map"||un==="Set"?Array.from(Kt):un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un)?so(Kt,rn):void 0}}(Ge))||Ve&&Ge&&typeof Ge.length=="number"){ct&&(Ge=ct);var St=0,qt=function(){};return{s:qt,n:function(){return St>=Ge.length?{done:!0}:{done:!1,value:Ge[St++]}},e:function(Kt){throw Kt},f:qt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jt,kt=!0,Ht=!1;return{s:function(){ct=Ge[Symbol.iterator]()},n:function(){var Kt=ct.next();return kt=Kt.done,Kt},e:function(Kt){Ht=!0,jt=Kt},f:function(){try{kt||ct.return==null||ct.return()}finally{if(Ht)throw jt}}}}(ie.getTextTracks());try{for(pe.s();!(le=pe.n()).done;){var Pe=le.value;Pe.manualMode===e.Z.TEXT_SHOWING&&Oe.push(Pe)}}catch(Ge){pe.e(Ge)}finally{pe.f()}return Oe}function Me(le){return le>=0&&A[le]?ie.getTextTrack(A[le].kind,A[le].id,A[le].lang,A[le].isTTML,A[le].isEmbedded):null}function Ee(le){var Oe=this;if(le!==m){var pe=Me(m=le);Fe.call(this,pe),Y&&(clearInterval(Y),Y=null),pe&&pe.renderingType==="html"&&(M.call(this,pe,!0),window.ResizeObserver?(x=new window.ResizeObserver(function(){M.call(Oe,pe,!0)})).observe(ie.getElement()):Y=setInterval(M.bind(this,pe),500))}}function Fe(le){_e.call(this),le&&le.renderingType==="html"?Tt.call(this):Ct.call(this)}function dt(le,Oe){if(!le.cues)return!1;for(var pe=0;pe<le.cues.length;pe++)if(le.cues[pe].startTime===Oe.startTime&&le.cues[pe].endTime===Oe.endTime)return!0;return!1}function Je(le,Oe,pe){var Pe=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return(isNaN(Oe)||(Pe?le.startTime:le.endTime)>=Oe)&&(isNaN(pe)||(Pe?le.endTime:le.startTime)<=pe)}function rt(le,Oe,pe){var Pe=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(le.cues)for(var Ge=le.cues,Ve=Ge.length-1,ct=Ve;ct>=0;ct--)Je(Ge[ct],Oe,pe,Pe)&&(Ge[ct].onexit&&Ge[ct].onexit(),le.removeCue(Ge[ct]))}function Tt(){var le=document.getElementById("native-cue-style");if(!le){(le=document.createElement("style")).id="native-cue-style",document.head.appendChild(le);var Oe=le.sheet,pe=ie.getElement();try{pe&&(pe.id?Oe.insertRule("#"+pe.id+"::cue {background: transparent}",0):pe.classList.length!==0?Oe.insertRule("."+pe.className+"::cue {background: transparent}",0):Oe.insertRule("video::cue {background: transparent}",0))}catch(Pe){c.info(""+Pe.message)}}}function Ct(){var le=document.getElementById("native-cue-style");le&&document.head.removeChild(le)}function _e(){if(N)for(;N.firstChild;)N.removeChild(N.firstChild)}return r={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(y=window.VTTCue||window.TextTrackCue,A=[],T=[],m=-1,w=0,G=0,V=0,q=0,N=null,H=null,Y=null,ne=!1,fe=2147483647,se=null,document.fullscreenElement!==void 0?ge="fullscreenElement":document.webkitIsFullScreen!==void 0?ge="webkitIsFullScreen":document.msFullscreenElement?ge="msFullscreenElement":document.mozFullScreen&&(ge="mozFullScreen"))},getStreamId:function(){return p.id},addTextTrack:function(le){A.push(le)},addCaptions:U,createTracks:function(){A.sort(function(Kt,rn){return Kt.index-rn.index}),N=ie.getTTMLRenderingDiv(),H=ie.getVttRenderingDiv();for(var le,Oe,pe,Pe,Ge,Ve,ct=-1,St=0;St<A.length;St++){var qt=(Oe=(le=A[St]).kind,pe=le.id!==void 0?le.id:le.lang,Pe=le.lang,Ge=le.isTTML,Ve=le.isEmbedded,ie.addTextTrack(Oe,pe,Pe,Ge,Ve));T.push(qt),A[St].defaultTrack&&(qt.default=!0,ct=St);var jt=Me(St);jt&&(jt.mode=e.Z.TEXT_SHOWING,N&&(A[St].isTTML||A[St].isEmbedded)?jt.renderingType="html":jt.renderingType="default"),U(St,0,A[St].captionData),ee.trigger(t.Z.TEXT_TRACK_ADDED)}if(Ee.call(this,ct),ct>=0){ee.on(t.Z.PLAYBACK_METADATA_LOADED,function Kt(){var rn=Me(ct);rn&&rn.renderingType==="html"&&M.call(this,rn,!0),ee.off(t.Z.PLAYBACK_METADATA_LOADED,Kt,this)},this);for(var kt=0;kt<A.length;kt++){var Ht=Me(kt);Ht&&(Ht.mode=kt===ct?e.Z.TEXT_SHOWING:e.Z.TEXT_HIDDEN,Ht.manualMode=kt===ct?e.Z.TEXT_SHOWING:e.Z.TEXT_HIDDEN)}}ee.trigger(i.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:m,tracks:A,streamId:p.id})},getCurrentTrackIdx:function(){return m},setCurrentTrackIdx:Ee,getTrackIdxForId:function(le){for(var Oe=-1,pe=0;pe<A.length;pe++)if(A[pe].id===le){Oe=pe;break}return Oe},getCurrentTrackInfo:function(){return A[m]},setModeForTrackIdx:function(le,Oe){var pe=Me(le);pe&&pe.mode!==Oe&&(pe.mode=Oe),pe&&pe.manualMode!==Oe&&(pe.manualMode=Oe)},deleteCuesFromTrackIdx:function(le,Oe,pe){var Pe=Me(le);Pe&&rt(Pe,Oe,pe)},deleteAllTextTracks:function(){for(var le=T?T.length:0,Oe=0;Oe<le;Oe++){var pe=Me(Oe);pe&&rt.call(this,pe,p.start,p.start+p.duration,!1)}T=[],A=[],Y&&(clearInterval(Y),Y=null),x&&ie&&(x.unobserve(ie.getElement()),x=null),m=-1,_e.call(this)},deleteTextTrack:function(le){ie.removeChild(T[le]),T.splice(le,1)},manualCueProcessing:function(le){var Oe=Re();if(Oe&&Oe.length>0){var pe=Oe[0].manualCueList;pe&&pe.length>0&&pe.forEach(function(Pe){if(Pe.startTime<=le&&Pe.endTime>=le&&!Pe.isActive)Pe.isActive=!0,WebVTT.processCues(window,[Pe],H,Pe.cueID);else if(Pe.isActive&&(Pe.startTime>le||Pe.endTime<le)&&(Pe.isActive=!1,H))for(var Ge=H.childNodes,Ve=0;Ve<Ge.length;++Ve)Ge[Ve].id===Pe.cueID&&(H.removeChild(Ge[Ve]),--Ve)})}},disableManualTracks:function(){var le=Re();if(le&&le.length>0){var Oe=le[0].manualCueList;Oe&&Oe.length>0&&Oe.forEach(function(pe){if(pe.isActive&&(pe.isActive=!1,H))for(var Pe=H.childNodes,Ge=0;Ge<Pe.length;++Ge)Pe[Ge].id===pe.cueID&&(H.removeChild(Pe[Ge]),--Ge)})}}},c=(0,_.Z)(re).getInstance().getLogger(r),r}uo.__dashjs_factory_name="TextTracks";const Xs=h.Z.getClassFactory(uo);function lo(){var u,r,c,y,A,T,m=this.context;function w(N){var H=N.split(":"),Y=H.length-1;return N=60*parseInt(H[Y-1],10)+parseFloat(H[Y]),Y===2&&(N+=3600*parseInt(H[0],10)),N}function G(N){var H=N.split(y),Y=H[1].split(T);return Y.shift(),H[1]=Y[0],Y.shift(),{cuePoints:H,styles:V(Y)}}function V(N){var H={};return N.forEach(function(Y){if(Y.split(/:/).length>1){var ge=Y.split(/:/)[1],ne=!1;ge&&ge.search(/%/)!=-1&&(ne=!0,ge=parseInt(ge.replace(/%/,""),10)),(Y.match(/align/)||Y.match(/A/))&&(H.align=ge),(Y.match(/line/)||Y.match(/L/))&&(H.line=ge==="auto"?ge:parseInt(ge,10),ne&&(H.snapToLines=!1)),(Y.match(/position/)||Y.match(/P/))&&(H.position=ge),(Y.match(/size/)||Y.match(/S/))&&(H.size=ge)}}),H}function q(N,H){for(var Y,ge=H,ne="",se="";N[ge]!==""&&ge<N.length;)ge++;if((Y=ge-H)>1)for(var fe=0;fe<Y;fe++){if((se=N[H+fe]).match(y)){ne="";break}ne+=se,fe!==Y-1&&(ne+=`
`)}else(se=N[H]).match(y)||(ne=se);return ne}return u={parse:function(N){var H,Y,ge=[];if(!N)return ge;H=(N=N.split(c)).length,Y=-1;for(var ne=0;ne<H;ne++){var se=N[ne];if(se.length>0&&se!=="WEBVTT"&&se.match(y)){var fe=G(se),x=fe.cuePoints,re=fe.styles,ee=q(N,ne+1),ie=w(x[0].replace(A,"")),p=w(x[1].replace(A,""));!isNaN(ie)&&!isNaN(p)&&ie>=Y&&p>ie?ee!==""?(Y=ie,ge.push({start:ie,end:p,data:ee,styles:re})):r.error("Skipping cue due to empty/malformed cue text"):r.error("Skipping cue due to incorrect cue timing")}}return ge},getCaptionStyles:V},r=(0,_.Z)(m).getInstance().getLogger(u),c=/(?:\r\n|\r|\n)/gm,y=/-->/,A=/(^[\s]+|[\s]+$)/g,T=/\s\b/g,u}lo.__dashjs_factory_name="VTTParser";const Qs=h.Z.getSingletonFactory(lo);function co(){var u,r;return u={parse:function(c){var y=[];return r.oncue=function(A){A.start=A.startTime,A.end=A.endTime,A.data=A.text,A.styles={align:A.align,line:A.line,position:A.position,size:A.size},y.push(A)},r.parse(c),y}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(r=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),u}co.__dashjs_factory_name="VttCustomRenderingParser";const Js=h.Z.getSingletonFactory(co);function fo(){var u,r,c=this.context,y=(0,g.Z)(c).getInstance(),A=0;return u={parse:function(T,m,w,G,V){var q,N,H,Y="",ge=[],ne={},se={},fe="",x="",re={onOpenTag:function(Z,M,R){if(R[" imagetype"]&&!R[" imageType"]&&(y.trigger(t.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.ERROR,event:Dr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),R[" imageType"]=R[" imagetype"]),M==="image"&&(Z==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||Z==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!R[" imageType"]||R[" imageType"].value!=="PNG")return void r.warn("smpte-tt imageType != PNG. Discarded");fe=R["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){fe&&(se[fe]=x.trim()),x="",fe=""},onText:function(Z){fe&&(x+=Z)}};if(!T)throw Y="no ttml data to parse",new Error(Y);ne.data=T,y.trigger(i.Z.TTML_TO_PARSE,ne);var ee=(0,ea.fromXML)(ne.data,function(Z){Y=Z},re);y.trigger(i.Z.TTML_PARSED,{ttmlString:ne.data,ttmlDoc:ee});var ie,p=ee.getMediaTimeEvents();for(H=0;H<p.length;H++){var L=(0,ea.generateISD)(ee,p[H],function(Z){Y=Z});L.contents.some(function(Z){return Z.contents.length})&&(q=p[H]+m)<(N=p[H+1]+m)&&ge.push({start:q,end:N,type:"html",cueID:(ie="cue_TTML_"+A,A++,ie),isd:L,images:V,embeddedImages:se})}if(Y!=="")throw r.error(Y),new Error(Y);return ge}},r=(0,_.Z)(c).getInstance().getLogger(u),u}fo.__dashjs_factory_name="TTMLParser";const $s=h.Z.getSingletonFactory(fo);function go(u){var r,c,y,A,T,m,w,G,V,q,N,H,Y=this.context,ge=u.adapter,ne=u.errHandler,se=u.manifestModel,fe=u.mediaController,x=u.videoModel,re=u.settings;function ee(K){var W=K.tracks,ue=K.index,C=K.streamId;if(re.get().streaming.text.defaultEnabled===!1&&!L()||H)Z(C,-1);else{var U=fe.getCurrentTrackFor(e.Z.TEXT,C);if(U){var me={lang:U.lang,role:U.roles[0],index:U.index,codec:U.codec,accessibility:U.accessibility[0]};W.some(function(Se,Re){if(fe.matchSettings(me,Se))return Z(C,Re),ue=Re,!0})}V=!1}c[C].lastEnabledIndex=ue,G.trigger(t.Z.TEXT_TRACKS_ADDED,{enabled:L(),index:ue,tracks:W,streamId:C}),N=!0}function ie(K){try{var W=K.streamId;if(!A[W]||isNaN(K.time))return;A[W].manualCueProcessing(K.time)}catch{}}function p(K){try{var W=K.streamId;if(!A[W])return;A[W].disableManualTracks()}catch{}}function L(){var K=!0;return V&&!q&&(K=!1),K}function Z(K,W){(V=W===-1)&&fe&&fe.saveTextSettingsDisabled();var ue=M(K);if(ue!==W&&A[K]){A[K].disableManualTracks(),A[K].setModeForTrackIdx(ue,e.Z.TEXT_HIDDEN),A[K].setCurrentTrackIdx(W),A[K].setModeForTrackIdx(W,e.Z.TEXT_SHOWING);var C=A[K].getCurrentTrackInfo();C&&C.isFragmented&&!C.isEmbedded?function(U,me,Se){if(y[U])for(var Re=y[U].getConfig().fragmentedTracks,Me=0;Me<Re.length;Me++){var Ee=Re[Me];if(me.lang===Ee.lang&&(Ee.id?me.id===Ee.id:me.index===Ee.index)){var Fe=fe.getCurrentTrackFor(e.Z.TEXT,U);(Ee.id?Fe.id!==Ee.id:Fe.index!==Ee.index)?(A[U].deleteCuesFromTrackIdx(Se),y[U].setCurrentFragmentedTrackIdx(Me)):Se===-1&&G.trigger(i.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:U,mediaType:e.Z.TEXT})}}}(K,C,ue):C&&!C.isFragmented&&function(U,me){G.trigger(i.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:me},{streamId:U,mediaType:e.Z.TEXT})}(K,C),fe.setTrack(C)}}function M(K){return A[K].getCurrentTrackIdx()}function R(){y={},A={},c={},V=!0,N=!1,H=!1}return r={deactivateStream:function(K){if(K){var W=K.id;y[W]&&y[W].resetMediaInfos(),A[W]&&A[W].deleteAllTextTracks()}},initialize:function(){G.on(i.Z.TEXT_TRACKS_QUEUE_INITIALIZED,ee,r),re.get().streaming.text.webvtt.customRenderingEnabled&&(G.on(i.Z.PLAYBACK_TIME_UPDATED,ie,r),G.on(i.Z.PLAYBACK_SEEKING,p,r))},initializeForStream:function(K){var W=K.id,ue=Xs(Y).create({videoModel:x,settings:re,streamInfo:K});ue.initialize(),A[W]=ue;var C=zs(Y).create({errHandler:ne,adapter:ge,manifestModel:se,mediaController:fe,videoModel:x,textTracks:ue,vttParser:T,vttCustomRenderingParser:m,ttmlParser:w,streamInfo:K,settings:re});C.initialize(),y[W]=C,c[W]={},c[W].lastEnabledIndex=-1},createTracks:function(K){var W=K.id;A[W]&&A[W].createTracks()},getTextSourceBuffer:function(K){var W=K.id;if(y&&y[W])return y[W]},getAllTracksAreDisabled:function(){return V},addEmbeddedTrack:function(K,W){var ue=K.id;y[ue]&&y[ue].addEmbeddedTrack(W)},enableText:function(K,W){return(0,Q.PS)(W,"boolean"),L()!==W&&(W&&Z(K,c[K].lastEnabledIndex),W||(c[K].lastEnabledIndex=M(K),N?Z(K,-1):H=!0)),!0},isTextEnabled:L,setTextTrack:Z,getCurrentTrackIdx:M,enableForcedTextStreaming:function(K){return(0,Q.PS)(K,"boolean"),q=K,!0},addMediaInfosToBuffer:function(K,W,ue){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,U=K.id;y[U]&&y[U].addMediaInfos(W,ue,C)},reset:function(){R(),G.off(i.Z.TEXT_TRACKS_QUEUE_INITIALIZED,ee,r),re.get().streaming.text.webvtt.customRenderingEnabled&&(G.off(i.Z.PLAYBACK_TIME_UPDATED,ie,r),G.off(i.Z.PLAYBACK_SEEKING,p,r)),Object.keys(y).forEach(function(K){y[K].resetEmbedded(),y[K].reset()})}},q=!1,N=!1,H=!1,T=Qs(Y).getInstance(),m=Js(Y).getInstance(),w=$s(Y).getInstance(),G=(0,g.Z)(Y).getInstance(),R(),r}go.__dashjs_factory_name="TextController";const eu=h.Z.getClassFactory(go);function ta(){var u,r,c,y,A,T,m,w,G,V,q,N,H,Y,ge,ne,se,fe,x,re,ee,ie,p,L,Z,M,R,K,W,ue,C,U,me,Se,Re,Me,Ee,Fe,dt,Je="You must first call initialize() and set a source before calling this method",rt="You must first call initialize() and set a valid source and view before calling this method",Tt="You must first call attachView() to set the video element before calling this method",Ct="You must first call attachSource() with a valid source before calling this method",_e="MediaPlayer not initialized!",le=this.context,Oe=(0,g.Z)(le).getInstance(),pe=(0,st.Z)(le).getInstance(),Pe=(0,_.Z)(le).getInstance({settings:pe});function Ge(){fn(null),cn(null),y=null,Y&&(Y.reset(),Y=null),ge&&(ge.reset(),ge=null),re&&re.reset(),pe.reset(),se&&(se.reset(),se=null)}function Ve(){return!!c&&!!Me.getElement()}function ct(){return(0,ys.e)()}function St(){if(!m)throw rt;return K.isPaused()}function qt(){if(!m)throw rt;return K.getIsDynamic()}function jt(oe){var Ue=Z&&Z.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO,at=U.getCurrentDVRInfo(Ue);if(!at)return 0;var Rt=K.getOriginalLiveDelay(),xt=at.range.start+oe;return xt>at.range.end-Rt&&(xt=at.range.end-Rt),xt}function kt(oe){if(!m)throw rt;var Ue=en().currentTime;if(oe!==void 0)Ue=Z.getTimeRelativeToStreamId(Ue,oe);else if(K.getIsDynamic()){var at=Z&&Z.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO,Rt=U.getCurrentDVRInfo(at);Ue=Rt===null||Ue===0?0:Math.max(0,Ue-Rt.range.start)}return Ue}function Ht(){if(!m)throw rt;var oe=en().duration;if(K.getIsDynamic()){var Ue=Z&&Z.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO,at=U.getCurrentDVRInfo(Ue);oe=at?at.range.end-at.range.start:0}return oe}function Kt(oe){(0,Q.PS)(oe,"boolean"),w=oe}function rn(){re.restoreDefaultUTCTimingSources()}function un(){return U}function en(){if(!Me.getElement())throw Tt;return Me.getElement()}function cn(oe){if(!A)throw _e;Me.setElement(oe),oe&&(Ke(),function(){if(!ge){var Ue=dashjs.MetricsReporting;if(typeof Ue=="function"){var at=Ue(le).create();ge=at.createMetricsReporting({debug:Pe,eventBus:Oe,mediaElement:en(),adapter:fe,dashMetrics:U,mediaPlayerModel:x,events:i.Z,constants:e.Z,metricsConstants:S.Z})}}}(),function(){if(!ne){var Ue=dashjs.MssHandler;typeof Ue=="function"&&(te.extend(Ue.errors),ne=Ue(le).create({eventBus:Oe,mediaPlayerModel:x,dashMetrics:U,manifestModel:me,playbackController:K,streamController:Z,protectionController:Y,baseURLController:ie,errHandler:ee,events:i.Z,constants:e.Z,debug:Pe,initSegmentType:Ae.w.INIT_SEGMENT_TYPE,BASE64:Qi,ISOBoxer:vi,settings:pe}))}}(),Z&&Z.switchToVideoElement(G)),m&&Bt(),Ie(G)}function an(oe){if(!T)throw Je;var Ue=Z.getActiveStreamInfo();return Ue?H.getTracksFor(oe,Ue.id):[]}function fn(oe){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!A)throw _e;typeof oe=="string"&&Ee.initialize(oe),Ue==null&&(Ue=NaN),isNaN(Ue)||(Ue=Math.max(0,Ue)),G=Ue,c=oe,(T||m)&&Bt(),Ve()&&Ie(G)}function gt(){if(!T)throw Je;var oe=Z.getActiveStreamInfo();return oe?Z.getStreamById(oe.id):null}function Bt(){m=!1,T=!1,fe.reset(),Z.reset(),R.reset(),C.reset(),K.reset(),W.reset(),ue.reset(),V.reset(),H.reset(),dt.reset(),Y&&(pe.get().streaming.protection.keepProtectionMediaKeys?Y.stop():(Y.reset(),Y=null,Ke())),M.reset(),Se.reset(),Re.reset()}function Gt(){var oe=Zt();Z||(Z=aa(le).getInstance()),M||(M=eu(le).create({errHandler:ee,manifestModel:me,adapter:fe,mediaController:H,videoModel:Me,settings:pe})),L.setConfig({capabilities:p,customParametersModel:re,adapter:fe,settings:pe,manifestModel:me,errHandler:ee}),Z.setConfig({capabilities:p,capabilitiesFilter:L,manifestLoader:oe,manifestModel:me,mediaPlayerModel:x,customParametersModel:re,protectionController:Y,textController:M,adapter:fe,dashMetrics:U,errHandler:ee,timelineConverter:N,videoModel:Me,playbackController:K,serviceDescriptionController:W,contentSteeringController:ue,abrController:V,mediaController:H,settings:pe,baseURLController:ie,uriFragmentModel:Ee,segmentBaseController:dt}),R.setConfig({settings:pe,playbackController:K,streamController:Z,videoModel:Me,timelineConverter:N,adapter:fe}),K.setConfig({streamController:Z,serviceDescriptionController:W,dashMetrics:U,adapter:fe,videoModel:Me,timelineConverter:N,settings:pe}),C.setConfig({streamController:Z,playbackController:K,mediaPlayerModel:x,videoModel:Me,settings:pe}),V.setConfig({streamController:Z,domStorage:Fe,mediaPlayerModel:x,customParametersModel:re,cmsdModel:Re,dashMetrics:U,adapter:fe,videoModel:Me,settings:pe}),Se.setConfig({abrController:V,dashMetrics:U,playbackController:K}),Re.setConfig({}),V.initialize(),Z.initialize(w,y),M.initialize(),R.initialize(),C.initialize(),Se.initialize(),Re.initialize(),ue.initialize(),dt.initialize()}function Zt(){return ts(le).create({debug:Pe,errHandler:ee,dashMetrics:U,mediaPlayerModel:x,requestModifier:(0,he.Z)(le).getInstance(),mssHandler:ne,settings:pe})}function Ke(){if(Y)return Y;var oe=dashjs.Protection;if(typeof oe=="function"){var Ue=oe(le).create();return i.Z.extend(oe.events),t.Z.extend(oe.events,{publicOnly:!0}),te.extend(oe.errors),p||(p=(0,Da.Z)(le).getInstance()),Y=Ue.createProtectionSystem({debug:Pe,errHandler:ee,videoModel:Me,customParametersModel:re,capabilities:p,eventBus:Oe,events:i.Z,BASE64:Qi,constants:e.Z,cmcdModel:Se,settings:pe})}return null}function yt(){if(!A)throw _e;if(se)return se;var oe=dashjs.OfflineController;if(typeof oe=="function"){i.Z.extend(oe.events),t.Z.extend(oe.events,{publicOnly:!0}),te.extend(oe.errors);var Ue=Zt(),at=si(le).create();return at.setConfig({manifestModel:me,adapter:fe,manifestLoader:Ue,errHandler:ee,contentSteeringController:ue}),se=oe(le).create({debug:Pe,manifestUpdater:at,baseURLController:ie,manifestLoader:Ue,manifestModel:me,mediaPlayerModel:x,abrController:V,playbackController:K,adapter:fe,errHandler:ee,dashMetrics:U,timelineConverter:N,segmentBaseController:dt,schemeLoaderFactory:q,eventBus:Oe,events:i.Z,errors:te,constants:e.Z,settings:pe,dashConstants:n.Z,urlUtils:(0,Ne.Z)(le).getInstance()})}return null}function Ye(oe){var Ue=Z&&Z.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO,at=U.getCurrentDVRInfo(Ue);return at?oe+(at.manifestInfo.availableFrom.getTime()/1e3+at.range.start):0}function Ie(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;se&&se.resetRecords(),!T&&c&&(T=!0,r.info("Streaming Initialized"),Gt(),typeof c=="string"?Z.load(c,oe):Z.loadWithManifest(c,oe)),!m&&Ve()&&(m=!0,r.info("Playback Initialized"))}return u={initialize:function(oe,Ue,at){var Rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;p||(p=(0,Da.Z)(le).getInstance()).setConfig({settings:pe}),ee||(ee=ns(le).getInstance()),p.supportsMediaSource()?(A||(A=!0,N=Ys(le).getInstance(),V||(V=ds(le).getInstance()).setConfig({settings:pe}),q||(q=Un(le).getInstance()),K||(K=d(le).getInstance()),H||(H=Ao(le).getInstance()),Z||(Z=aa(le).getInstance()),R||(R=vo(le).getInstance()),C||(C=_o(le).getInstance()),W||(W=So(le).getInstance()),ue||(ue=vr(le).getInstance()),L||(L=rs(le).getInstance()),fe=ws(le).getInstance(),me=os(le).getInstance(),Se=_t(le).getInstance(),Re=Ur(le).getInstance(),U=qs(le).getInstance({settings:pe}),Fe=ps(le).getInstance({settings:pe}),fe.setConfig({constants:e.Z,cea608parser:b(),errHandler:ee,BASE64:Qi}),ie||(ie=Do(le).create()),ie.setConfig({adapter:fe,contentSteeringController:ue}),W.setConfig({adapter:fe}),dt||(dt=_s(le).getInstance({dashMetrics:U,mediaPlayerModel:x,errHandler:ee,baseURLController:ie,events:i.Z,eventBus:Oe,debug:Pe,boxParser:(0,Yr.Z)(le).getInstance(),requestModifier:(0,he.Z)(le).getInstance(),errors:te})),H.setConfig({domStorage:Fe,settings:pe,customParametersModel:re}),x.setConfig({playbackController:K,serviceDescriptionController:W}),ue.setConfig({adapter:fe,errHandler:ee,dashMetrics:U,mediaPlayerModel:x,manifestModel:me,serviceDescriptionController:W,eventBus:Oe,requestModifier:(0,he.Z)(le).getInstance()}),rn(),Kt(at===void 0||at),yt()),oe&&cn(oe),Ue&&fn(Ue,Rt),r.info("[dash.js "+ct()+"] MediaPlayer has been initialized")):ee.error(new k.Z(te.CAPABILITY_MEDIASOURCE_ERROR_CODE,te.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(oe){oe&&(oe.capabilities&&(p=oe.capabilities),oe.capabilitiesFilter&&(L=oe.capabilitiesFilter),oe.streamController&&(Z=oe.streamController),oe.textController&&(M=oe.textController),oe.gapController&&(R=oe.gapController),oe.playbackController&&(K=oe.playbackController),oe.serviceDescriptionController&&(W=oe.serviceDescriptionController),oe.contentSteeringController&&(ue=oe.contentSteeringController),oe.catchupController&&(C=oe.catchupController),oe.mediaPlayerModel&&(x=oe.mediaPlayerModel),oe.customParametersModel&&(re=oe.customParametersModel),oe.abrController&&(V=oe.abrController),oe.schemeLoaderFactory&&(q=oe.schemeLoaderFactory),oe.mediaController&&(H=oe.mediaController),oe.settings&&(pe=oe.settings))},on:function(oe,Ue,at,Rt){Oe.on(oe,Ue,at,Rt)},off:function(oe,Ue,at){Oe.off(oe,Ue,at)},extend:function(oe,Ue,at){h.Z.extend(oe,Ue,at,le)},attachView:cn,attachSource:fn,isReady:Ve,preload:function(){if(!Me.getElement()&&!T){if(!c)throw Ct;Ie(G)}},play:function(){if(!m)throw rt;(!w||St()&&m)&&K.play(!0)},isPaused:St,pause:function(){if(!m)throw rt;K.pause()},isSeeking:function(){if(!m)throw rt;return K.isSeeking()},isDynamic:qt,getLowLatencyModeEnabled:function(){if(!m)throw rt;return K.getLowLatencyModeEnabled()},seek:function(oe){if(!m)throw rt;if((0,Q.PS)(oe,"number"),isNaN(oe))throw e.Z.BAD_ARGUMENT_ERROR;oe<0&&(oe=0);var Ue=K.getIsDynamic()?jt(oe):oe,at=en();!K.getIsDynamic()&&at.duration&&(Ue=Math.min(at.duration,Ue)),K.seek(Ue,!1,!1,!0)},seekToOriginalLive:function(){m&&qt()&&K.seekToOriginalLive()},setPlaybackRate:function(oe){en().playbackRate=oe},getPlaybackRate:function(){return en().playbackRate},setMute:function(oe){(0,Q.PS)(oe,"boolean"),en().muted=oe},isMuted:function(){return en().muted},setVolume:function(oe){if(typeof oe!="number"||isNaN(oe)||oe<0||oe>1)throw e.Z.BAD_ARGUMENT_ERROR;en().volume=oe},getVolume:function(){return en().volume},time:kt,duration:Ht,timeAsUTC:function(){if(!m)throw rt;return kt()<0?NaN:Ye(kt())},durationAsUTC:function(){if(!m)throw rt;return Ye(Ht())},getActiveStream:gt,getDVRWindowSize:function(){var oe=Z&&Z.hasVideoTrack()?e.Z.VIDEO:e.Z.AUDIO,Ue=U.getCurrentDVRInfo(oe);return Ue?Ue.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:jt,getAvailableBaseUrls:function(){var oe=me.getValue();return oe?ie.getBaseUrls(oe):[]},getAvailableLocations:function(){var oe=me.getValue();if(!oe)return[];var Ue=fe.getLocation(oe),at=ue.getSynthesizedLocationElements(Ue);return Ue.concat(at)},getTargetLiveDelay:function(){if(!m)throw rt;return K.getOriginalLiveDelay()},convertToTimeCode:function(oe){oe=Math.max(oe,0);var Ue=Math.floor(oe/3600),at=Math.floor(oe%3600/60),Rt=Math.floor(oe%3600%60);return(Ue===0?"":Ue<10?"0"+Ue.toString()+":":Ue.toString()+":")+(at<10?"0"+at.toString():at.toString())+":"+(Rt<10?"0"+Rt.toString():Rt.toString())},formatUTC:function(oe,Ue,at){var Rt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],xt=new Date(1e3*oe),nn=xt.toLocaleDateString(Ue),In=xt.toLocaleTimeString(Ue,{hour12:at});return Rt?In+" "+nn:In},getVersion:ct,getDebug:function(){return Pe},getBufferLength:function(oe){var Ue=[e.Z.VIDEO,e.Z.AUDIO,e.Z.TEXT];if(oe)return Ue.indexOf(oe)!==-1?un().getCurrentBufferLevel(oe)||NaN:(r.warn("getBufferLength requested for invalid type"),NaN);var at=Ue.map(function(Rt){return an(Rt).length>0?un().getCurrentBufferLevel(Rt):Number.MAX_VALUE}).reduce(function(Rt,xt){return Math.min(Rt,xt)});return at===Number.MAX_VALUE?NaN:at},getTTMLRenderingDiv:function(){return Me?Me.getTTMLRenderingDiv():null},getVideoElement:en,getSource:function(){if(!c)throw Ct;return c},updateSource:function(oe){c=oe,Z.load(c)},getCurrentLiveLatency:function(){if(!A)throw _e;return m?K.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(oe){if(!T)throw Je;return V.getTopBitrateInfoFor(oe)},setAutoPlay:Kt,getAutoPlay:function(){return w},getDashMetrics:un,getQualityFor:function(oe){if(!T)throw Je;if(oe===e.Z.IMAGE){var Ue=gt();if(!Ue)return-1;var at=Ue.getThumbnailController();return at?at.getCurrentTrackIndex():-1}return V.getQualityFor(oe)},setQualityFor:function(oe,Ue){var at=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!T)throw Je;if(oe===e.Z.IMAGE){var Rt=gt();if(!Rt)return;var xt=Rt.getThumbnailController();xt&&xt.setTrackByIndex(Ue)}V.setPlaybackQuality(oe,Z.getActiveStreamInfo(),Ue,{forceReplace:at})},updatePortalSize:function(){V.setElementSize(),V.setWindowResizeEventCalled(!0)},enableText:function(oe){var Ue=Z.getActiveStreamInfo();return!(!Ue||!M)&&M.enableText(Ue.id,oe)},enableForcedTextStreaming:function(oe){return!(!Z.getActiveStreamInfo()||!M)&&M.enableForcedTextStreaming(oe)},isTextEnabled:function(){var oe=Z.getActiveStreamInfo();return!(!oe||!M)&&M.isTextEnabled(oe)},setTextTrack:function(oe){if(!m)throw rt;var Ue=Z.getActiveStreamInfo();Ue&&M&&M.setTextTrack(Ue.id,oe)},getBitrateInfoListFor:function(oe){if(!T)throw Je;var Ue=gt();return Ue?Ue.getBitrateListFor(oe):[]},getStreamsFromManifest:function(oe){if(!T)throw Je;return fe.getStreamsInfo(oe)},getTracksFor:an,getTracksForTypeFromManifest:function(oe,Ue,at){if(!T)throw Je;return(at=at||fe.getStreamsInfo(Ue,1)[0])?fe.getAllMediaInfoForType(at,oe,Ue):[]},getCurrentTrackFor:function(oe){if(!T)throw Je;var Ue=Z.getActiveStreamInfo();return H.getCurrentTrackFor(oe,Ue.id)},setInitialMediaSettingsFor:function(oe,Ue){if(!A)throw _e;H.setInitialSettings(oe,Ue)},getInitialMediaSettingsFor:function(oe){if(!A)throw _e;return H.getInitialSettings(oe)},setCurrentTrack:function(oe){if(!T)throw Je;H.setTrack(oe)},addABRCustomRule:function(oe,Ue,at){re.addAbrCustomRule(oe,Ue,at)},removeABRCustomRule:function(oe){re.removeAbrCustomRule(oe)},removeAllABRCustomRule:function(){re.removeAllAbrCustomRule()},getABRCustomRules:function(){return re.getAbrCustomRules()},getAverageThroughput:function(oe){var Ue=V.getThroughputHistory(),at=K.getIsDynamic();return Ue?Ue.getAverageThroughput(oe,at):0},retrieveManifest:function(oe,Ue){var at=Zt(),Rt=this;Oe.on(i.Z.INTERNAL_MANIFEST_LOADED,function xt(nn){nn.error?Ue(null,nn.error):Ue(nn.manifest),Oe.off(i.Z.INTERNAL_MANIFEST_LOADED,xt,Rt),at.reset()},Rt),Ee.initialize(oe),at.load(oe)},addUTCTimingSource:function(oe,Ue){re.addUTCTimingSource(oe,Ue)},removeUTCTimingSource:function(oe,Ue){re.removeUTCTimingSource(oe,Ue)},clearDefaultUTCTimingSources:function(){re.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:rn,setXHRWithCredentialsForType:function(oe,Ue){re.setXHRWithCredentialsForType(oe,Ue)},getXHRWithCredentialsForType:function(oe){return re.getXHRWithCredentialsForType(oe)},getProtectionController:function(){return Ke()},attachProtectionController:function(oe){Y=oe},setProtectionData:function(oe){y=oe,Z&&Z.setProtectionData(y)},registerLicenseRequestFilter:function(oe){re.registerLicenseRequestFilter(oe)},registerLicenseResponseFilter:function(oe){re.registerLicenseResponseFilter(oe)},unregisterLicenseRequestFilter:function(oe){re.unregisterLicenseRequestFilter(oe)},unregisterLicenseResponseFilter:function(oe){re.unregisterLicenseResponseFilter(oe)},registerCustomCapabilitiesFilter:function(oe){re.registerCustomCapabilitiesFilter(oe)},unregisterCustomCapabilitiesFilter:function(oe){re.unregisterCustomCapabilitiesFilter(oe)},setCustomInitialTrackSelectionFunction:function(oe){re.setCustomInitialTrackSelectionFunction(oe)},resetCustomInitialTrackSelectionFunction:function(){re.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(oe){if(!Me.getElement())throw Tt;Me.setTTMLRenderingDiv(oe)},attachVttRenderingDiv:function(oe){if(!Me.getElement())throw Tt;Me.setVttRenderingDiv(oe)},getCurrentTextTrackIndex:function(){var oe=Z.getActiveStreamInfo();if(oe&&M)return M.getCurrentTrackIdx(oe.id)},provideThumbnail:function(oe,Ue){if(typeof Ue=="function")if(oe<0)Ue(null);else{var at=K.getIsDynamic()?jt(oe):oe,Rt=Z.getStreamForTime(at);if(Rt!==null){var xt=Rt.getThumbnailController();if(xt)return xt.provide(at,Ue);Ue(null)}else Ue(null)}},getDashAdapter:function(){return fe},getOfflineController:function(){return yt()},triggerSteeringRequest:function(){if(ue)return ue.loadSteeringData()},getCurrentSteeringResponseData:function(){if(ue)return ue.getCurrentSteeringResponseData()},getSettings:function(){return pe.get()},updateSettings:function(oe){pe.update(oe)},resetSettings:function(){pe.reset()},reset:Ge,destroy:function(){Ge(),h.Z.deleteSingletonInstances(le)}},r=Pe.getLogger(u),A=!1,m=!1,T=!1,w=!0,G=NaN,Y=null,se=null,y=null,fe=null,dt=null,i.Z.extend(t.Z),x=ss(le).getInstance(),re=(0,At.Z)(le).getInstance(),Me=hs(le).getInstance(),Ee=as(le).getInstance(),u}ta.__dashjs_factory_name="MediaPlayer";var Ti=h.Z.getClassFactory(ta);Ti.events=t.Z,Ti.errors=te,h.Z.updateClassFactory(ta.__dashjs_factory_name,Ti);const tu=Ti},8825:(tt,De,D)=>{function ae(g){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ae(g)}function b(g,i){return b=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h},b(g,i)}function e(g,i){return!i||ae(i)!=="object"&&typeof i!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):i}function n(g){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},n(g)}D.d(De,{Z:()=>S});const S=new(function(g){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),d&&b(l,d)})(t,g);var i,h,_=(i=t,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=n(i);if(h){var P=n(this).constructor;l=Reflect.construct(d,arguments,P)}else l=d.apply(this,arguments);return e(this,l)});function t(){var l;return function(d,P){if(!(d instanceof P))throw new TypeError("Cannot call a class as a function")}(this,t),(l=_.call(this)).AST_IN_FUTURE="astInFuture",l.BASE_URLS_UPDATED="baseUrlsUpdated",l.BUFFER_EMPTY="bufferStalled",l.BUFFER_LOADED="bufferLoaded",l.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",l.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",l.DYNAMIC_TO_STATIC="dynamicToStatic",l.ERROR="error",l.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",l.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",l.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",l.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",l.LOG="log",l.MANIFEST_LOADING_STARTED="manifestLoadingStarted",l.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",l.MANIFEST_LOADED="manifestLoaded",l.METRICS_CHANGED="metricsChanged",l.METRIC_CHANGED="metricChanged",l.METRIC_ADDED="metricAdded",l.METRIC_UPDATED="metricUpdated",l.PERIOD_SWITCH_STARTED="periodSwitchStarted",l.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",l.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",l.QUALITY_CHANGE_RENDERED="qualityChangeRendered",l.TRACK_CHANGE_RENDERED="trackChangeRendered",l.STREAM_INITIALIZING="streamInitializing",l.STREAM_UPDATED="streamUpdated",l.STREAM_ACTIVATED="streamActivated",l.STREAM_DEACTIVATED="streamDeactivated",l.STREAM_INITIALIZED="streamInitialized",l.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",l.TEXT_TRACKS_ADDED="allTextTracksAdded",l.TEXT_TRACK_ADDED="textTrackAdded",l.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",l.TTML_PARSED="ttmlParsed",l.TTML_TO_PARSE="ttmlToParse",l.CAPTION_RENDERED="captionRendered",l.CAPTION_CONTAINER_RESIZE="captionContainerResize",l.CAN_PLAY="canPlay",l.CAN_PLAY_THROUGH="canPlayThrough",l.PLAYBACK_ENDED="playbackEnded",l.PLAYBACK_ERROR="playbackError",l.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",l.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",l.PLAYBACK_LOADED_DATA="playbackLoadedData",l.PLAYBACK_PAUSED="playbackPaused",l.PLAYBACK_PLAYING="playbackPlaying",l.PLAYBACK_PROGRESS="playbackProgress",l.PLAYBACK_RATE_CHANGED="playbackRateChanged",l.PLAYBACK_SEEKED="playbackSeeked",l.PLAYBACK_SEEKING="playbackSeeking",l.PLAYBACK_STALLED="playbackStalled",l.PLAYBACK_STARTED="playbackStarted",l.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",l.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",l.PLAYBACK_WAITING="playbackWaiting",l.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",l.EVENT_MODE_ON_START="eventModeOnStart",l.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",l.CONFORMANCE_VIOLATION="conformanceViolation",l.REPRESENTATION_SWITCH="representationSwitch",l.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",l.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",l.INBAND_PRFT="inbandPrft",l}return t}(D(8342).Z))},3393:(tt,De,D)=>{function ae(e,n){for(var S=0;S<n.length;S++){var g=n[S];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(e,g.key,g)}}D.d(De,{Z:()=>b});const b=new(function(){function e(){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),this.init()}var n,S;return n=e,(S=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&ae(n.prototype,S),e}())},3860:(tt,De,D)=>{function ae(e,n){for(var S=0;S<n.length;S++){var g=n[S];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(e,g.key,g)}}D.d(De,{Z:()=>b});const b=new(function(){function e(){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),this.init()}var n,S;return n=e,(S=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&ae(n.prototype,S),e}())},8080:(tt,De,D)=>{D.d(De,{default:()=>v});var ae=function E(){(function(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,E),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ae.SSL_CONNECTION_FAILED_PREFIX="SSL",ae.DNS_RESOLUTION_FAILED="C00",ae.HOST_UNREACHABLE="C01",ae.CONNECTION_REFUSED="C02",ae.CONNECTION_ERROR="C03",ae.CORRUPT_MEDIA_ISOBMFF="M00",ae.CORRUPT_MEDIA_OTHER="M01",ae.BASE_URL_CHANGED="F00",ae.BECAME_REPORTER="S00";const b=ae;var e=D(1180);function n(E){var Q,z,he=(E=E||{}).eventBus,Ne=E.dashMetrics,Ce=E.metricsConstants,ve=E.events;function Le(Mt){var Pt=new b;if(z){for(var ln in Mt)Mt.hasOwnProperty(ln)&&(Pt[ln]=Mt[ln]);Pt.mpdurl||(Pt.mpdurl=z.originalUrl||z.url),Pt.terror||(Pt.terror=new Date),Ne.addDVBErrors(Pt)}}function Ze(Mt){Mt.error||(z=Mt.manifest)}function $e(Mt){Le({errorcode:b.BASE_URL_CHANGED,servicelocation:Mt.entry})}function pt(){Le({errorcode:b.BECAME_REPORTER})}function it(Mt){var Pt;Mt.metric===Ce.HTTP_REQUEST&&((Pt=Mt.value).responsecode===0||Pt.responsecode==null||Pt.responsecode>=400||Pt.responsecode<100||Pt.responsecode>=600)&&Le({errorcode:Pt.responsecode||b.CONNECTION_ERROR,url:Pt.url,terror:Pt.tresponse,servicelocation:Pt._serviceLocation})}function wt(Mt){var Pt;switch(Mt.error?Mt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Pt=b.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Pt=b.CORRUPT_MEDIA_OTHER;break;default:return}Le({errorcode:Pt})}return Q={initialize:function(){he.on(ve.MANIFEST_UPDATED,Ze,Q),he.on(ve.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,$e,Q),he.on(ve.METRIC_ADDED,it,Q),he.on(ve.METRIC_UPDATED,it,Q),he.on(ve.PLAYBACK_ERROR,wt,Q),he.on(e.Z.BECAME_REPORTING_PLAYER,pt,Q)},reset:function(){he.off(ve.MANIFEST_UPDATED,Ze,Q),he.off(ve.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,$e,Q),he.off(ve.METRIC_ADDED,it,Q),he.off(ve.METRIC_UPDATED,it,Q),he.off(ve.PLAYBACK_ERROR,wt,Q),he.off(e.Z.BECAME_REPORTING_PLAYER,pt,Q)}}}n.__dashjs_factory_name="DVBErrorsTranslator";const S=dashjs.FactoryMaker.getSingletonFactory(n);var g=D(2295);function i(E){E=E||{};var Q,z,he=!1,Ne=this.context,Ce=E.mediaElement;return Q={initialize:function(ve){ve&&ve.length&&(ve.forEach(function(Le){var Ze=Le.starttime,$e=Ze+Le.duration;z.add(Ze,$e)}),he=!!ve[0]._useWallClockTime)},reset:function(){z.clear()},isEnabled:function(){var ve,Le=z.length;if(!Le)return!0;ve=he?new Date().getTime()/1e3:Ce.currentTime;for(var Ze=0;Ze<Le;Ze+=1){var $e=z.start(Ze),pt=z.end(Ze);if($e<=ve&&ve<pt)return!0}return!1}},z=(0,g.Z)(Ne).create(),Q}i.__dashjs_factory_name="RangeController";const h=dashjs.FactoryMaker.getClassFactory(i);function _(){return{serialise:function E(Q){var z,he,Ne=[],Ce=[];for(z in Q)if(Q.hasOwnProperty(z)&&z.indexOf("_")!==0){if((he=Q[z])==null&&(he=""),Array.isArray(he)){if(!he.length)continue;Ce=[],he.forEach(function(ve){var Le=Object.prototype.toString.call(ve).slice(8,-1)!=="Object";Ce.push(Le?ve:E(ve))}),he=Ce.map(encodeURIComponent).join(",")}else typeof he=="string"?he=encodeURIComponent(he):he instanceof Date?he=he.toISOString():typeof he=="number"&&(he=Math.round(he));Ne.push(z+"="+he)}return Ne.join("&")}}}_.__dashjs_factory_name="MetricSerialiser";const t=dashjs.FactoryMaker.getSingletonFactory(_);function l(){var E,Q,z,he=window.crypto||window.msCrypto,Ne=Uint32Array,Ce=Math.pow(2,8*Ne.BYTES_PER_ELEMENT)-1;function ve(){he&&(E||(E=new Ne(10)),he.getRandomValues(E),Q=0)}return z={random:function(Le,Ze){var $e;return Le||(Le=0),Ze||(Ze=1),he?(Q===E.length&&ve(),$e=E[Q]/Ce,Q+=1):$e=Math.random(),$e*(Ze-Le)+Le}},ve(),z}l.__dashjs_factory_name="RNG";const d=dashjs.FactoryMaker.getSingletonFactory(l);var P=D(5717);function F(E){var Q;E=E||{};var z,he,Ne,Ce,ve,Le,Ze,$e=this.context,pt=[],it=E.metricsConstants;function wt(){Ce=!1,ve=!1,Le=null,Ze=null}return Q={report:function(Mt,Pt){Array.isArray(Pt)||(Pt=[Pt]),ve&&Ze.isEnabled()&&Pt.forEach(function(ln){var mn=z.serialise(ln);Mt!==it.DVB_ERRORS&&(mn="metricname=".concat(Mt,"&").concat(mn)),function(vn,Ln,yn){var Rn=new XMLHttpRequest;Rn.withCredentials=he.getXHRWithCredentialsForType(it.HTTP_REQUEST_DVB_REPORTING_TYPE);var Gn=function(){var _n=pt.indexOf(Rn);_n!==-1&&(pt.splice(_n,1),!(Rn.status>=200&&Rn.status<300)&&yn&&yn())};pt.push(Rn);try{Rn.open("GET",vn),Rn.onloadend=Gn,Rn.onerror=Gn,Rn.send()}catch{Rn.onerror()}}(mn="".concat(Le,"?").concat(mn),0,function(){ve=!1})})},initialize:function(Mt,Pt){var ln;if(Ze=Pt,!(Le=Mt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Ce||((ln=Mt.dvb_probability)&&(ln===1e3||ln/1e3>=Ne.random())&&(ve=!0),Ce=!0)},reset:function(){wt()}},z=t($e).getInstance(),Ne=d($e).getInstance(),he=(0,P.Z)($e).getInstance(),wt(),Q}F.__dashjs_factory_name="DVBReporting";const j=dashjs.FactoryMaker.getClassFactory(F);function B(E){E=E||{};var Q,z={"urn:dvb:dash:reporting:2014":j},he=this.context,Ne=E.debug?E.debug.getLogger(Q):{},Ce=E.metricsConstants,ve=E.mediaPlayerModel||{};return{create:function(Le,Ze){var $e;try{($e=z[Le.schemeIdUri](he).create({metricsConstants:Ce,mediaPlayerModel:ve})).initialize(Le,Ze)}catch(pt){$e=null,Ne.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Le.schemeIdUri," (").concat(pt.message,")"))}return $e},register:function(Le,Ze){z[Le]=Ze},unregister:function(Le){delete z[Le]}}}B.__dashjs_factory_name="ReportingFactory";const X=dashjs.FactoryMaker.getSingletonFactory(B);function O(E){var Q=[],z=X(this.context).getInstance(E);return{initialize:function(he,Ne){he.some(function(Ce){var ve=z.create(Ce,Ne);if(ve)return Q.push(ve),!0})},reset:function(){Q.forEach(function(he){return he.reset()}),Q=[]},report:function(he,Ne){Q.forEach(function(Ce){return Ce.report(he,Ne)})}}}O.__dashjs_factory_name="ReportingController";const I=dashjs.FactoryMaker.getClassFactory(O);function k(){return{reconstructFullMetricName:function(E,Q,z){var he=E;return Q&&(he+="("+Q,z&&z.length&&(he+=","+z),he+=")"),he},validateN:function(E){if(!E)throw new Error("missing n");if(isNaN(E))throw new Error("n is NaN");if(E<0)throw new Error("n must be positive");return E}}}k.__dashjs_factory_name="HandlerHelpers";const $=dashjs.FactoryMaker.getSingletonFactory(k);function J(E){var Q,z,he,Ne,Ce;E=E||{};var ve=this.context,Le=$(ve).getInstance(),Ze=[],$e=E.metricsConstants;function pt(){var it=function(){try{return Object.keys(Ze).map(function(wt){return Ze[wt]}).reduce(function(wt,Mt){return wt.level<Mt.level?wt:Mt})}catch{return}}();it&&Ce!==it.t&&(Ce=it.t,Q.report(he,it))}return{initialize:function(it,wt,Mt){wt&&(z=Le.validateN(Mt),Q=wt,he=Le.reconstructFullMetricName(it,Mt),Ne=setInterval(pt,z))},reset:function(){clearInterval(Ne),Ne=null,z=0,Q=null,Ce=null},handleNewMetric:function(it,wt,Mt){it===$e.BUFFER_LEVEL&&(Ze[Mt]=wt)}}}J.__dashjs_factory_name="BufferLevelHandler";const we=dashjs.FactoryMaker.getClassFactory(J),Be=dashjs.FactoryMaker.getClassFactory(function(E){var Q,z=(E=E||{}).eventBus,he=E.metricsConstants;function Ne(){z.off(e.Z.METRICS_INITIALISATION_COMPLETE,Ne,this),z.trigger(e.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Ce,ve){ve&&(Q=ve,z.on(e.Z.METRICS_INITIALISATION_COMPLETE,Ne,this))},reset:function(){Q=null},handleNewMetric:function(Ce,ve){Ce===he.DVB_ERRORS&&Q&&Q.report(Ce,ve)}}});function te(E){var Q,z,he,Ne,Ce;E=E||{};var ve=[],Le=$(this.context).getInstance(),Ze=E.metricsConstants;function $e(){var pt=ve;pt.length&&Q&&Q.report(Ne,pt),ve=[]}return{initialize:function(pt,it,wt,Mt){it&&(z=Le.validateN(wt),Q=it,Mt&&Mt.length&&(he=Mt),Ne=Le.reconstructFullMetricName(pt,wt,Mt),Ce=setInterval($e,z))},reset:function(){clearInterval(Ce),Ce=null,z=null,he=null,ve=[],Q=null},handleNewMetric:function(pt,it){pt===Ze.HTTP_REQUEST&&(he&&he!==it.type||ve.push(it))}}}te.__dashjs_factory_name="HttpListHandler";const st=dashjs.FactoryMaker.getClassFactory(te);function Ae(){var E,Q;return{initialize:function(z,he){E=z,Q=he},reset:function(){Q=null,E=void 0},handleNewMetric:function(z,he){z===E&&Q&&Q.report(E,he)}}}Ae.__dashjs_factory_name="GenericMetricHandler";const ke=dashjs.FactoryMaker.getClassFactory(Ae);function ye(E){var Q,z=(E=E||{}).debug?E.debug.getLogger(Q):{},he=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Ne=this.context,Ce={BufferLevel:we,DVBErrors:Be,HttpList:st,PlayList:ke,RepSwitchList:ke,TcpList:ke};return{create:function(ve,Le){var Ze,$e=ve.match(he);if($e){try{(Ze=Ce[$e[1]](Ne).create({eventBus:E.eventBus,metricsConstants:E.metricsConstants})).initialize($e[1],Le,$e[3],$e[5])}catch(pt){Ze=null,z.error("MetricsHandlerFactory: Could not create handler for type ".concat($e[1]," with args ").concat($e[3],", ").concat($e[5]," (").concat(pt.message,")"))}return Ze}},register:function(ve,Le){Ce[ve]=Le},unregister:function(ve){delete Ce[ve]}}}ye.__dashjs_factory_name="MetricsHandlerFactory";const be=dashjs.FactoryMaker.getSingletonFactory(ye);function He(E){E=E||{};var Q,z=[],he=this.context,Ne=E.eventBus,Ce=E.events,ve=be(he).getInstance({debug:E.debug,eventBus:E.eventBus,metricsConstants:E.metricsConstants});function Le(Ze){z.forEach(function($e){$e.handleNewMetric(Ze.metric,Ze.value,Ze.mediaType)})}return Q={initialize:function(Ze,$e){Ze.split(",").forEach(function(pt,it,wt){var Mt;if(pt.indexOf("(")!==-1&&pt.indexOf(")")===-1){var Pt=wt[it+1];Pt&&Pt.indexOf("(")===-1&&Pt.indexOf(")")!==-1&&(pt+=","+Pt,delete wt[it+1])}(Mt=ve.create(pt,$e))&&z.push(Mt)}),Ne.on(Ce.METRIC_ADDED,Le,Q),Ne.on(Ce.METRIC_UPDATED,Le,Q)},reset:function(){Ne.off(Ce.METRIC_ADDED,Le,Q),Ne.off(Ce.METRIC_UPDATED,Le,Q),z.forEach(function(Ze){return Ze.reset()}),z=[]}}}He.__dashjs_factory_name="MetricsHandlersController";const ut=dashjs.FactoryMaker.getClassFactory(He);function et(E){var Q,z,he;E=E||{};var Ne=this.context;function Ce(){Q&&Q.reset(),z&&z.reset(),he&&he.reset()}return{initialize:function(ve){try{(he=h(Ne).create({mediaElement:E.mediaElement})).initialize(ve.Range),(z=I(Ne).create({debug:E.debug,metricsConstants:E.metricsConstants,mediaPlayerModel:E.mediaPlayerModel})).initialize(ve.Reporting,he),(Q=ut(Ne).create({debug:E.debug,eventBus:E.eventBus,metricsConstants:E.metricsConstants,events:E.events})).initialize(ve.metrics,z)}catch(Le){throw Ce(),Le}},reset:Ce}}et.__dashjs_factory_name="MetricsController";const Te=dashjs.FactoryMaker.getClassFactory(et),We=function E(){(function(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,E),this.metrics="",this.Range=[],this.Reporting=[]},lt=function E(){(function(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,E),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},xe=function E(){(function(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,E),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function Qe(E){var Q=(E=E||{}).adapter,z=E.constants;return{getMetrics:function(he){var Ne=[];return he&&he.Metrics_asArray&&he.Metrics_asArray.forEach(function(Ce){var ve=new We,Le=Q.getIsDynamic(he);Ce.hasOwnProperty("metrics")&&(ve.metrics=Ce.metrics,Ce.Range_asArray&&Ce.Range_asArray.forEach(function(Ze){var $e=new lt;$e.starttime=function(pt,it,wt){var Mt,Pt,ln=0;return it?ln=Q.getAvailabilityStartTime(pt)/1e3:(Mt=Q.getRegularPeriods(pt)).length&&(ln=Mt[0].start),Pt=ln,wt&&wt.hasOwnProperty(z.START_TIME)&&(Pt+=wt.starttime),Pt}(he,Le,Ze),Ze.hasOwnProperty("duration")?$e.duration=Ze.duration:$e.duration=Q.getDuration(he),$e._useWallClockTime=Le,ve.Range.push($e)}),Ce.Reporting_asArray&&(Ce.Reporting_asArray.forEach(function(Ze){var $e=new xe;Ze.hasOwnProperty(z.SCHEME_ID_URI)&&($e.schemeIdUri=Ze.schemeIdUri,Ze.hasOwnProperty("value")&&($e.value=Ze.value),Ze.hasOwnProperty(z.DVB_REPORTING_URL)&&($e.dvb_reportingUrl=Ze[z.DVB_REPORTING_URL]),Ze.hasOwnProperty(z.DVB_PROBABILITY)&&($e.dvb_probability=Ze[z.DVB_PROBABILITY]),ve.Reporting.push($e))}),Ne.push(ve)))}),Ne}}}Qe.__dashjs_factory_name="ManifestParsing";const ce=dashjs.FactoryMaker.getSingletonFactory(Qe);function de(E){var Q;E=E||{};var z={},he=this.context,Ne=E.eventBus,Ce=E.events;function ve(Ze){if(!Ze.error){var $e=Object.keys(z);ce(he).getInstance({adapter:E.adapter,constants:E.constants}).getMetrics(Ze.manifest).forEach(function(pt){var it=JSON.stringify(pt);if(z.hasOwnProperty(it))$e.splice(it,1);else try{var wt=Te(he).create(E);wt.initialize(pt),z[it]=wt}catch{}}),$e.forEach(function(pt){z[pt].reset(),delete z[pt]}),Ne.trigger(e.Z.METRICS_INITIALISATION_COMPLETE)}}function Le(){Object.keys(z).forEach(function(Ze){z[Ze].reset()}),z={}}return Q={reset:function(){Ne.off(Ce.MANIFEST_UPDATED,ve,Q),Ne.off(Ce.STREAM_TEARDOWN_COMPLETE,Le,Q)}},Ne.on(Ce.MANIFEST_UPDATED,ve,Q),Ne.on(Ce.STREAM_TEARDOWN_COMPLETE,Le,Q),Q}de.__dashjs_factory_name="MetricsCollectionController";const je=dashjs.FactoryMaker.getClassFactory(de);function f(){var E=this.context;return{createMetricsReporting:function(Q){return S(E).getInstance({eventBus:Q.eventBus,dashMetrics:Q.dashMetrics,metricsConstants:Q.metricsConstants,events:Q.events}).initialize(),je(E).create(Q)},getReportingFactory:function(){return X(E).getInstance()},getMetricsHandlerFactory:function(){return be(E).getInstance()}}}f.__dashjs_factory_name="MetricsReporting";var o=dashjs.FactoryMaker.getClassFactory(f);o.events=e.Z,dashjs.FactoryMaker.updateClassFactory(f.__dashjs_factory_name,o);const v=o},1180:(tt,De,D)=>{function ae(g){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ae(g)}function b(g,i){return b=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h},b(g,i)}function e(g,i){return!i||ae(i)!=="object"&&typeof i!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):i}function n(g){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},n(g)}D.d(De,{Z:()=>S});const S=new(function(g){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),d&&b(l,d)})(t,g);var i,h,_=(i=t,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=n(i);if(h){var P=n(this).constructor;l=Reflect.construct(d,arguments,P)}else l=d.apply(this,arguments);return e(this,l)});function t(){var l;return function(d,P){if(!(d instanceof P))throw new TypeError("Cannot call a class as a function")}(this,t),(l=_.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",l.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",l.CMCD_DATA_GENERATED="cmcdDataGenerated",l}return t}(D(8342).Z))},5717:(tt,De,D)=>{D.d(De,{Z:()=>h});var ae=D(2610),b=D(5448),e=D(1264),n=D(3106),S=D(1767),g=D(3393);function i(){var _,t,l,d,P,F,j,B,X=this.context,O=(0,e.Z)(X).getInstance();function I(){d=[],P=[],F=[],B=[],j=null,t=[]}function k(Be,te){var st=-1;Be.some(function(Ae,ke){if(Ae===te)return st=ke,!0}),st<0||Be.splice(st,1)}function $(Be){var te;for(te=0;te<B.length;te++)if(B[te].rulename===Be)return te;return-1}function J(Be,te){we(Be,te);var st=new ae.Z;st.schemeIdUri=Be,st.value=te,t.push(st)}function we(Be,te){(0,n.PS)(Be,"string"),(0,n.PS)(te,"string"),t.forEach(function(st,Ae){st.schemeIdUri===Be&&st.value===te&&t.splice(Ae,1)})}return _={getCustomInitialTrackSelectionFunction:function(){return j},setCustomInitialTrackSelectionFunction:function(Be){j=Be},resetCustomInitialTrackSelectionFunction:function(){j=null},getLicenseResponseFilters:function(){return P},getLicenseRequestFilters:function(){return d},getCustomCapabilitiesFilters:function(){return F},registerCustomCapabilitiesFilter:function(Be){F.push(Be)},registerLicenseResponseFilter:function(Be){P.push(Be)},registerLicenseRequestFilter:function(Be){d.push(Be)},unregisterCustomCapabilitiesFilter:function(Be){k(F,Be)},unregisterLicenseResponseFilter:function(Be){k(P,Be)},unregisterLicenseRequestFilter:function(Be){k(d,Be)},addAbrCustomRule:function(Be,te,st){if(typeof Be!="string"||Be!==S.Z.ABANDON_FRAGMENT_RULES&&Be!==S.Z.QUALITY_SWITCH_RULES||typeof te!="string")throw g.Z.BAD_ARGUMENT_ERROR;var Ae=$(te);Ae===-1?B.push({type:Be,rulename:te,rule:st}):(B[Ae].type=Be,B[Ae].rule=st)},removeAllAbrCustomRule:function(){B=[]},removeAbrCustomRule:function(Be){if(Be){var te=$(Be);te!==-1&&B.splice(te,1)}else B=[]},getAbrCustomRules:function(){return B},addUTCTimingSource:J,removeUTCTimingSource:we,getUTCTimingSources:function(){return t},clearDefaultUTCTimingSources:function(){t=[]},restoreDefaultUTCTimingSources:function(){var Be=O.get().streaming.utcSynchronization.defaultTimingSource;J(Be.scheme,Be.value)},setXHRWithCredentialsForType:function Be(te,st){te?l[te]=!!st:Object.keys(l).forEach(function(Ae){Be(Ae,st)})},getXHRWithCredentialsForType:function(Be){var te=l[Be];return te===void 0?l.default:te},setConfig:function(){},reset:function(){I()}},l={default:!1},I(),_}i.__dashjs_factory_name="CustomParametersModel";const h=b.Z.getSingletonFactory(i)},9032:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(5448),b=D(7473);function e(S){var g=(S=S||{}).requestModifier;function i(h){var _=new Date,t=h.request,l=new XMLHttpRequest;if(l.open(h.method,h.url,!0),t.responseType&&(l.responseType=t.responseType),t.range&&l.setRequestHeader("Range","bytes="+t.range),t.requestStartDate||(t.requestStartDate=_),g&&g.modifyRequestHeader&&(l=g.modifyRequestHeader(l,{url:h.url})),h.headers)for(var d in h.headers){var P=h.headers[d];P&&l.setRequestHeader(d,P)}l.withCredentials=h.withCredentials,l.onload=h.onload,l.onloadend=h.onend,l.onerror=h.onerror,l.onprogress=h.progress,l.onabort=h.onabort,l.ontimeout=h.ontimeout,l.timeout=h.timeout,l.send(),h.response=l}return{load:function(h){g&&g.modifyRequest?(0,b.k)(h,g).then(function(){return i(h)}):i(h)},abort:function(h){var _=h.response;_.onloadend=_.onerror=_.onprogress=void 0,_.abort()}}}e.__dashjs_factory_name="XHRLoader";const n=ae.Z.getClassFactory(e)},1737:(tt,De,D)=>{function ae(vt,ht){for(var mt=0;mt<ht.length;mt++){var qe=ht[mt];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(vt,qe.key,qe)}}D.d(De,{default:()=>Ar});var b={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const e=function(){function vt(){(function(qe,ot){if(!(qe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,vt)}var ht,mt;return ht=vt,mt=[{key:"findCencContentProtection",value:function(qe){for(var ot=null,ze=0;ze<qe.length;++ze){var nt=qe[ze];nt.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||nt.value.toLowerCase()!=="cenc"&&nt.value.toLowerCase()!=="cbcs"||(ot=nt)}return ot}},{key:"getPSSHData",value:function(qe){var ot=8,ze=new DataView(qe),nt=ze.getUint8(ot);return ot+=20,nt>0&&(ot+=4+16*ze.getUint32(ot)),ot+=4,qe.slice(ot)}},{key:"getPSSHForKeySystem",value:function(qe,ot){var ze=vt.parsePSSHList(ot);return qe&&ze.hasOwnProperty(qe.uuid.toLowerCase())?ze[qe.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(qe,ot){return"pssh"in qe?(qe.pssh.__text=qe.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),ot.decodeArray(qe.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(qe){if(qe==null)return[];for(var ot=new DataView(qe.buffer||qe),ze={},nt=0;;){var It,Nt,Ut=void 0,Yt=nt;if(nt>=ot.buffer.byteLength)break;if(It=nt+ot.getUint32(nt),nt+=4,ot.getUint32(nt)===1886614376)if(nt+=4,(Nt=ot.getUint8(nt))===0||Nt===1){nt++,nt+=3,Ut="";var Ot=void 0,ft=void 0;for(Ot=0;Ot<4;Ot++)Ut+=(ft=ot.getUint8(nt+Ot).toString(16)).length===1?"0"+ft:ft;for(nt+=4,Ut+="-",Ot=0;Ot<2;Ot++)Ut+=(ft=ot.getUint8(nt+Ot).toString(16)).length===1?"0"+ft:ft;for(nt+=2,Ut+="-",Ot=0;Ot<2;Ot++)Ut+=(ft=ot.getUint8(nt+Ot).toString(16)).length===1?"0"+ft:ft;for(nt+=2,Ut+="-",Ot=0;Ot<2;Ot++)Ut+=(ft=ot.getUint8(nt+Ot).toString(16)).length===1?"0"+ft:ft;for(nt+=2,Ut+="-",Ot=0;Ot<6;Ot++)Ut+=(ft=ot.getUint8(nt+Ot).toString(16)).length===1?"0"+ft:ft;nt+=6,nt+=4,ze[Ut=Ut.toLowerCase()]=ot.buffer.slice(Yt,It),nt=It}else nt=It;else nt=It}return ze}},{key:"getLicenseServerUrlFromMediaInfo",value:function(qe,ot){try{if(!qe||qe.length===0)return null;for(var ze=0,nt=null;ze<qe.length&&!nt;){var It=qe[ze];if(It&&It.contentProtection&&It.contentProtection.length>0){var Nt=It.contentProtection.filter(function(Qt){return Qt.schemeIdUri&&Qt.schemeIdUri===ot});if(Nt&&Nt.length>0)for(var Ut=0;Ut<Nt.length&&!nt;){for(var Yt=Nt[Ut],Ot=0;Ot<b.attributes.length&&!nt;){for(var ft=0,Ft=b.attributes[Ot];ft<b.prefixes.length&&!nt;){var Lt=b.prefixes[ft];Yt[Ft]&&Yt[Ft].__prefix&&Yt[Ft].__prefix===Lt&&Yt[Ft].__text&&(nt=Yt[Ft].__text),ft+=1}Ot+=1}Ut+=1}}ze+=1}return nt}catch{return null}}}],mt&&ae(ht,mt),vt}(),n=function vt(ht,mt){(function(qe,ot){if(!(qe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,vt),this.contentType=ht,this.robustness=mt},S=function vt(ht,mt,qe,ot,ze){(function(nt,It){if(!(nt instanceof It))throw new TypeError("Cannot call a class as a function")})(this,vt),this.initDataTypes=["cenc"],ht&&ht.length&&(this.audioCapabilities=ht),mt&&mt.length&&(this.videoCapabilities=mt),this.distinctiveIdentifier=qe,this.persistentState=ot,this.sessionTypes=ze};function g(vt){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},g(vt)}function i(vt,ht){return i=Object.setPrototypeOf||function(mt,qe){return mt.__proto__=qe,mt},i(vt,ht)}function h(vt,ht){return!ht||g(ht)!=="object"&&typeof ht!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(vt):ht}function _(vt){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_(vt)}const t=new(function(vt){(function(ze,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(nt&&nt.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),nt&&i(ze,nt)})(ot,vt);var ht,mt,qe=(ht=ot,mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ze,nt=_(ht);if(mt){var It=_(this).constructor;ze=Reflect.construct(nt,arguments,It)}else ze=nt.apply(this,arguments);return h(this,ze)});function ot(){var ze;return function(nt,It){if(!(nt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,ot),(ze=qe.call(this)).MEDIA_KEYERR_CODE=100,ze.MEDIA_KEYERR_UNKNOWN_CODE=101,ze.MEDIA_KEYERR_CLIENT_CODE=102,ze.MEDIA_KEYERR_SERVICE_CODE=103,ze.MEDIA_KEYERR_OUTPUT_CODE=104,ze.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,ze.MEDIA_KEYERR_DOMAIN_CODE=106,ze.MEDIA_KEY_MESSAGE_ERROR_CODE=107,ze.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,ze.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,ze.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,ze.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,ze.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,ze.KEY_SESSION_CREATED_ERROR_CODE=113,ze.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,ze.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",ze.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",ze.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",ze.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",ze.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",ze.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",ze.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",ze.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",ze.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",ze.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",ze.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",ze.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",ze.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",ze.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",ze}return ot}(D(2230).Z));var l=D(5459);const d=function vt(ht,mt,qe,ot,ze,nt,It,Nt){(function(Ut,Yt){if(!(Ut instanceof Yt))throw new TypeError("Cannot call a class as a function")})(this,vt),this.url=ht,this.method=mt,this.responseType=qe,this.headers=ot,this.withCredentials=ze,this.messageType=nt,this.sessionId=It,this.data=Nt},P=function vt(ht,mt,qe){(function(ot,ze){if(!(ot instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,vt),this.url=ht,this.headers=mt,this.data=qe};var F=D(7855),j=D(703),B=D(3393),X=D(5448);function O(vt){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},O(vt)}function I(vt){var ht,mt,qe,ot,ze,nt,It,Nt,Ut,Yt,Ot,ft=(vt=vt||{}).protectionKeyController,Ft=vt.protectionModel,Lt=vt.eventBus,Qt=vt.events,sn=vt.debug,En=vt.BASE64,Wt=vt.constants,Et=[],_t=vt.cmcdModel,Dt=vt.settings,Xt=vt.customParametersModel;function $t(){if(!(Lt&&Lt.hasOwnProperty("on")&&ft&&ft.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function hn(At,zt){Nt||Ut?Nt&&pn():function(on,Pn){if(!Ut){Ut=!0;var On,Un=[];on=on.sort(function(xn,An){return(ze&&ze[xn.ks.systemString]&&ze[xn.ks.systemString].priority>=0?ze[xn.ks.systemString].priority:on.length)-(ze&&ze[An.ks.systemString]&&ze[An.ks.systemString].priority>=0?ze[An.ks.systemString].priority:on.length)});for(var Tn=0;Tn<on.length;Tn++){var zn=Ir(on[Tn]);Un.push({ks:on[Tn].ks,configs:[zn],protData:on[Tn].protData})}Ft.requestKeySystemAccess(Un).then(function(xn){var An=(On=xn.data).mksa&&On.mksa.selectedSystemString?On.mksa.selectedSystemString:On.keySystem.systemString;return mt.info("DRM: KeySystem Access Granted for system string ("+An+")!  Selecting key system..."),Ft.selectKeySystem(On)}).then(function(xn){if(Nt=xn,Ut=!1,Ft){Lt.trigger(Qt.KEY_SYSTEM_SELECTED,{data:On});var An=kn(Nt);An&&An.serverCertificate&&An.serverCertificate.length>0&&Ft.setServerCertificate(En.decodeArray(An.serverCertificate).buffer),pn()}}).catch(function(xn){Nt=null,Ut=!1,Pn||Lt.trigger(Qt.KEY_SYSTEM_SELECTED,{data:null,error:new l.Z(t.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,t.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+xn.error)})})}}(At,zt)}function pn(){for(var At,zt=0;zt<qe.length;zt++)for(At=0;At<qe[zt].length;At++)if(Nt===qe[zt][At].ks){qn(qe[zt][At]);break}qe=[]}function qn(At){if(ft.isClearKey(Nt)&&At.protData&&At.protData.hasOwnProperty("clearkeys")&&Object.keys(At.protData.clearkeys).length!==0){var zt={kids:Object.keys(At.protData.clearkeys)};At.initData=new TextEncoder().encode(JSON.stringify(zt))}At.sessionId?Bn(At):At.initData!==null&&wn(At)}function Bn(At){$t(),Ft.loadKeySession(At)}function wn(At){var zt=e.getPSSHForKeySystem(Nt,At?At.initData:null);if(zt){if(function(on){if(!on)return!1;try{for(var Pn=Ft.getSessions(),On=0;On<Pn.length;On++)if(Pn[On].getKeyId()===on)return!0;return!1}catch{return!1}}(At.keyId)||Mn(zt))return;try{At.initData=zt,Ft.createKeySession(At)}catch(on){Lt.trigger(Qt.KEY_SESSION_CREATED,{data:null,error:new l.Z(t.KEY_SESSION_CREATED_ERROR_CODE,t.KEY_SESSION_CREATED_ERROR_MESSAGE+on.message)})}}else At&&At.initData?Ft.createKeySession(At):Lt.trigger(Qt.KEY_SESSION_CREATED,{data:null,error:new l.Z(t.KEY_SESSION_CREATED_ERROR_CODE,t.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Nt?Nt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function kn(At){if(At){var zt=At.systemString;if(ze)return zt in ze?ze[zt]:null}return null}function Mn(At){if(!At)return!1;try{for(var zt=Ft.getAllInitData(),on=0;on<zt.length;on++)if(ft.initDataEquals(At,zt[on]))return mt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Kn(At){$t(),At?(Ft.setMediaElement(At),Lt.on(Qt.NEED_KEY,Gr,ht)):At===null&&(Ft.setMediaElement(At),Lt.off(Qt.NEED_KEY,Gr,ht))}function Ir(At){var zt=At.protData,on=[],Pn=[],On=zt&&zt.audioRobustness&&zt.audioRobustness.length>0?zt.audioRobustness:It,Un=zt&&zt.videoRobustness&&zt.videoRobustness.length>0?zt.videoRobustness:It,Tn=At.sessionType,zn=zt&&zt.distinctiveIdentifier?zt.distinctiveIdentifier:"optional",xn=zt&&zt.persistentState?zt.persistentState:Tn==="temporary"?"optional":"required";return ot.forEach(function(An){An.type===Wt.AUDIO?on.push(new n(An.codec,On)):An.type===Wt.VIDEO&&Pn.push(new n(An.codec,Un))}),new S(on,Pn,zn,xn,[Tn])}function pr(At){At.error?Lt.trigger(Qt.KEY_STATUSES_CHANGED,{data:null,error:At.error}):mt.debug("DRM: key status = "+At.status)}function rr(At){mt.debug("DRM: onKeyMessage");var zt=At.data;Lt.trigger(Qt.KEY_MESSAGE,{data:zt});var on=zt.messageType?zt.messageType:"license-request",Pn=zt.message,On=zt.sessionToken,Un=kn(Nt),Tn=ft.getLicenseServerModelInstance(Nt,Un,on),zn={sessionToken:On,messageType:on};if(Pn&&Pn.byteLength!==0){if(!Tn)return mt.debug("DRM: License server request not required for this message (type = "+At.data.messageType+").  Session ID = "+On.getSessionId()),void Qn(zn);if(ft.isClearKey(Nt)){var xn=ft.processClearKeyLicenseRequest(Nt,Un,Pn);if(xn&&xn.keyPairs&&xn.keyPairs.length>0)return mt.debug("DRM: ClearKey license request handled by application!"),Qn(zn),void Ft.updateKeySession(On,xn)}(function(An,ar,Wn){var cr=An.sessionToken,tr=An.messageType?An.messageType:"license-request",yr={sessionToken:cr,messageType:tr},fr=Nt?Nt.systemString:null,ei=function(Nn,Er,vr,_r,wi){var or=null,si=_r.message;if(Nn&&Nn.serverURL){var lr=Nn.serverURL;typeof lr=="string"&&lr!==""?or=lr:O(lr)==="object"&&lr.hasOwnProperty(Er)&&(or=lr[Er])}else if(Nn&&Nn.laURL&&Nn.laURL!=="")or=Nn.laURL;else if(!(or=e.getLicenseServerUrlFromMediaInfo(ot,Nt.schemeIdURI))&&!ft.isClearKey(Nt)){var Hr=e.getPSSHData(vr.initData);(or=Nt.getLicenseServerURLFromInitData(Hr))||(or=_r.laURL)}return or=wi.getServerURLFromMessage(or,si,Er)}(Wn,tr,cr,An,ar);if(ei){var Rr={},qr=!1;Wn&&Zr(Rr,Wn.httpRequestHeaders);var ti=An.message;Zr(Rr,Nt.getRequestHeadersFromMessage(ti)),Object.keys(Rr).forEach(function(Nn){Nn.toLowerCase()==="authorization"&&(qr=!0)}),Wn&&typeof Wn.withCredentials=="boolean"&&(qr=Wn.withCredentials);var ni=function(Nn){if(Ft)if(Nn.status>=200&&Nn.status<=299){var Er=j.Z.parseHttpHeaders(Nn.getAllResponseHeaders?Nn.getAllResponseHeaders():null),vr=new P(Nn.responseURL,Er,Nn.response);Br(Xt.getLicenseResponseFilters(),vr).then(function(){var _r=ar.getLicenseMessage(vr.data,fr,tr);_r!==null?(Qn(yr),Ft.updateKeySession(cr,_r)):Ur(Nn,yr,fr,tr,ar)})}else Ur(Nn,yr,fr,tr,ar)},ri=function(Nn){Qn(yr,new l.Z(t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fr+' update, XHR aborted. status is "'+Nn.statusText+'" ('+Nn.status+"), readyState is "+Nn.readyState))},Ai=function(Nn){Qn(yr,new l.Z(t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fr+' update, XHR error. status is "'+Nn.statusText+'" ('+Nn.status+"), readyState is "+Nn.readyState))},Yr=Nt.getLicenseRequestFromMessage(ti),ii=ar.getHTTPMethod(tr),jr=ar.getResponseType(fr,tr),Ii=Wn&&!isNaN(Wn.httpTimeout)?Wn.httpTimeout:8e3,ai=cr.getSessionId()||null,oi=new d(ei,ii,jr,Rr,qr,tr,ai,Yr),Ri=isNaN(Dt.get().streaming.retryAttempts[F.w.LICENSE])?3:Dt.get().streaming.retryAttempts[F.w.LICENSE];Br(Xt.getLicenseRequestFilters(),oi).then(function(){Jr(oi,Ri,Ii,ni,ri,Ai)})}else Qn(yr,new l.Z(t.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,t.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(zt,Tn,Un)}else Qn(zn,new l.Z(t.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,t.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Qn(At,zt){Lt.trigger(Qt.LICENSE_REQUEST_COMPLETE,{data:At,error:zt})}function Jr(At,zt,on,Pn,On,Un){var Tn=new XMLHttpRequest;if(Dt.get().streaming.cmcd&&Dt.get().streaming.cmcd.enabled&&Dt.get().streaming.cmcd.mode===B.Z.CMCD_MODE_QUERY){var zn=_t.getQueryParameter({url:At.url,type:F.w.LICENSE});zn&&(At.url=j.Z.addAditionalQueryParameterToUrl(At.url,[zn]))}for(var xn in Tn.open(At.method,At.url,!0),Tn.responseType=At.responseType,Tn.withCredentials=At.withCredentials,on>0&&(Tn.timeout=on),At.headers)Tn.setRequestHeader(xn,At.headers[xn]);if(Dt.get().streaming.cmcd&&Dt.get().streaming.cmcd.enabled&&Dt.get().streaming.cmcd.mode===B.Z.CMCD_MODE_HEADER){var An=_t.getHeaderParameters({url:At.url,type:F.w.LICENSE});if(An)for(var ar in An){var Wn=An[ar];Wn&&Tn.setRequestHeader(ar,Wn)}}var cr=function(){zt--;var tr=isNaN(Dt.get().streaming.retryIntervals[F.w.LICENSE])?1e3:Dt.get().streaming.retryIntervals[F.w.LICENSE];Ot=setTimeout(function(){Jr(At,zt,on,Pn,On,Un)},tr)};Tn.onload=function(){Yt=null,this.status>=200&&this.status<=299||zt<=0?Pn(this):(mt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+zt),cr())},Tn.ontimeout=Tn.onerror=function(){Yt=null,zt<=0?Un(this):(mt.warn("License request network request failed . Retrying it... Pending retries: "+zt),cr())},Tn.onabort=function(){On(this)},Lt.trigger(Qt.LICENSE_REQUEST_SENDING,{url:At.url,headers:At.headers,payload:At.data,sessionId:At.sessionId}),Yt=Tn,Tn.send(At.data)}function $r(){Yt&&(Yt.onloadend=Yt.onerror=Yt.onprogress=void 0,Yt.abort(),Yt=null),Ot&&(clearTimeout(Ot),Ot=null)}function Zr(At,zt){if(zt)for(var on in zt)At[on]=zt[on]}function Ur(At,zt,on,Pn,On){var Un="NONE",Tn=null;At.response&&(Un=On.getErrorResponse(At.response,on,Pn),Tn={serverResponse:At.response||null,responseCode:At.status||null,responseText:At.statusText||null}),Qn(zt,new l.Z(t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR complete. status is "'+At.statusText+'" ('+At.status+"), readyState is "+At.readyState+".  Response is "+Un,Tn))}function Br(At,zt){return At?At.reduce(function(on,Pn){return on.then(function(){return Pn(zt)})},Promise.resolve()):Promise.resolve()}function Gr(At,zt){if(!Dt.get().streaming.protection.ignoreEmeEncryptedEvent){if(mt.debug("DRM: onNeedKey"),At.key.initDataType!=="cenc")return void mt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+At.key.initDataType);if(ot.length===0&&(mt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(zt=zt===void 0?1:zt+1)<5))return void Et.push(setTimeout(function(){Gr(At,zt)},500));var on=At.key.initData;if(ArrayBuffer.isView(on)&&(on=on.buffer),Nt){var Pn=e.getPSSHForKeySystem(Nt,on);if(Pn&&Mn(Pn))return}mt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(on)));var On=ft.getSupportedKeySystemsFromSegmentPssh(on,ze,nt);if(On.length===0)return void mt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(Un){qe.push(Un),hn(Un,!1)})(On)}}return ht={initializeForMedia:function(At){if(!At)throw new Error("mediaInfo can not be null or undefined");$t(),ot.push(At)},clearMediaInfoArray:function(){ot=[]},handleKeySystemFromManifest:function(){if(ot&&ot.length!==0){var At=[];ot.forEach(function(zt){var on=ft.getSupportedKeySystemsFromContentProtection(zt.contentProtection,ze,nt);on.length>0&&(At.length===0&&(At=on),qe.push(on))}),At&&At.length>0&&hn(At,!0)}},createKeySession:wn,loadKeySession:Bn,removeKeySession:function(At){$t(),Ft.removeKeySession(At)},closeKeySession:function(At){$t(),Ft.closeKeySession(At)},setServerCertificate:function(At){$t(),Ft.setServerCertificate(At)},setMediaElement:Kn,setSessionType:function(At){nt=At},setRobustnessLevel:function(At){It=At},setProtectionData:function(At){ze=At,ft.setProtectionData(At)},getSupportedKeySystemsFromContentProtection:function(At){return $t(),ft.getSupportedKeySystemsFromContentProtection(At,ze,nt)},getKeySystems:function(){return ft?ft.getKeySystems():[]},setKeySystems:function(At){ft&&ft.setKeySystems(At)},stop:function(){$r(),Ft&&Ft.stop()},reset:function(){Lt.off(Qt.INTERNAL_KEY_MESSAGE,rr,ht),Lt.off(Qt.INTERNAL_KEY_STATUS_CHANGED,pr,ht),$t(),$r(),Kn(null),Nt=null,Ut=!1,Ft&&(Ft.reset(),Ft=null),Et.forEach(function(At){return clearTimeout(At)}),Et=[],ot=[],qe=[]}},mt=sn.getLogger(ht),qe=[],ot=[],nt="temporary",It="",Yt=null,Ot=null,Lt.on(Qt.INTERNAL_KEY_MESSAGE,rr,ht),Lt.on(Qt.INTERNAL_KEY_STATUS_CHANGED,pr,ht),ht}I.__dashjs_factory_name="ProtectionController";const k=X.Z.getClassFactory(I),$=function vt(ht,mt){(function(qe,ot){if(!(qe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,vt),this.keyID=ht,this.key=mt};function J(vt,ht){for(var mt=0;mt<ht.length;mt++){var qe=ht[mt];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(vt,qe.key,qe)}}const we=function(){function vt(qe,ot){if(function(ze,nt){if(!(ze instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,vt),ot&&ot!=="persistent"&&ot!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=qe,this.type=ot}var ht,mt;return ht=vt,(mt=[{key:"toJWK",value:function(){var qe,ot=this.keyPairs.length,ze={keys:[]};for(qe=0;qe<ot;qe++){var nt={kty:"oct",alg:"A128KW",kid:this.keyPairs[qe].keyID,k:this.keyPairs[qe].key};ze.keys.push(nt)}this.type&&(ze.type=this.type);var It=JSON.stringify(ze),Nt=It.length,Ut=new ArrayBuffer(Nt),Yt=new Uint8Array(Ut);for(qe=0;qe<Nt;qe++)Yt[qe]=It.charCodeAt(qe);return Ut}}])&&J(ht.prototype,mt),vt}();function Be(vt,ht){for(var mt=0;mt<ht.length;mt++){var qe=ht[mt];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(vt,qe.key,qe)}}const te=new(function(){function vt(){(function(qe,ot){if(!(qe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,vt),this.init()}var ht,mt;return ht=vt,(mt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&Be(ht.prototype,mt),vt}());var st="e2719d58-a985-b3c9-781a-b030af78d30e",Ae=te.CLEARKEY_KEYSTEM_STRING,ke="urn:uuid:"+st;function ye(vt){var ht=(vt=vt||{}).BASE64;return{uuid:st,schemeIdURI:ke,systemString:Ae,getInitData:function(mt,qe){try{var ot=e.parseInitDataFromContentProtection(mt,ht);if(!ot&&qe){var ze={kids:[function(nt){try{var It=nt.replace(/-/g,"");return(It=btoa(It.match(/\w{2}/g).map(function(Nt){return String.fromCharCode(parseInt(Nt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(qe["cenc:default_KID"])]};ot=new TextEncoder().encode(JSON.stringify(ze))}return ot}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(mt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(mt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(mt,qe){var ot=null;if(mt){for(var ze=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(qe))),nt=[],It=0;It<ze.kids.length;It++){var Nt=ze.kids[It],Ut=mt.clearkeys&&mt.clearkeys.hasOwnProperty(Nt)?mt.clearkeys[Nt]:null;if(!Ut)throw new Error("DRM: ClearKey keyID ("+Nt+") is not known!");nt.push(new $(Nt,Ut))}ot=new we(nt)}return ot}}}ye.__dashjs_factory_name="KeySystemClearKey";const be=dashjs.FactoryMaker.getSingletonFactory(ye);var He="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ut=te.CLEARKEY_KEYSTEM_STRING,et="urn:uuid:"+He;function Te(vt){var ht,mt=vt.BASE64,qe=vt.debug.getLogger(ht);return{uuid:He,schemeIdURI:et,systemString:ut,getInitData:function(ot){return e.parseInitDataFromContentProtection(ot,mt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(ot){return new Uint8Array(ot)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(ot,ze){var nt=null;if(ot){for(var It=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ze))),Nt=[],Ut=0;Ut<It.kids.length;Ut++){var Yt=It.kids[Ut],Ot=ot.clearkeys&&ot.clearkeys.hasOwnProperty(Yt)?ot.clearkeys[Yt]:null;if(!Ot)throw new Error("DRM: ClearKey keyID ("+Yt+") is not known!");Nt.push(new $(Yt,Ot))}nt=new we(Nt),qe.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return nt}}}Te.__dashjs_factory_name="KeySystemW3CClearKey";const We=dashjs.FactoryMaker.getSingletonFactory(Te);var lt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",xe=te.WIDEVINE_KEYSTEM_STRING,Qe="urn:uuid:"+lt;function ce(vt){var ht=(vt=vt||{}).BASE64;return{uuid:lt,schemeIdURI:Qe,systemString:xe,getInitData:function(mt){return e.parseInitDataFromContentProtection(mt,ht)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(mt){return new Uint8Array(mt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}ce.__dashjs_factory_name="KeySystemWidevine";const de=dashjs.FactoryMaker.getSingletonFactory(ce);var je="9a04f079-9840-4286-ab92-e65be0885f95",f=te.PLAYREADY_KEYSTEM_STRING,o="urn:uuid:"+je;function v(vt){var ht="utf-16",mt=(vt=vt||{}).BASE64,qe=vt.settings;function ot(){if(!mt||!mt.hasOwnProperty("decodeArray")||!mt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:je,schemeIdURI:o,systemString:f,getInitData:function(ze){var nt,It,Nt,Ut,Yt,Ot=new Uint8Array([112,115,115,104,0,0,0,0]),ft=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Ft=0,Lt=null;if(ot(),!ze)return null;if("pssh"in ze)return e.parseInitDataFromContentProtection(ze,mt);if("pro"in ze)Lt=mt.decodeArray(ze.pro.__text);else{if(!("prheader"in ze))return null;Lt=mt.decodeArray(ze.prheader.__text)}return nt=Lt.length,It=4+Ot.length+ft.length+4+nt,Nt=new ArrayBuffer(It),Ut=new Uint8Array(Nt),(Yt=new DataView(Nt)).setUint32(Ft,It),Ft+=4,Ut.set(Ot,Ft),Ft+=Ot.length,Ut.set(ft,Ft),Ft+=ft.length,Yt.setUint32(Ft,nt),Ft+=4,Ut.set(Lt,Ft),Ft+=nt,Ut.buffer},getRequestHeadersFromMessage:function(ze){var nt,It,Nt={},Ut=new DOMParser;if(qe&&qe.get().streaming.protection.detectPlayreadyMessageFormat&&ht==="utf-16"&&ze&&ze.byteLength%2==1)return Nt["Content-Type"]="text/xml; charset=utf-8",Nt;var Yt=ht==="utf-16"?new Uint16Array(ze):new Uint8Array(ze);nt=String.fromCharCode.apply(null,Yt);for(var Ot=(It=Ut.parseFromString(nt,"application/xml")).getElementsByTagName("name"),ft=It.getElementsByTagName("value"),Ft=0;Ft<Ot.length;Ft++)Nt[Ot[Ft].childNodes[0].nodeValue]=ft[Ft].childNodes[0].nodeValue;return Nt.hasOwnProperty("Content")&&(Nt["Content-Type"]=Nt.Content,delete Nt.Content),Nt.hasOwnProperty("Content-Type")||(Nt["Content-Type"]="text/xml; charset=utf-8"),Nt},getLicenseRequestFromMessage:function(ze){var nt=null,It=new DOMParser;if(qe&&qe.get().streaming.protection.detectPlayreadyMessageFormat&&ht==="utf-16"&&ze&&ze.byteLength%2==1)return ze;var Nt=ht==="utf-16"?new Uint16Array(ze):new Uint8Array(ze);ot();var Ut=String.fromCharCode.apply(null,Nt),Yt=It.parseFromString(Ut,"application/xml");if(!Yt.getElementsByTagName("PlayReadyKeyMessage")[0])return ze;var Ot=Yt.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Ot&&(nt=mt.decode(Ot)),nt},getLicenseServerURLFromInitData:function(ze){if(ze)for(var nt=new DataView(ze),It=nt.getUint16(4,!0),Nt=6,Ut=new DOMParser,Yt=0;Yt<It;Yt++){var Ot=nt.getUint16(Nt,!0);Nt+=2;var ft=nt.getUint16(Nt,!0);if(Nt+=2,Ot===1){var Ft=ze.slice(Nt,Nt+ft),Lt=String.fromCharCode.apply(null,new Uint16Array(Ft)),Qt=Ut.parseFromString(Lt,"application/xml");if(Qt.getElementsByTagName("LA_URL")[0]){var sn=Qt.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(sn)return sn}if(Qt.getElementsByTagName("LUI_URL")[0]){var En=Qt.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(En)return En}}else Nt+=ft}return null},getCDMData:function(ze){var nt,It,Nt,Ut;if(ot(),!ze)return null;for(nt=[],Ut=0;Ut<ze.length;++Ut)nt.push(ze.charCodeAt(Ut)),nt.push(0);for(nt=String.fromCharCode.apply(null,nt),nt=mt.encode(nt),It='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",nt),Nt=[],Ut=0;Ut<It.length;++Ut)Nt.push(It.charCodeAt(Ut)),Nt.push(0);return new Uint8Array(Nt).buffer},setPlayReadyMessageFormat:function(ze){if(ze!=="utf-8"&&ze!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');ht=ze}}}v.__dashjs_factory_name="KeySystemPlayReady";const E=dashjs.FactoryMaker.getSingletonFactory(v);function Q(vt){var ht=(vt=vt||{}).BASE64,mt={};return mt[te.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(qe){return ht.decodeArray(qe.license)},getErrorResponse:function(qe){return qe}},mt[te.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(qe){return qe},getErrorResponse:function(qe){return String.fromCharCode.apply(null,new Uint8Array(qe))}},{getServerURLFromMessage:function(qe){return qe},getHTTPMethod:function(){return"POST"},getResponseType:function(qe){return mt[qe].responseType},getLicenseMessage:function(qe,ot){return function(){if(!ht||!ht.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),mt[ot].getLicenseMessage(qe)},getErrorResponse:function(qe,ot){return mt[ot].getErrorResponse(qe)}}}Q.__dashjs_factory_name="DRMToday";const z=dashjs.FactoryMaker.getSingletonFactory(Q);function he(){var vt="http://schemas.xmlsoap.org/soap/envelope/";function ht(ot){var ze=String.fromCharCode.apply(null,new Uint8Array(ot));return decodeURIComponent(escape(ze))}function mt(ot){if(window.DOMParser){var ze=ht(ot),nt=new window.DOMParser().parseFromString(ze,"text/xml"),It=nt?nt.getElementsByTagNameNS(vt,"Envelope")[0]:null,Nt=It?It.getElementsByTagNameNS(vt,"Body")[0]:null;if(Nt&&Nt.getElementsByTagNameNS(vt,"Fault")[0])return null}return ot}function qe(ot){var ze="",nt="",It="",Nt=-1,Ut=-1;if(window.DOMParser){var Yt=ht(ot),Ot=new window.DOMParser().parseFromString(Yt,"text/xml"),ft=Ot?Ot.getElementsByTagNameNS(vt,"Envelope")[0]:null,Ft=ft?ft.getElementsByTagNameNS(vt,"Body")[0]:null,Lt=Ft?Ft.getElementsByTagNameNS(vt,"Fault")[0]:null,Qt=Lt?Lt.getElementsByTagName("detail")[0]:null,sn=Qt?Qt.getElementsByTagName("Exception")[0]:null,En=null;if(Lt===null)return Yt;ze=(En=Lt.getElementsByTagName("faultstring")[0].firstChild)?En.nodeValue:null,sn!==null&&(nt=(En=sn.getElementsByTagName("StatusCode")[0])?En.firstChild.nodeValue:null,Nt=(It=(En=sn.getElementsByTagName("Message")[0])?En.firstChild.nodeValue:null)?It.lastIndexOf("[")+1:-1,Ut=It?It.indexOf("]"):-1,It=It?It.substring(Nt,Ut):"")}var Wt="code: ".concat(nt,", name: ").concat(ze);return It&&(Wt+=", message: ".concat(It)),Wt}return{getServerURLFromMessage:function(ot){return ot},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(ot){return mt.call(this,ot)},getErrorResponse:function(ot){return qe.call(this,ot)}}}he.__dashjs_factory_name="PlayReady";const Ne=X.Z.getSingletonFactory(he);function Ce(){return{getServerURLFromMessage:function(vt){return vt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(vt){return vt},getErrorResponse:function(vt){return String.fromCharCode.apply(null,new Uint8Array(vt))}}}Ce.__dashjs_factory_name="Widevine";const ve=dashjs.FactoryMaker.getSingletonFactory(Ce);function Le(){return{getServerURLFromMessage:function(vt){return vt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(vt){if(!vt.hasOwnProperty("keys"))return null;for(var ht=[],mt=0;mt<vt.keys.length;mt++){var qe=vt.keys[mt],ot=qe.kid.replace(/=/g,""),ze=qe.k.replace(/=/g,"");ht.push(new $(ot,ze))}return new we(ht)},getErrorResponse:function(vt){return String.fromCharCode.apply(null,new Uint8Array(vt))}}}Le.__dashjs_factory_name="ClearKey";const Ze=dashjs.FactoryMaker.getSingletonFactory(Le);function $e(){var vt,ht,mt,qe,ot,ze,nt,It,Nt=this.context;function Ut(ft,Ft){return Ft&&ft in Ft?Ft[ft]:null}function Yt(ft,Ft){return ft&&ft.sessionId?ft.sessionId:Ft&&Ft.sessionId?Ft.sessionId:null}function Ot(ft,Ft){return ft&&ft.sessionType?ft.sessionType:Ft}return vt={initialize:function(){var ft;qe=[],ft=E(Nt).getInstance({BASE64:ot,settings:ze}),qe.push(ft),ft=de(Nt).getInstance({BASE64:ot}),qe.push(ft),ft=be(Nt).getInstance({BASE64:ot}),qe.push(ft),nt=ft,ft=We(Nt).getInstance({BASE64:ot,debug:ht}),qe.push(ft),It=ft},setProtectionData:function(ft){for(var Ft,Lt,Qt=0;Qt<qe.length;Qt++){var sn=qe[Qt];sn.hasOwnProperty("init")&&sn.init((Ft=sn.systemString,Lt=void 0,Lt=null,ft&&(Lt=Ft in ft?ft[Ft]:null),Lt))}},isClearKey:function(ft){return ft===nt||ft===It},initDataEquals:function(ft,Ft){if(ft.byteLength===Ft.byteLength){for(var Lt=new Uint8Array(ft),Qt=new Uint8Array(Ft),sn=0;sn<Lt.length;sn++)if(Lt[sn]!==Qt[sn])return!1;return!0}return!1},getKeySystems:function(){return qe},setKeySystems:function(ft){qe=ft},getKeySystemBySystemString:function(ft){for(var Ft=0;Ft<qe.length;Ft++)if(qe[Ft].systemString===ft)return qe[Ft];return null},getSupportedKeySystemsFromContentProtection:function(ft,Ft,Lt){var Qt,sn,En,Wt,Et=[];if(ft){var _t=e.findCencContentProtection(ft);for(En=0;En<qe.length;++En){var Dt=Ut((sn=qe[En]).systemString,Ft);for(Wt=0;Wt<ft.length;++Wt)if((Qt=ft[Wt]).schemeIdUri.toLowerCase()===sn.schemeIdURI){var Xt=sn.getInitData(Qt,_t);Et.push({ks:qe[En],keyId:Qt.keyId,initData:Xt,protData:Dt,cdmData:sn.getCDMData(Dt?Dt.cdmData:null),sessionId:Yt(Dt,Qt),sessionType:Ot(Dt,Lt)})}}}return Et},getSupportedKeySystemsFromSegmentPssh:function(ft,Ft,Lt){for(var Qt,sn=[],En=e.parsePSSHList(ft),Wt=0;Wt<qe.length;++Wt){var Et=Ut((Qt=qe[Wt]).systemString,Ft);Qt.uuid in En&&sn.push({ks:Qt,initData:En[Qt.uuid],protData:Et,cdmData:Qt.getCDMData(Et?Et.cdmData:null),sessionId:Yt(Et),sessionType:Ot(Et,Lt)})}return sn},getLicenseServerModelInstance:function(ft,Ft,Lt){if(Lt==="license-release"||Lt==="individualization-request")return null;var Qt=null;return Ft&&Ft.hasOwnProperty("drmtoday")?Qt=z(Nt).getInstance({BASE64:ot}):ft.systemString===te.WIDEVINE_KEYSTEM_STRING?Qt=ve(Nt).getInstance():ft.systemString===te.PLAYREADY_KEYSTEM_STRING?Qt=Ne(Nt).getInstance():ft.systemString===te.CLEARKEY_KEYSTEM_STRING&&(Qt=Ze(Nt).getInstance()),Qt},processClearKeyLicenseRequest:function(ft,Ft,Lt){try{return ft.getClearKeysFromProtectionData(Ft,Lt)}catch{return mt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(ft){ft&&(ft.debug&&(ht=ft.debug,mt=ht.getLogger(vt)),ft.BASE64&&(ot=ft.BASE64),ft.settings&&(ze=ft.settings))}},vt}$e.__dashjs_factory_name="ProtectionKeyController";const pt=dashjs.FactoryMaker.getSingletonFactory($e);function it(vt){return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},it(vt)}function wt(vt,ht){return wt=Object.setPrototypeOf||function(mt,qe){return mt.__proto__=qe,mt},wt(vt,ht)}function Mt(vt,ht){return!ht||it(ht)!=="object"&&typeof ht!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(vt):ht}function Pt(vt){return Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},Pt(vt)}const ln=new(function(vt){(function(ze,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(nt&&nt.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),nt&&wt(ze,nt)})(ot,vt);var ht,mt,qe=(ht=ot,mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ze,nt=Pt(ht);if(mt){var It=Pt(this).constructor;ze=Reflect.construct(nt,arguments,It)}else ze=nt.apply(this,arguments);return Mt(this,ze)});function ot(){var ze;return function(nt,It){if(!(nt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,ot),(ze=qe.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",ze.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",ze.KEY_ADDED="public_keyAdded",ze.KEY_ERROR="public_keyError",ze.KEY_MESSAGE="public_keyMessage",ze.KEY_SESSION_CLOSED="public_keySessionClosed",ze.KEY_SESSION_CREATED="public_keySessionCreated",ze.KEY_SESSION_REMOVED="public_keySessionRemoved",ze.KEY_STATUSES_CHANGED="public_keyStatusesChanged",ze.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",ze.KEY_SYSTEM_SELECTED="public_keySystemSelected",ze.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",ze.LICENSE_REQUEST_SENDING="public_licenseRequestSending",ze.NEED_KEY="needkey",ze.PROTECTION_CREATED="public_protectioncreated",ze.PROTECTION_DESTROYED="public_protectiondestroyed",ze.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",ze.TEARDOWN_COMPLETE="protectionTeardownComplete",ze.VIDEO_ELEMENT_SELECTED="videoElementSelected",ze.KEY_SESSION_UPDATED="public_keySessionUpdated",ze}return ot}(D(8342).Z)),mn=function vt(ht,mt){(function(qe,ot){if(!(qe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,vt),this.initData=ht,this.initDataType=mt},vn=function vt(ht,mt,qe,ot){(function(ze,nt){if(!(ze instanceof nt))throw new TypeError("Cannot call a class as a function")})(this,vt),this.sessionToken=ht,this.message=mt,this.defaultURL=qe,this.messageType=ot||"license-request"},Ln=function vt(ht,mt){(function(qe,ot){if(!(qe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,vt),this.keySystem=ht,this.ksConfiguration=mt};var yn={};function Rn(vt){vt=vt||{};var ht,mt,qe,ot,ze,nt,It,Nt,Ut=this.context,Yt=vt.eventBus,Ot=vt.events,ft=vt.debug;function Ft(Et,_t,Dt,Xt){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var $t="Insecure origins are not allowed";return Yt.trigger(Ot.KEY_SYSTEM_ACCESS_COMPLETE,{error:$t}),void Xt({error:$t})}var hn=Et[_t].protData&&Et[_t].protData.systemStringPriority?Et[_t].protData.systemStringPriority:null,pn=Et[_t].configs,qn=Et[_t].ks,Bn=qn.systemString;(function(wn,kn){return new Promise(function(Mn,Kn){Lt(wn,kn,0,Mn,Kn)})})(hn||(yn[Bn]?yn[Bn]:[Bn]),pn).then(function(wn){var kn=typeof wn.getConfiguration=="function"?wn.getConfiguration():null,Mn=new Ln(qn,kn);Mn.mksa=wn,Yt.trigger(Ot.KEY_SYSTEM_ACCESS_COMPLETE,{data:Mn}),Dt({data:Mn})}).catch(function(wn){if(_t+1<Et.length)Ft(Et,_t+1,Dt,Xt);else{var kn="Key system access denied! ";Yt.trigger(Ot.KEY_SYSTEM_ACCESS_COMPLETE,{error:kn+wn.message}),Xt({error:kn+wn.message})}})}function Lt(Et,_t,Dt,Xt,$t){var hn=Et[Dt];mt.debug("Requesting key system access for system string ".concat(hn)),navigator.requestMediaKeySystemAccess(hn,_t).then(function(pn){pn.selectedSystemString=hn,Xt(pn)}).catch(function(pn){Dt+1<Et.length?Lt(Et,_t,Dt+1,Xt,$t):$t(pn)})}function Qt(Et){var _t=Et.session;return _t.removeEventListener("keystatuseschange",Et),_t.removeEventListener("message",Et),_t.close()}function sn(Et){for(var _t=0;_t<nt.length;_t++)if(nt[_t]===Et){nt.splice(_t,1);break}}function En(Et){var _t,Dt;return Et&&Et.length>0&&(Et[0]&&(typeof Et[0]=="string"?_t=Et[0]:Dt=Et[0]),Et[1]&&(typeof Et[1]=="string"?_t=Et[1]:Dt=Et[1])),{status:_t,keyId:Dt}}function Wt(Et,_t){var Dt={session:Et,keyId:_t.keyId,initData:_t.initData,sessionId:_t.sessionId,sessionType:_t.sessionType,handleEvent:function(Xt){switch(Xt.type){case"keystatuseschange":Yt.trigger(Ot.KEY_STATUSES_CHANGED,{data:this}),Xt.target.keyStatuses.forEach(function(){var hn=En(arguments);hn.status==="expired"?Yt.trigger(Ot.INTERNAL_KEY_STATUS_CHANGED,{error:new l.Z(t.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,t.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):Yt.trigger(Ot.INTERNAL_KEY_STATUS_CHANGED,hn)});break;case"message":var $t=ArrayBuffer.isView(Xt.message)?Xt.message.buffer:Xt.message;Yt.trigger(Ot.INTERNAL_KEY_MESSAGE,{data:new vn(this,$t,void 0,Xt.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Et.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Et.expiration},getKeyStatuses:function(){return Et.keyStatuses},getUsable:function(){var Xt=!1;return Et.keyStatuses.forEach(function(){var $t=En(arguments);$t.status==="usable"&&(Xt=!0)}),Xt}};return Et.addEventListener("keystatuseschange",Dt),Et.addEventListener("message",Dt),Et.closed.then(function(){sn(Dt),mt.debug("DRM: Session closed.  SessionID = "+Dt.getSessionId()),Yt.trigger(Ot.KEY_SESSION_CLOSED,{data:Dt.getSessionId()})}),nt.push(Dt),Dt}return ht={getAllInitData:function(){for(var Et=[],_t=0;_t<nt.length;_t++)nt[_t].initData&&Et.push(nt[_t].initData);return Et},getSessions:function(){return nt},requestKeySystemAccess:function(Et){return new Promise(function(_t,Dt){Ft(Et,0,_t,Dt)})},selectKeySystem:function(Et){return new Promise(function(_t,Dt){Et.mksa.createMediaKeys().then(function(Xt){return qe=Et.keySystem,ze=Xt,ot?ot.setMediaKeys(ze):Promise.resolve()}).then(function(){_t(qe)}).catch(function(){Dt({error:"Error selecting keys system ("+Et.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Et){ot!==Et&&(ot&&(ot.removeEventListener("encrypted",It),ot.setMediaKeys&&ot.setMediaKeys(null)),(ot=Et)&&(ot.addEventListener("encrypted",It),ot.setMediaKeys&&ze&&ot.setMediaKeys(ze)))},setServerCertificate:function(Et){if(!qe||!ze)throw new Error("Can not set server certificate until you have selected a key system");ze.setServerCertificate(Et).then(function(){mt.info("DRM: License server certificate successfully updated."),Yt.trigger(Ot.SERVER_CERTIFICATE_UPDATED)}).catch(function(_t){Yt.trigger(Ot.SERVER_CERTIFICATE_UPDATED,{error:new l.Z(t.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,t.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+_t.name)})})},createKeySession:function(Et){if(!qe||!ze)throw new Error("Can not create sessions until you have selected a key system");var _t=ze.createSession(Et.sessionType),Dt=Wt(_t,Et),Xt=qe.systemString===te.CLEARKEY_KEYSTEM_STRING&&(Et.initData||Et.protData&&Et.protData.clearkeys)?te.INITIALIZATION_DATA_TYPE_KEYIDS:te.INITIALIZATION_DATA_TYPE_CENC;_t.generateRequest(Xt,Et.initData).then(function(){mt.debug("DRM: Session created.  SessionID = "+Dt.getSessionId()),Yt.trigger(Ot.KEY_SESSION_CREATED,{data:Dt})}).catch(function($t){sn(Dt),Yt.trigger(Ot.KEY_SESSION_CREATED,{data:null,error:new l.Z(t.KEY_SESSION_CREATED_ERROR_CODE,t.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+$t.name)})})},updateKeySession:function(Et,_t){var Dt=Et.session;Nt.isClearKey(qe)&&(_t=_t.toJWK()),Dt.update(_t).then(function(){Yt.trigger(Ot.KEY_SESSION_UPDATED)}).catch(function(Xt){Yt.trigger(Ot.KEY_ERROR,{error:new l.Z(t.MEDIA_KEYERR_CODE,"Error sending update() message! "+Xt.name,Et)})})},loadKeySession:function(Et){if(!qe||!ze)throw new Error("Can not load sessions until you have selected a key system");for(var _t=Et.sessionId,Dt=0;Dt<nt.length;Dt++)if(_t===nt[Dt].sessionId)return void mt.warn("DRM: Ignoring session ID because we have already seen it!");var Xt=ze.createSession(Et.sessionType),$t=Wt(Xt,Et);Xt.load(_t).then(function(hn){hn?(mt.debug("DRM: Session loaded.  SessionID = "+$t.getSessionId()),Yt.trigger(Ot.KEY_SESSION_CREATED,{data:$t})):(sn($t),Yt.trigger(Ot.KEY_SESSION_CREATED,{data:null,error:new l.Z(t.KEY_SESSION_CREATED_ERROR_CODE,t.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+_t+")")}))}).catch(function(hn){sn($t),Yt.trigger(Ot.KEY_SESSION_CREATED,{data:null,error:new l.Z(t.KEY_SESSION_CREATED_ERROR_CODE,t.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+_t+")! "+hn.name)})})},removeKeySession:function(Et){Et.session.remove().then(function(){mt.debug("DRM: Session removed.  SessionID = "+Et.getSessionId()),Yt.trigger(Ot.KEY_SESSION_REMOVED,{data:Et.getSessionId()})},function(_t){Yt.trigger(Ot.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Et.getSessionId()+"). "+_t.name})})},closeKeySession:function(Et){Qt(Et).catch(function(_t){sn(Et),Yt.trigger(Ot.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Et.getSessionId()+") "+_t.name})})},stop:function(){for(var Et,_t=0;_t<nt.length;_t++)(Et=nt[_t]).getUsable()||Qt(Et).catch(function(){sn(Et)})},reset:function(){var Et,_t=nt.length;_t!==0?function(){for(var Dt=function($t){sn($t),nt.length===0&&(ot?(ot.removeEventListener("encrypted",It),ot.setMediaKeys(null).then(function(){Yt.trigger(Ot.TEARDOWN_COMPLETE)})):Yt.trigger(Ot.TEARDOWN_COMPLETE))},Xt=0;Xt<_t;Xt++)(function($t){Et.session.closed.then(function(){Dt($t)}),Qt(Et).catch(function(){Dt($t)})})(Et=nt[Xt])}():Yt.trigger(Ot.TEARDOWN_COMPLETE)}},mt=ft.getLogger(ht),qe=null,ot=null,ze=null,nt=[],Nt=pt(Ut).getInstance(),It={handleEvent:function(Et){if(Et.type==="encrypted"&&Et.initData){var _t=ArrayBuffer.isView(Et.initData)?Et.initData.buffer:Et.initData;Yt.trigger(Ot.NEED_KEY,{key:new mn(_t,Et.initDataType)})}}},ht}yn[te.PLAYREADY_KEYSTEM_STRING]=[te.PLAYREADY_KEYSTEM_STRING,te.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],yn[te.WIDEVINE_KEYSTEM_STRING]=[te.WIDEVINE_KEYSTEM_STRING],yn[te.CLEARKEY_KEYSTEM_STRING]=[te.CLEARKEY_KEYSTEM_STRING],Rn.__dashjs_factory_name="ProtectionModel_21Jan2015";const Gn=dashjs.FactoryMaker.getClassFactory(Rn);function _n(vt){vt=vt||{};var ht,mt,qe,ot,ze,nt,It,Nt,Ut,Yt=this.context,Ot=vt.eventBus,ft=vt.events,Ft=vt.debug,Lt=vt.api;function Qt(){try{for(var Wt=0;Wt<It.length;Wt++)sn(It[Wt]);qe&&qe.removeEventListener(Lt.needkey,Nt),Ot.trigger(ft.TEARDOWN_COMPLETE)}catch(Et){Ot.trigger(ft.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Et.message})}}function sn(Wt){var Et=Wt.session;Et.removeEventListener(Lt.error,Wt),Et.removeEventListener(Lt.message,Wt),Et.removeEventListener(Lt.ready,Wt),Et.removeEventListener(Lt.close,Wt);for(var _t=0;_t<It.length;_t++)if(It[_t]===Wt){It.splice(_t,1);break}Et[Lt.release]()}function En(){var Wt=null,Et=function(){qe.removeEventListener("loadedmetadata",Wt),qe[Lt.setMediaKeys](ze),Ot.trigger(ft.VIDEO_ELEMENT_SELECTED)};qe.readyState>=1?Et():(Wt=Et.bind(this),qe.addEventListener("loadedmetadata",Wt))}return ht={getAllInitData:function(){for(var Wt=[],Et=0;Et<It.length;Et++)Wt.push(It[Et].initData);return Wt},getSessions:function(){return It},requestKeySystemAccess:function(Wt){return new Promise(function(Et,_t){for(var Dt=!1,Xt=0;Xt<Wt.length;Xt++)for(var $t=Wt[Xt].ks.systemString,hn=Wt[Xt].configs,pn=null,qn=null,Bn=0;Bn<hn.length;Bn++){var wn=hn[Bn].audioCapabilities,kn=hn[Bn].videoCapabilities;if(wn&&wn.length!==0){pn=[];for(var Mn=0;Mn<wn.length;Mn++)window[Lt.MediaKeys].isTypeSupported($t,wn[Mn].contentType)&&pn.push(wn[Mn])}if(kn&&kn.length!==0){qn=[];for(var Kn=0;Kn<kn.length;Kn++)window[Lt.MediaKeys].isTypeSupported($t,kn[Kn].contentType)&&qn.push(kn[Kn])}if(!(!pn&&!qn||pn&&pn.length===0||qn&&qn.length===0)){Dt=!0;var Ir=new S(pn,qn),pr=Ut.getKeySystemBySystemString($t),rr=new Ln(pr,Ir);Ot.trigger(ft.KEY_SYSTEM_ACCESS_COMPLETE,{data:rr}),Et({data:rr});break}}if(!Dt){var Qn="Key system access denied! -- No valid audio/video content configurations detected!";Ot.trigger(ft.KEY_SYSTEM_ACCESS_COMPLETE,{error:Qn}),_t({error:Qn})}})},selectKeySystem:function(Wt){return new Promise(function(Et,_t){try{ze=Wt.mediaKeys=new window[Lt.MediaKeys](Wt.keySystem.systemString),ot=Wt.keySystem,nt=Wt,qe&&En(),Et(ot)}catch{_t({error:"Error selecting keys system ("+ot.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Wt){qe!==Wt&&(qe&&qe.removeEventListener(Lt.needkey,Nt),(qe=Wt)&&(qe.addEventListener(Lt.needkey,Nt),ze&&En()))},createKeySession:function(Wt){if(!ot||!ze||!nt)throw new Error("Can not create sessions until you have selected a key system");var Et=null;if(nt.ksConfiguration.videoCapabilities&&nt.ksConfiguration.videoCapabilities.length>0&&(Et=nt.ksConfiguration.videoCapabilities[0]),Et===null&&nt.ksConfiguration.audioCapabilities&&nt.ksConfiguration.audioCapabilities.length>0&&(Et=nt.ksConfiguration.audioCapabilities[0]),Et===null)throw new Error("Can not create sessions for unknown content types.");var _t=Et.contentType,Dt=ze.createSession(_t,new Uint8Array(Wt.initData),Wt.cdmData?new Uint8Array(Wt.cdmData):null),Xt=function($t,hn){return{session:$t,keyId:hn.keyId,initData:hn.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(pn){switch(pn.type){case Lt.error:Ot.trigger(ft.KEY_ERROR,{error:new l.Z(t.MEDIA_KEYERR_CODE,"KeyError",this)});break;case Lt.message:var qn=ArrayBuffer.isView(pn.message)?pn.message.buffer:pn.message;Ot.trigger(ft.INTERNAL_KEY_MESSAGE,{data:new vn(this,qn,pn.destinationURL)});break;case Lt.ready:mt.debug("DRM: Key added."),Ot.trigger(ft.KEY_ADDED);break;case Lt.close:mt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Ot.trigger(ft.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Dt,Wt);Dt.addEventListener(Lt.error,Xt),Dt.addEventListener(Lt.message,Xt),Dt.addEventListener(Lt.ready,Xt),Dt.addEventListener(Lt.close,Xt),It.push(Xt),mt.debug("DRM: Session created.  SessionID = "+Xt.getSessionId()),Ot.trigger(ft.KEY_SESSION_CREATED,{data:Xt})},updateKeySession:function(Wt,Et){var _t=Wt.session;Ut.isClearKey(ot)?_t.update(new Uint8Array(Et.toJWK())):_t.update(new Uint8Array(Et)),Ot.trigger(ft.KEY_SESSION_UPDATED)},closeKeySession:sn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Qt,reset:Qt},mt=Ft.getLogger(ht),qe=null,ot=null,ze=null,nt=null,It=[],Ut=pt(Yt).getInstance(),Nt={handleEvent:function(Wt){if(Wt.type===Lt.needkey&&Wt.initData){var Et=ArrayBuffer.isView(Wt.initData)?Wt.initData.buffer:Wt.initData;Ot.trigger(ft.NEED_KEY,{key:new mn(Et,"cenc")})}}},ht}_n.__dashjs_factory_name="ProtectionModel_3Feb2014";const jn=dashjs.FactoryMaker.getClassFactory(_n);function Zn(vt){vt=vt||{};var ht,mt,qe,ot,ze,nt,It,Nt,Ut,Yt=this.context,Ot=vt.eventBus,ft=vt.events,Ft=vt.debug,Lt=vt.api,Qt=vt.errHandler;function sn(){qe&&Et();for(var _t=0;_t<It.length;_t++)En(It[_t]);Ot.trigger(ft.TEARDOWN_COMPLETE)}function En(_t){try{qe[Lt.cancelKeyRequest](ot.systemString,_t.sessionId)}catch(Dt){Ot.trigger(ft.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+_t.sessionId+") "+Dt.message})}}function Wt(_t,Dt){if(Dt&&_t){for(var Xt=_t.length,$t=0;$t<Xt;$t++)if(_t[$t].sessionId==Dt)return _t[$t];return null}return null}function Et(){qe.removeEventListener(Lt.keyerror,Ut),qe.removeEventListener(Lt.needkey,Ut),qe.removeEventListener(Lt.keymessage,Ut),qe.removeEventListener(Lt.keyadded,Ut)}return ht={getAllInitData:function(){for(var _t=[],Dt=0;Dt<nt.length;Dt++)_t.push(nt[Dt].initData);for(var Xt=0;Xt<It.length;Xt++)_t.push(It[Xt].initData);return _t},getSessions:function(){return It.concat(nt)},requestKeySystemAccess:function(_t){return new Promise(function(Dt,Xt){var $t=qe;$t||($t=document.createElement("video"));for(var hn=!1,pn=0;pn<_t.length;pn++)for(var qn=_t[pn].ks.systemString,Bn=_t[pn].configs,wn=null,kn=0;kn<Bn.length;kn++){var Mn=Bn[kn].videoCapabilities;if(Mn&&Mn.length!==0){wn=[];for(var Kn=0;Kn<Mn.length;Kn++)$t.canPlayType(Mn[Kn].contentType,qn)!==""&&wn.push(Mn[Kn])}if(wn&&(!wn||wn.length!==0)){hn=!0;var Ir=new S(null,wn),pr=ze.getKeySystemBySystemString(qn),rr=new Ln(pr,Ir);Ot.trigger(ft.KEY_SYSTEM_ACCESS_COMPLETE,{data:rr}),Dt({data:rr});break}}if(!hn){var Qn="Key system access denied! -- No valid audio/video content configurations detected!";Ot.trigger(ft.KEY_SYSTEM_ACCESS_COMPLETE,{error:Qn}),Xt({error:Qn})}})},selectKeySystem:function(_t){return ot=_t.keySystem,Promise.resolve(ot)},setMediaElement:function(_t){if(qe!==_t){if(qe){Et();for(var Dt=0;Dt<It.length;Dt++)En(It[Dt]);It=[]}(qe=_t)&&(qe.addEventListener(Lt.keyerror,Ut),qe.addEventListener(Lt.needkey,Ut),qe.addEventListener(Lt.keymessage,Ut),qe.addEventListener(Lt.keyadded,Ut),Ot.trigger(ft.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(_t){if(!ot)throw new Error("Can not create sessions until you have selected a key system");if(Nt||It.length===0){var Dt={sessionId:null,keyId:_t.keyId,initData:_t.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return nt.push(Dt),qe[Lt.generateKeyRequest](ot.systemString,new Uint8Array(_t.initData)),Dt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(_t,Dt){var Xt=_t.sessionId;if(ze.isClearKey(ot))for(var $t=0;$t<Dt.keyPairs.length;$t++)qe[Lt.addKey](ot.systemString,Dt.keyPairs[$t].key,Dt.keyPairs[$t].keyID,Xt);else qe[Lt.addKey](ot.systemString,new Uint8Array(Dt),new Uint8Array(_t.initData),Xt);Ot.trigger(ft.KEY_SESSION_UPDATED)},closeKeySession:En,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:sn,reset:sn},mt=Ft.getLogger(ht),qe=null,ot=null,nt=[],It=[],ze=pt(Yt).getInstance(),Ut={handleEvent:function(_t){var Dt=null;switch(_t.type){case Lt.needkey:var Xt=ArrayBuffer.isView(_t.initData)?_t.initData.buffer:_t.initData;Ot.trigger(ft.NEED_KEY,{key:new mn(Xt,"cenc")});break;case Lt.keyerror:if((Dt=Wt(It,_t.sessionId))||(Dt=Wt(nt,_t.sessionId)),Dt){var $t=t.MEDIA_KEYERR_CODE,hn="";switch(_t.errorCode.code){case 1:$t=t.MEDIA_KEYERR_UNKNOWN_CODE,hn+="MEDIA_KEYERR_UNKNOWN - "+t.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:$t=t.MEDIA_KEYERR_CLIENT_CODE,hn+="MEDIA_KEYERR_CLIENT - "+t.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:$t=t.MEDIA_KEYERR_SERVICE_CODE,hn+="MEDIA_KEYERR_SERVICE - "+t.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:$t=t.MEDIA_KEYERR_OUTPUT_CODE,hn+="MEDIA_KEYERR_OUTPUT - "+t.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:$t=t.MEDIA_KEYERR_HARDWARECHANGE_CODE,hn+="MEDIA_KEYERR_HARDWARECHANGE - "+t.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:$t=t.MEDIA_KEYERR_DOMAIN_CODE,hn+="MEDIA_KEYERR_DOMAIN - "+t.MEDIA_KEYERR_DOMAIN_MESSAGE}hn+="  System Code = "+_t.systemCode,Ot.trigger(ft.KEY_ERROR,{error:new l.Z($t,hn,Dt)})}else mt.error("No session token found for key error");break;case Lt.keyadded:(Dt=Wt(It,_t.sessionId))||(Dt=Wt(nt,_t.sessionId)),Dt?(mt.debug("DRM: Key added."),Ot.trigger(ft.KEY_ADDED,{data:Dt})):mt.debug("No session token found for key added");break;case Lt.keymessage:if((Nt=_t.sessionId!==null&&_t.sessionId!==void 0)?!(Dt=Wt(It,_t.sessionId))&&nt.length>0&&(Dt=nt.shift(),It.push(Dt),Dt.sessionId=_t.sessionId,Ot.trigger(ft.KEY_SESSION_CREATED,{data:Dt})):nt.length>0&&(Dt=nt.shift(),It.push(Dt),nt.length!==0&&Qt.error(new l.Z(t.MEDIA_KEY_MESSAGE_ERROR_CODE,t.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Dt){var pn=ArrayBuffer.isView(_t.message)?_t.message.buffer:_t.message;Dt.keyMessage=pn,Ot.trigger(ft.INTERNAL_KEY_MESSAGE,{data:new vn(Dt,pn,_t.defaultURL)})}else mt.warn("No session token found for key message")}}},ht}Zn.__dashjs_factory_name="ProtectionModel_01b";const Hn=dashjs.FactoryMaker.getClassFactory(Zn);var $n=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Vn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function ir(){var vt,ht=this.context;function mt(qe,ot){for(var ze=0;ze<ot.length;ze++){var nt=ot[ze];if(typeof qe[nt[Object.keys(nt)[0]]]=="function")return nt}return null}return vt={createProtectionSystem:function(qe){var ot=null,ze=pt(ht).getInstance();ze.setConfig({debug:qe.debug,BASE64:qe.BASE64,settings:qe.settings}),ze.initialize();var nt=function(It){var Nt=It.debug,Ut=Nt.getLogger(vt),Yt=It.eventBus,Ot=It.errHandler,ft=It.videoModel?It.videoModel.getElement():null;return ft&&ft.onencrypted===void 0||ft&&ft.mediaKeys===void 0?mt(ft,Vn)?(Ut.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),jn(ht).create({debug:Nt,eventBus:Yt,events:It.events,api:mt(ft,Vn)})):mt(ft,$n)?(Ut.info("EME detected on this user agent! (ProtectionModel_01b)"),Hn(ht).create({debug:Nt,eventBus:Yt,errHandler:Ot,events:It.events,api:mt(ft,$n)})):(Ut.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Ut.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Gn(ht).create({debug:Nt,eventBus:Yt,events:It.events}))}(qe);return!ot&&nt&&(ot=k(ht).create({protectionModel:nt,protectionKeyController:ze,eventBus:qe.eventBus,debug:qe.debug,events:qe.events,BASE64:qe.BASE64,constants:qe.constants,cmcdModel:qe.cmcdModel,customParametersModel:qe.customParametersModel,settings:qe.settings}),qe.capabilities.setEncryptedMediaSupported(!0)),ot}}}ir.__dashjs_factory_name="Protection";var er=dashjs.FactoryMaker.getClassFactory(ir);er.events=ln,er.errors=t,dashjs.FactoryMaker.updateClassFactory(ir.__dashjs_factory_name,er);const Ar=er},2068:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b={DEFAULT:.5,STRONG:1,WEAK:0};function e(g,i,h){var _,t;return _=g===void 0?-1:g,t=function(l){var d=b.DEFAULT;return l!==b.DEFAULT&&l!==b.STRONG&&l!==b.WEAK||(d=l),d}(h),{quality:_,reason:i===void 0?null:i,priority:t}}e.__dashjs_factory_name="SwitchRequest";var n=ae.Z.getClassFactory(e);n.NO_CHANGE=-1,n.PRIORITY=b,ae.Z.updateClassFactory(e.__dashjs_factory_name,n);const S=n},1767:(tt,De,D)=>{D.d(De,{Z:()=>B});var ae=D(5628),b=D(6535),e=D(7423),n=D(895),S=D(6070),g=D(3112),i=D(1914),h=D(5435),_=D(5448),t=D(2068),l=D(3393),d="qualitySwitchRules",P="abandonFragmentRules";function F(X){X=X||{};var O,I,k=this.context,$=X.mediaPlayerModel,J=X.customParametersModel,we=X.dashMetrics,Be=X.settings;function te(Ae){return Ae.filter(function(ke){return ke.quality>t.Z.NO_CHANGE})}function st(Ae){var ke,ye,be,He,ut,et={},Te=null;if(Ae.length!==0){for(et[t.Z.PRIORITY.STRONG]={quality:t.Z.NO_CHANGE,reason:null},et[t.Z.PRIORITY.WEAK]={quality:t.Z.NO_CHANGE,reason:null},et[t.Z.PRIORITY.DEFAULT]={quality:t.Z.NO_CHANGE,reason:null},ke=0,ye=Ae.length;ke<ye;ke+=1)(be=Ae[ke]).quality!==t.Z.NO_CHANGE&&(et[be.priority].quality===t.Z.NO_CHANGE||et[be.priority].quality>be.quality)&&(et[be.priority].quality=be.quality,et[be.priority].reason=be.reason||null);return et[t.Z.PRIORITY.WEAK].quality!==t.Z.NO_CHANGE&&(Te=et[t.Z.PRIORITY.WEAK]),et[t.Z.PRIORITY.DEFAULT].quality!==t.Z.NO_CHANGE&&(Te=et[t.Z.PRIORITY.DEFAULT]),et[t.Z.PRIORITY.STRONG].quality!==t.Z.NO_CHANGE&&(Te=et[t.Z.PRIORITY.STRONG]),Te&&(He=Te.quality,ut=Te.reason),(0,t.Z)(k).create(He,ut)}}return{initialize:function(){O=[],I=[],Be.get().streaming.abr.useDefaultABRRules&&(Be.get().streaming.abr.ABRStrategy===l.Z.ABR_STRATEGY_L2A?O.push((0,i.Z)(k).create({dashMetrics:we,settings:Be})):Be.get().streaming.abr.ABRStrategy===l.Z.ABR_STRATEGY_LoLP?O.push((0,h.Z)(k).create({dashMetrics:we})):(O.push((0,g.Z)(k).create({dashMetrics:we,mediaPlayerModel:$,settings:Be})),O.push((0,ae.Z)(k).create({dashMetrics:we})),Be.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&O.push((0,b.Z)(k).create({dashMetrics:we,settings:Be})),Be.get().streaming.abr.additionalAbrRules.switchHistoryRule&&O.push((0,S.Z)(k).create()),Be.get().streaming.abr.additionalAbrRules.droppedFramesRule&&O.push((0,n.Z)(k).create()),Be.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&I.push((0,e.Z)(k).create({dashMetrics:we,mediaPlayerModel:$,settings:Be})))),J.getAbrCustomRules().forEach(function(Ae){Ae.type===d&&O.push(Ae.rule(k).create()),Ae.type===P&&I.push(Ae.rule(k).create())})},reset:function(){[O,I].forEach(function(Ae){Ae&&Ae.length&&Ae.forEach(function(ke){return ke.reset&&ke.reset()})}),O=[],I=[]},getMaxQuality:function(Ae){return st(te(O.map(function(ke){return ke.getMaxIndex(Ae)})))||(0,t.Z)(k).create()},getMinSwitchRequest:st,shouldAbandonFragment:function(Ae,ke){return st(te(I.map(function(ye){return ye.shouldAbandon(Ae,ke)})))||(0,t.Z)(k).create()},getQualitySwitchRules:function(){return O}}}F.__dashjs_factory_name="ABRRulesCollection";var j=_.Z.getClassFactory(F);j.QUALITY_SWITCH_RULES=d,j.ABANDON_FRAGMENT_RULES=P,_.Z.updateSingletonFactory(F.__dashjs_factory_name,j);const B=j},7423:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(2068),b=D(5448),e=D(6398);function n(g){g=g||{};var i,h,_,t,l,d=this.context,P=g.mediaPlayerModel,F=g.dashMetrics,j=g.settings;function B(){_={},t={},l=[]}return i={shouldAbandon:function(X){var O=(0,ae.Z)(d).create(ae.Z.NO_CHANGE,{name:n.__dashjs_factory_name});if(!(X&&X.hasOwnProperty("getMediaInfo")&&X.hasOwnProperty("getMediaType")&&X.hasOwnProperty("getCurrentRequest")&&X.hasOwnProperty("getRepresentationInfo")&&X.hasOwnProperty("getAbrController")))return O;var I,k,$=X.getMediaInfo(),J=X.getMediaType(),we=X.getStreamInfo(),Be=we?we.id:null,te=X.getCurrentRequest();if(!isNaN(te.index)){I=J,k=te.index,_[I]=_[I]||{},_[I][k]=_[I][k]||{};var st=P.getStableBufferTime();if(F.getCurrentBufferLevel(J)>st)return O;var Ae=_[J][te.index];if(Ae===null||te.firstByteDate===null||t.hasOwnProperty(Ae.id))return O;if(Ae.firstByteTime===void 0&&(l[J]=[],Ae.firstByteTime=te.firstByteDate.getTime(),Ae.segmentDuration=te.duration,Ae.bytesTotal=te.bytesTotal,Ae.id=te.index),Ae.bytesLoaded=te.bytesLoaded,Ae.elapsedTime=new Date().getTime()-Ae.firstByteTime,Ae.bytesLoaded>0&&Ae.elapsedTime>0&&function(We,lt){l[We]=l[We]||[],l[We].push(lt)}(J,Math.round(8*Ae.bytesLoaded/Ae.elapsedTime)),l[J].length>=5&&Ae.elapsedTime>500&&Ae.bytesLoaded<Ae.bytesTotal){var ke=l[J].reduce(function(We,lt){return We+lt},0);if(Ae.measuredBandwidthInKbps=Math.round(ke/l[J].length),Ae.estimatedTimeOfDownload=+(8*Ae.bytesTotal/Ae.measuredBandwidthInKbps/1e3).toFixed(2),Ae.estimatedTimeOfDownload<1.8*Ae.segmentDuration||X.getRepresentationInfo().quality===0)return O;if(!t.hasOwnProperty(Ae.id)){var ye=X.getAbrController(),be=Ae.bytesTotal-Ae.bytesLoaded,He=ye.getBitrateList($),ut=ye.getQualityForBitrate($,Ae.measuredBandwidthInKbps*j.get().streaming.abr.bandwidthSafetyFactor,Be),et=ye.getMinAllowedIndexFor(J,Be),Te=et!==void 0?Math.max(et,ut):ut;be>Ae.bytesTotal*He[Te].bitrate/He[ye.getQualityFor(J,Be)].bitrate&&(O.quality=Te,O.reason.throughput=Ae.measuredBandwidthInKbps,O.reason.fragmentID=Ae.id,O.reason.rule=this.getClassName(),t[Ae.id]=Ae,h.debug("["+J+"] frag id",Ae.id," is asking to abandon and switch to quality to ",Te," measured bandwidth was",Ae.measuredBandwidthInKbps),delete _[J][Ae.id])}}else Ae.bytesLoaded===Ae.bytesTotal&&delete _[J][Ae.id]}return O},reset:B},h=(0,e.Z)(d).getInstance().getLogger(i),B(),i}n.__dashjs_factory_name="AbandonRequestsRule";const S=b.Z.getClassFactory(n)},3112:(tt,De,D)=>{D.d(De,{Z:()=>d});var ae=D(3860),b=D(2068),e=D(5448),n=D(7855),S=D(5595),g=D(8512),i=D(6398),h=D(8825),_=D(3393),t=10;function l(P){P=P||{};var F,j,B,X=this.context,O=P.dashMetrics,I=P.mediaPlayerModel,k=(0,S.Z)(X).getInstance();function $(Te,We,lt){var xe=lt.reduce(function(de,je,f){return je>lt[de]?f:de},0);if(xe===0)return null;var Qe=Math.max(Te,t+2*We.length),ce=(lt[xe]-1)/(Qe/t-1);return{gp:ce,Vp:t/ce}}function J(Te){Te.placeholderBuffer=0,Te.mostAdvancedSegmentStart=NaN,Te.lastSegmentWasReplacement=!1,Te.lastSegmentStart=NaN,Te.lastSegmentDurationS=NaN,Te.lastSegmentRequestTimeMs=NaN,Te.lastSegmentFinishTimeMs=NaN}function we(Te,We){var lt=I.getStableBufferTime();if(Te.stableBufferTime!==lt){var xe=$(lt,Te.bitrates,Te.utilities);if(xe.Vp!==Te.Vp||xe.gp!==Te.gp){var Qe=O.getCurrentBufferLevel(We),ce=Qe+Te.placeholderBuffer;ce-=t,ce*=xe.Vp/Te.Vp,ce+=t,Te.stableBufferTime=lt,Te.Vp=xe.Vp,Te.gp=xe.gp,Te.placeholderBuffer=Math.max(0,ce-Qe)}}}function Be(Te,We){return Te.Vp*(Te.utilities[We]+Te.gp)}function te(Te,We){for(var lt=Te.bitrates[We],xe=Te.utilities[We],Qe=0,ce=We-1;ce>=0;--ce)if(Te.utilities[ce]<Te.utilities[We]){var de=Te.bitrates[ce],je=Te.utilities[ce],f=Te.Vp*(Te.gp+(lt*je-de*xe)/(lt-de));Qe=Math.max(Qe,f)}return Qe}function st(Te){var We=Te.mediaType===_.Z.AUDIO?[_.Z.AUDIO]:B;for(var lt in We)B.hasOwnProperty(lt)&&B[lt].state===2&&(B[lt].placeholderBuffer=0)}function Ae(){for(var Te in B)if(B.hasOwnProperty(Te)){var We=B[Te];We.state!==0&&(We.state=1,J(We))}}function ke(Te){if(Te&&Te.chunk&&Te.chunk.mediaInfo){var We=B[Te.chunk.mediaInfo.type];if(We&&We.state!==0){var lt=Te.chunk.start;isNaN(We.mostAdvancedSegmentStart)||lt>We.mostAdvancedSegmentStart?(We.mostAdvancedSegmentStart=lt,We.lastSegmentWasReplacement=!1):We.lastSegmentWasReplacement=!0,We.lastSegmentStart=lt,We.lastSegmentDurationS=Te.chunk.duration,We.lastQuality=Te.chunk.quality,be(We,Te.chunk.mediaInfo.type)}}}function ye(Te){if(Te&&Te.metric===ae.Z.HTTP_REQUEST&&Te.value&&Te.value.type===n.w.MEDIA_SEGMENT_TYPE&&Te.value.trace&&Te.value.trace.length){var We=B[Te.mediaType];We&&We.state!==0&&(We.lastSegmentRequestTimeMs=Te.value.trequest.getTime(),We.lastSegmentFinishTimeMs=Te.value._tfinish.getTime(),be(We,Te.mediaType))}}function be(Te,We){if(!isNaN(Te.lastSegmentStart)&&!isNaN(Te.lastSegmentRequestTimeMs)&&!isNaN(Te.placeholderBuffer)){if(Te.placeholderBuffer*=.99,!isNaN(Te.lastSegmentFinishTimeMs)){var lt=O.getCurrentBufferLevel(We)+.001*(Te.lastSegmentFinishTimeMs-Te.lastSegmentRequestTimeMs),xe=Be(Te,Te.lastQuality),Qe=Math.max(0,xe-lt);Te.placeholderBuffer=Math.min(Qe,Te.placeholderBuffer)}Te.lastSegmentWasReplacement&&!isNaN(Te.lastSegmentDurationS)&&(Te.placeholderBuffer+=Te.lastSegmentDurationS),Te.lastSegmentStart=NaN,Te.lastSegmentRequestTimeMs=NaN}}function He(Te){if(Te){var We=B[Te.mediaType];We&&We.state!==0&&(We.abrQuality=Te.newQuality)}}function ut(Te){if(Te){var We=B[Te.mediaType];if(We&&We.state!==0){var lt,xe=O.getCurrentBufferLevel(Te.mediaType);lt=We.abrQuality>0?te(We,We.abrQuality):t;var Qe=Math.max(0,lt-xe);We.placeholderBuffer=Math.min(We.placeholderBuffer,Qe)}}}function et(){B={}}return F={getMaxIndex:function(Te){var We=(0,b.Z)(X).create();if(!(Te&&Te.hasOwnProperty("getMediaInfo")&&Te.hasOwnProperty("getMediaType")&&Te.hasOwnProperty("getScheduleController")&&Te.hasOwnProperty("getStreamInfo")&&Te.hasOwnProperty("getAbrController")&&Te.hasOwnProperty("useBufferOccupancyABR")))return We;var lt=Te.getMediaInfo(),xe=Te.getMediaType(),Qe=Te.getScheduleController(),ce=Te.getStreamInfo(),de=Te.getAbrController(),je=de.getThroughputHistory(),f=ce?ce.id:null,o=ce&&ce.manifestInfo&&ce.manifestInfo.isDynamic,v=Te.useBufferOccupancyABR();if(We.reason=We.reason||{},!v)return We;Qe.setTimeToLoadDelay(0);var E=function(Ze){var $e=Ze.getMediaType(),pt=B[$e];return pt?pt.state!==0&&we(pt,$e):(pt=function(it){var wt={},Mt=it.getMediaInfo().bitrateList.map(function(vn){return vn.bandwidth}),Pt=function(vn){return vn.map(function(Ln){return Math.log(Ln)})}(Mt);Pt=Pt.map(function(vn){return vn-Pt[0]+1});var ln=I.getStableBufferTime(),mn=$(ln,Mt,Pt);return mn?(wt.state=1,wt.bitrates=Mt,wt.utilities=Pt,wt.stableBufferTime=ln,wt.Vp=mn.Vp,wt.gp=mn.gp,wt.lastQuality=0,J(wt)):wt.state=0,wt}(Ze),B[$e]=pt),pt}(Te);if(E.state===0)return We;var Q,z=O.getCurrentBufferLevel(xe),he=je.getAverageThroughput(xe,o),Ne=je.getSafeAverageThroughput(xe,o),Ce=je.getAverageLatency(xe);if(We.reason.state=E.state,We.reason.throughput=he,We.reason.latency=Ce,isNaN(he))return We;switch(E.state){case 1:Q=de.getQualityForBitrate(lt,Ne,f,Ce),We.quality=Q,We.reason.throughput=Ne,E.placeholderBuffer=Math.max(0,te(E,Q)-z),E.lastQuality=Q,!isNaN(E.lastSegmentDurationS)&&z>=E.lastSegmentDurationS&&(E.state=2);break;case 2:(function(Ze,$e){var pt=Date.now();if(isNaN(Ze.lastSegmentFinishTimeMs)){if(!isNaN(Ze.lastCallTimeMs)){var it=.001*(pt-Ze.lastCallTimeMs);Ze.placeholderBuffer+=Math.max(0,it)}}else{var wt=.001*(pt-Ze.lastSegmentFinishTimeMs);Ze.placeholderBuffer+=Math.max(0,wt)}Ze.lastCallTimeMs=pt,Ze.lastSegmentStart=NaN,Ze.lastSegmentRequestTimeMs=NaN,Ze.lastSegmentFinishTimeMs=NaN,we(Ze,$e)})(E,xe),Q=function(Ze,$e){for(var pt=Ze.bitrates.length,it=NaN,wt=NaN,Mt=0;Mt<pt;++Mt){var Pt=(Ze.Vp*(Ze.utilities[Mt]+Ze.gp)-$e)/Ze.bitrates[Mt];(isNaN(wt)||Pt>=wt)&&(wt=Pt,it=Mt)}return it}(E,z+E.placeholderBuffer);var ve=de.getQualityForBitrate(lt,Ne,f,Ce);Q>E.lastQuality&&Q>ve&&(Q=Math.max(ve,E.lastQuality));var Le=Math.max(0,z+E.placeholderBuffer-Be(E,Q));Le<=E.placeholderBuffer?(E.placeholderBuffer-=Le,Le=0):(Le-=E.placeholderBuffer,E.placeholderBuffer=0,Q<de.getMaxAllowedIndexFor(xe,f)?Qe.setTimeToLoadDelay(1e3*Le):Le=0),We.quality=Q,We.reason.throughput=he,We.reason.latency=Ce,We.reason.bufferLevel=z,We.reason.placeholderBuffer=E.placeholderBuffer,We.reason.delay=Le,E.lastQuality=Q;break;default:j.debug("BOLA ABR rule invoked in bad state."),We.quality=de.getQualityForBitrate(lt,Ne,f,Ce),We.reason.state=E.state,We.reason.throughput=Ne,We.reason.latency=Ce,E.state=1,J(E)}return We},reset:function(){et(),k.off(h.Z.BUFFER_EMPTY,st,F),k.off(h.Z.PLAYBACK_SEEKING,Ae,F),k.off(h.Z.METRIC_ADDED,ye,F),k.off(h.Z.QUALITY_CHANGE_REQUESTED,He,F),k.off(h.Z.FRAGMENT_LOADING_ABANDONED,ut,F),k.off(g.Z.MEDIA_FRAGMENT_LOADED,ke,F)}},j=(0,i.Z)(X).getInstance().getLogger(F),et(),k.on(h.Z.BUFFER_EMPTY,st,F),k.on(h.Z.PLAYBACK_SEEKING,Ae,F),k.on(h.Z.METRIC_ADDED,ye,F),k.on(h.Z.QUALITY_CHANGE_REQUESTED,He,F),k.on(h.Z.FRAGMENT_LOADING_ABANDONED,ut,F),k.on(g.Z.MEDIA_FRAGMENT_LOADED,ke,F),F}l.__dashjs_factory_name="BolaRule";const d=e.Z.getClassFactory(l)},895:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b=D(2068),e=D(6398);function n(){var g,i,h=this.context;return g={getMaxIndex:function(_){var t=(0,b.Z)(h).create();if(!_||!_.hasOwnProperty("getDroppedFramesHistory"))return t;var l=_.getDroppedFramesHistory(),d=_.getStreamInfo().id;if(l){var P=l.getFrameHistory(d);if(!P||P.length===0)return t;for(var F=0,j=0,B=b.Z.NO_CHANGE,X=1;X<P.length;X++)if(P[X]&&(F=P[X].droppedVideoFrames,(j=P[X].totalVideoFrames)>375&&F/j>.15)){B=X-1,i.debug("index: "+B+" Dropped Frames: "+F+" Total Frames: "+j);break}return(0,b.Z)(h).create(B,{droppedFrames:F})}return t}},i=(0,e.Z)(h).getInstance().getLogger(g),g}n.__dashjs_factory_name="DroppedFramesRule";const S=ae.Z.getClassFactory(n)},6535:(tt,De,D)=>{D.d(De,{Z:()=>t});var ae=D(5595),b=D(8512),e=D(5448),n=D(6398),S=D(2068),g=D(3393),i=D(3860),h=D(8825);function _(l){l=l||{};var d,P,F,j=this.context,B=(0,ae.Z)(j).getInstance(),X=l.dashMetrics;function O(){(F={})[g.Z.VIDEO]={ignoreCount:2},F[g.Z.AUDIO]={ignoreCount:2}}function I(){O()}function k($){isNaN($.startTime)||$.mediaType!==g.Z.AUDIO&&$.mediaType!==g.Z.VIDEO||F[$.mediaType].ignoreCount>0&&F[$.mediaType].ignoreCount--}return d={getMaxIndex:function($){var J=(0,S.Z)(j).create();if(!$||!$.hasOwnProperty("getMediaType"))return J;(function(){if(!X||!X.hasOwnProperty("getCurrentBufferLevel")||!X.hasOwnProperty("getCurrentBufferState"))throw new Error(g.Z.MISSING_CONFIG_ERROR)})();var we=$.getMediaType(),Be=X.getCurrentBufferState(we),te=$.getRepresentationInfo().fragmentDuration,st=$.getStreamInfo(),Ae=st?st.id:null,ke=$.getScheduleController(),ye=st&&st.manifestInfo&&st.manifestInfo.isDynamic;if(function(xe,Qe){return!xe&&F[Qe].ignoreCount>0}(ke.getPlaybackController().getLowLatencyModeEnabled(),we)||!te)return J;if(Be&&Be.state===i.Z.BUFFER_EMPTY)P.debug("["+we+"] Switch to index 0; buffer is empty."),J.quality=0,J.reason="InsufficientBufferRule: Buffer is empty";else{var be=$.getMediaInfo(),He=$.getAbrController(),ut=He.getThroughputHistory(),et=X.getCurrentBufferLevel(we),Te=ut.getAverageThroughput(we,ye),We=ut.getAverageLatency(we),lt=Te*(et/te)*.5;J.quality=He.getQualityForBitrate(be,lt,Ae,We),J.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return J},reset:function(){O(),B.off(h.Z.PLAYBACK_SEEKING,I,d),B.off(b.Z.BYTES_APPENDED_END_FRAGMENT,k,d)}},P=(0,n.Z)(j).getInstance().getLogger(d),O(),B.on(h.Z.PLAYBACK_SEEKING,I,d),B.on(b.Z.BYTES_APPENDED_END_FRAGMENT,k,d),d}_.__dashjs_factory_name="InsufficientBufferRule";const t=e.Z.getClassFactory(_)},1914:(tt,De,D)=>{D.d(De,{Z:()=>t});var ae=D(3860),b=D(2068),e=D(5448),n=D(7855),S=D(5595),g=D(8512),i=D(6398),h=D(3393);function _(l){l=l||{};var d,P,F,j,B=this.context,X=l.dashMetrics,O=(0,S.Z)(B).getInstance();function I(Ae){Ae.placeholderBuffer=0,Ae.mostAdvancedSegmentStart=NaN,Ae.lastSegmentWasReplacement=!1,Ae.lastSegmentStart=NaN,Ae.lastSegmentDurationS=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN}function k(){for(var Ae in P)if(P.hasOwnProperty(Ae)){var ke=P[Ae];ke.state!==0&&(ke.state=1,I(ke))}}function $(Ae){if(Ae&&Ae.chunk&&Ae.chunk.mediaInfo){var ke=P[Ae.chunk.mediaInfo.type],ye=F[Ae.chunk.mediaInfo.type];if(ke&&ke.state!==0){var be=Ae.chunk.start;isNaN(ke.mostAdvancedSegmentStart)||be>ke.mostAdvancedSegmentStart?(ke.mostAdvancedSegmentStart=be,ke.lastSegmentWasReplacement=!1):ke.lastSegmentWasReplacement=!0,ke.lastSegmentStart=be,ke.lastSegmentDurationS=Ae.chunk.duration,ke.lastQuality=Ae.chunk.quality,we(ke,ye)}}}function J(Ae){if(Ae&&Ae.metric===ae.Z.HTTP_REQUEST&&Ae.value&&Ae.value.type===n.w.MEDIA_SEGMENT_TYPE&&Ae.value.trace&&Ae.value.trace.length){var ke=P[Ae.mediaType],ye=F[Ae.mediaType];ke&&ke.state!==0&&(ke.lastSegmentRequestTimeMs=Ae.value.trequest.getTime(),ke.lastSegmentFinishTimeMs=Ae.value._tfinish.getTime(),we(ke,ye))}}function we(Ae,ke){isNaN(Ae.lastSegmentStart)||isNaN(Ae.lastSegmentRequestTimeMs)||(ke.segment_request_start_s=.001*Ae.lastSegmentRequestTimeMs,ke.segment_download_finish_s=.001*Ae.lastSegmentFinishTimeMs,Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN)}function Be(Ae){if(Ae&&Ae.mediaType){var ke=P[Ae.mediaType];ke&&ke.state!==0&&(ke.abrQuality=Ae.newQuality)}}function te(Ae,ke){if(Ae.length!==ke.length)return-1;for(var ye=0,be=0;be<Ae.length;be++)ye+=Ae[be]*ke[be];return ye}function st(){P={},F={}}return d={getMaxIndex:function(Ae){var ke,ye=(0,b.Z)(B).create(),be=Math.pow(4,.99),He=Math.max(Math.pow(4,1),be*Math.sqrt(4)),ut=Ae.getMediaInfo(),et=Ae.getMediaType(),Te=ut.bitrateList.map(function(ln){return ln.bandwidth}),We=Te.length,lt=Ae.getScheduleController(),xe=Ae.getStreamInfo(),Qe=Ae.getAbrController(),ce=Qe.getThroughputHistory(),de=xe&&xe.manifestInfo&&xe.manifestInfo.isDynamic,je=Ae.useL2AABR(),f=X.getCurrentBufferLevel(et,!0),o=ce.getSafeAverageThroughput(et,de),v=ce.getAverageThroughput(et,de),E=ce.getAverageLatency(et),Q=Ae.getVideoModel().getPlaybackRate();if(!(Ae&&Ae.hasOwnProperty("getMediaInfo")&&Ae.hasOwnProperty("getMediaType")&&Ae.hasOwnProperty("getScheduleController")&&Ae.hasOwnProperty("getStreamInfo")&&Ae.hasOwnProperty("getAbrController")&&Ae.hasOwnProperty("useL2AABR"))||(ye.reason=ye.reason||{},!je||et===h.Z.AUDIO))return ye;lt.setTimeToLoadDelay(0);var z=function(ln){var mn=ln.getMediaType(),vn=P[mn];return vn||(vn=function(Ln){var yn={},Rn=Ln.getMediaInfo(),Gn=Rn.bitrateList.map(function(_n){return _n.bandwidth/1e3});return yn.state=1,yn.bitrates=Gn,yn.lastQuality=0,function(_n){_n&&_n.type&&(F[_n.type]={},F[_n.type].w=[],F[_n.type].prev_w=[],F[_n.type].Q=0,F[_n.type].segment_request_start_s=0,F[_n.type].segment_download_finish_s=0,F[_n.type].B_target=1.5)}(Rn),I(yn),yn}(ln),P[mn]=vn),vn}(Ae);if(z.state===0)return ye;var he=F[et];if(!he||(ye.reason.state=z.state,ye.reason.throughput=v,ye.reason.latency=E,isNaN(v)))return ye;switch(z.state){case 1:if(ke=Qe.getQualityForBitrate(ut,o,xe.id,E),ye.quality=ke,ye.reason.throughput=o,z.lastQuality=ke,!isNaN(z.lastSegmentDurationS)&&f>=he.B_target){z.state=2,he.Q=be;for(var Ne=0;Ne<We;++Ne)Ne===z.lastQuality?he.prev_w[Ne]=1:he.prev_w[Ne]=0}break;case 2:var Ce=[],ve=X.getCurrentHttpRequest(et).trace.reduce(function(ln,mn){return ln+mn.d},0),Le=X.getCurrentHttpRequest(et).trace.reduce(function(ln,mn){return ln+mn.b[0]},0),Ze=Math.round(8*Le/ve);Ze<1&&(Ze=1);for(var $e=z.lastSegmentDurationS,pt=1,it=0;it<We;++it)Te[it]=Te[it]/1e3,Q*Te[it]>Ze&&(pt=-1),he.w[it]=he.prev_w[it]+pt*($e/(2*He))*((he.Q+be)*(Q*Te[it]/Ze));he.w=function(ln){for(var mn=ln.length,vn=!1,Ln=[],yn=0;yn<mn;++yn)Ln[yn]=ln[yn];for(var Rn=ln.sort(function($n,Vn){return Vn-$n}),Gn=0,_n=0,jn=[],Zn=0;Zn<mn-1;++Zn)if((_n=((Gn+=Rn[Zn])-1)/(Zn+1))>=Rn[Zn+1]){vn=!0;break}vn||(_n=(Gn+Rn[mn-1]-1)/mn);for(var Hn=0;Hn<mn;++Hn)jn[Hn]=Math.max(Ln[Hn]-_n,0);return jn}(he.w);for(var wt=0;wt<We;++wt)Ce[wt]=he.w[wt]-he.prev_w[wt],he.prev_w[wt]=he.w[wt];he.Q=Math.max(0,he.Q-$e+$e*Q*((te(Te,he.prev_w)+te(Te,Ce))/Ze));for(var Mt=[],Pt=0;Pt<We;++Pt)Mt[Pt]=Math.abs(Te[Pt]-te(he.w,Te));(ke=Mt.indexOf(Math.min.apply(Math,Mt)))>z.lastQuality&&Te[z.lastQuality+1]<=Ze&&(ke=z.lastQuality+1),Te[ke]>=Ze&&(he.Q=2*Math.max(be,he.Q)),ye.quality=ke,ye.reason.throughput=v,ye.reason.latency=E,ye.reason.bufferLevel=f,z.lastQuality=ye.quality;break;default:j.debug("L2A ABR rule invoked in bad state."),ye.quality=Qe.getQualityForBitrate(ut,o,xe.id,E),ye.reason.state=z.state,ye.reason.throughput=o,ye.reason.latency=E,z.state=1,I(z)}return ye},reset:function(){st(),O.off(g.Z.PLAYBACK_SEEKING,k,d),O.off(g.Z.MEDIA_FRAGMENT_LOADED,$,d),O.off(g.Z.METRIC_ADDED,J,d),O.off(g.Z.QUALITY_CHANGE_REQUESTED,Be,d)}},j=(0,i.Z)(B).getInstance().getLogger(d),st(),O.on(g.Z.PLAYBACK_SEEKING,k,d),O.on(g.Z.MEDIA_FRAGMENT_LOADED,$,d),O.on(g.Z.METRIC_ADDED,J,d),O.on(g.Z.QUALITY_CHANGE_REQUESTED,Be,d),d}_.__dashjs_factory_name="L2ARule";const t=e.Z.getClassFactory(_)},6070:(tt,De,D)=>{D.d(De,{Z:()=>S});var ae=D(5448),b=D(6398),e=D(2068);function n(){var g,i,h=this.context;return g={getMaxIndex:function(_){for(var t=_?_.getSwitchHistory():null,l=t?t.getSwitchRequests():[],d=0,P=0,F=0,j=(0,e.Z)(h).create(),B=0;B<l.length;B++)if(l[B]!==void 0&&(d+=l[B].drops,P+=l[B].noDrops,F+=l[B].dropSize,d+P>=6&&d/P>.075)){j.quality=B>0&&l[B].drops>0?B-1:B,j.reason={index:j.quality,drops:d,noDrops:P,dropSize:F},i.debug("Switch history rule index: "+j.quality+" samples: "+(d+P)+" drops: "+d);break}return j}},i=(0,b.Z)(h).getInstance().getLogger(g),g}n.__dashjs_factory_name="SwitchHistoryRule";const S=ae.Z.getClassFactory(n)},5628:(tt,De,D)=>{D.d(De,{Z:()=>g});var ae=D(5448),b=D(2068),e=D(3393),n=D(3860);function S(i){i=i||{};var h=this.context,_=i.dashMetrics;return{getMaxIndex:function(t){var l=(0,b.Z)(h).create();if(!(t&&t.hasOwnProperty("getMediaInfo")&&t.hasOwnProperty("getMediaType")&&t.hasOwnProperty("useBufferOccupancyABR")&&t.hasOwnProperty("getAbrController")&&t.hasOwnProperty("getScheduleController")))return l;(function(){if(!_||!_.hasOwnProperty("getCurrentBufferState"))throw new Error(e.Z.MISSING_CONFIG_ERROR)})();var d=t.getMediaInfo(),P=t.getMediaType(),F=_.getCurrentBufferState(P),j=t.getScheduleController(),B=t.getAbrController(),X=t.getStreamInfo(),O=X?X.id:null,I=X&&X.manifestInfo?X.manifestInfo.isDynamic:null,k=B.getThroughputHistory(),$=k.getSafeAverageThroughput(P,I),J=k.getAverageLatency(P),we=t.useBufferOccupancyABR();return isNaN($)||!F||we||B.getAbandonmentStateFor(O,P)!==n.Z.ABANDON_LOAD&&(F.state===n.Z.BUFFER_LOADED||I)&&(l.quality=B.getQualityForBitrate(d,$,O,J),j.setTimeToLoadDelay(0),l.reason={throughput:$,latency:J}),l},reset:function(){}}}S.__dashjs_factory_name="ThroughputRule";const g=ae.Z.getClassFactory(S)},4722:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(5448),b=D(6398);function e(){var S,g,i,h,_,t,l,d,P,F=this.context;function j(){i=null,h=1,_=100,t=0,l=null,d=null,P="dynamic_weight_selection"}function B(){var $=0;if(i)for(var J=0;J<i.length;J++){var we=i[J];we.state.throughput>$&&($=we.state.throughput)}return $}function X($,J,we){var Be=$.map(function(te,st){return we[st]*Math.pow(te-J[st],2)}).reduce(function(te,st){return te+st});return(Be<0?-1:1)*Math.sqrt(Math.abs(Be))}function O($,J){return X([$.state.throughput,$.state.latency,$.state.rebuffer,$.state.switch],[J.state.throughput,J.state.latency,J.state.rebuffer,J.state.switch],[1,1,1,1])}function I($,J,we){for(var Be=0;Be<J.length;Be++){var te=J[Be],st=O(te,$);k(te,we,Math.exp(-1*Math.pow(st,2)/(2*Math.pow(.1,2))))}}function k($,J,we){var Be=$.state,te=[.01,.01,.01,.01];Be.throughput=Be.throughput+(J[0]-Be.throughput)*te[0]*we,Be.latency=Be.latency+(J[1]-Be.latency)*te[1]*we,Be.rebuffer=Be.rebuffer+(J[2]-Be.rebuffer)*te[2]*we,Be.switch=Be.switch+(J[3]-Be.switch)*te[3]*we}return S={getNextQuality:function($,J,we,Be,te,st,Ae){var ke=we,ye=Be,be=J,He=function(he){if(!i){i=[];var Ne=he.bitrateList,Ce=[];t=Ne[0].bandwidth,Ne.forEach(function($e){Ce.push($e.bandwidth),$e.bandwidth<t&&(t=$e.bandwidth)}),Ze=Ce.map(function($e){return Math.pow($e,2)}).reduce(function($e,pt){return $e+pt}),h=Math.sqrt(Ze);for(var ve=0;ve<Ne.length;ve++){var Le={qualityIndex:ve,bitrate:Ne[ve].bandwidth,state:{throughput:Ne[ve].bandwidth/h,latency:0,rebuffer:0,switch:0}};i.push(Le)}d=function($e){var pt=[],it=function(vt){for(var ht=[],mt=0;mt<vt;mt++){var qe=[Math.random()*B(),Math.random(),Math.random(),Math.random()];ht.push(qe)}return ht}(Math.pow($e.length,2));pt.push(it[0]);for(var wt=[1,1,1,1],Mt=1;Mt<$e.length;Mt++){for(var Pt=null,ln=null,mn=0;mn<it.length;mn++){for(var vn=it[mn],Ln=null,yn=0;yn<pt.length;yn++){var Rn=X(vn,pt[yn],wt);(Ln===null||Rn<Ln)&&(Ln=Rn)}(ln===null||Ln>ln)&&(Pt=vn,ln=Ln)}pt.push(Pt)}for(var Gn=null,_n=null,jn=0;jn<pt.length;jn++){for(var Zn=0,Hn=0;Hn<pt.length;Hn++)jn!==Hn&&(Zn+=X(pt[jn],pt[Hn],wt));(Gn===null||Zn>Gn)&&(Gn=Zn,_n=jn)}var $n=[];for($n.push(pt[_n]),pt.splice(_n,1);pt.length>0;){for(var Vn=null,ir=null,er=0;er<pt.length;er++){var Ar=X($n[0],pt[er],wt);(Vn===null||Ar<Vn)&&(Vn=Ar,ir=er)}$n.push(pt[ir]),pt.splice(ir,1)}return $n}(i)}var Ze;return i}($),ut=J/h;ut>1&&(ut=B()),we/=_,g.debug("getNextQuality called throughput:".concat(ut," latency:").concat(we," bufferSize:").concat(Be," currentQualityIndex:").concat(st," playbackRate:").concat(te));var et=He[st],Te=et.bitrate*Ae.getSegmentDuration()/be,We=Math.max(0,Te-ye);if(ye-Te<Ae.getMinBuffer())return g.debug("Buffer is low for bitrate= ".concat(et.bitrate," downloadTime=").concat(Te," currentBuffer=").concat(ye," rebuffer=").concat(We)),function(he,Ne){var Ce=0,ve=he;if(i)for(var Le=0;Le<i.length;Le++){var Ze=i[Le];Ze.bitrate<he.bitrate&&Ze.bitrate>Ce&&Ne>Ze.bitrate&&(Ce=Ze.bitrate,ve=Ze)}return ve}(et,be).qualityIndex;switch(P){case"manual_weight_selection":l=[.4,.4,.4,.4];break;case"random_weight_selection":(function(he){l=function(Ne,Ce){for(var ve=[],Le=Math.sqrt(2/Ne),Ze=0;Ze<4;Ze++)ve.push(Math.random()*Le);return l=ve}(he.length)})(He);break;default:(function(he,Ne,Ce,ve,Le,Ze,$e){l||(l=d[d.length-1]);var pt=he.findWeightVector(Ne,Ce,ve,Le,Ze,$e);pt!==null&&pt!==-1&&(l=pt)})(Ae,He,ke,ye,We,be,te)}for(var lt=null,xe=null,Qe=null,ce=0;ce<He.length;ce++){var de=He[ce],je=de.state,f=[je.throughput,je.latency,je.rebuffer,je.switch],o=l.slice(),v=Ae.getNextBufferWithBitrate(de.bitrate,ye,be),E=v<Ae.getMinBuffer();E&&g.debug("Buffer is low for bitrate=".concat(de.bitrate," downloadTime=").concat(Te," currentBuffer=").concat(ye," nextBuffer=").concat(v)),(de.bitrate>J-1e4||E)&&de.bitrate!==t&&(o[0]=100);var Q=X(f,[ut,0,0,0],o);(lt===null||Q<lt)&&(lt=Q,xe=de.qualityIndex,Qe=de)}var z=Math.abs(et.bitrate-Qe.bitrate)/h;return I(et,He,[ut,we,We,z]),I(Qe,He,[ut,0,0,z]),xe},reset:function(){j()}},g=(0,b.Z)(F).getInstance().getLogger(S),j(),S}e.__dashjs_factory_name="LearningAbrController";const n=ae.Z.getClassFactory(e)},5317:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(5448),b=D(2298);function e(){var S,g,i,h,_;function t(){g=null,i=null,h=null,_=null}function l(P,F,j,B){var X=new b.Z;return X.type=P,X.weights.bitrateReward=F||1,X.weights.bitrateSwitchPenalty=1,X.weights.rebufferPenalty=j||1e3,X.weights.latencyPenalty=[],X.weights.latencyPenalty.push({threshold:1.1,penalty:.05*B}),X.weights.latencyPenalty.push({threshold:1e8,penalty:.1*j}),X.weights.playbackSpeedPenalty=B||200,X}function d(P,F,j,B,X){X.bitrateWSum+=X.weights.bitrateReward*P,X.lastBitrate&&(X.bitrateSwitchWSum+=X.weights.bitrateSwitchPenalty*Math.abs(P-X.lastBitrate)),X.lastBitrate=P,X.rebufferWSum+=X.weights.rebufferPenalty*F;for(var O=0;O<X.weights.latencyPenalty.length;O++){var I=X.weights.latencyPenalty[O];if(j<=I.threshold){X.latencyWSum+=I.penalty*j;break}}X.playbackSpeedWSum+=X.weights.playbackSpeedPenalty*Math.abs(1-B),X.totalQoe=X.bitrateWSum-X.bitrateSwitchWSum-X.rebufferWSum-X.latencyWSum-X.playbackSpeedWSum}return S={setupPerSegmentQoe:function(P,F,j){g=l("segment",P,F,j),i=P,h=F,_=j},logSegmentMetrics:function(P,F,j,B){g&&d(P,F,j,B,g)},getPerSegmentQoe:function(){return g},calculateSingleUseQoe:function(P,F,j,B){var X=null;return i&&h&&_&&(X=l("segment",i,h,_)),X?(d(P,F,j,B,X),X.totalQoe):0},reset:function(){t()}},t(),S}e.__dashjs_factory_name="LoLpQoeEvaluator";const n=ae.Z.getClassFactory(e)},5435:(tt,De,D)=>{D.d(De,{Z:()=>t});var ae=D(6398),b=D(5448),e=D(4722),n=D(5317),S=D(2068),g=D(3860),i=D(6523),h=D(3393);function _(l){var d,P,F,j,B=(l=l||{}).dashMetrics,X=this.context;return P={getMaxIndex:function(O){try{var I=(0,S.Z)(X).create(),k=O.getMediaInfo().type,$=O.getAbrController(),J=O.getStreamInfo(),we=$.getQualityFor(k,J.id),Be=O.getMediaInfo(),te=B.getCurrentBufferState(k),st=O.getScheduleController(),Ae=B.getCurrentBufferLevel(k,!0),ke=J&&J.manifestInfo?J.manifestInfo.isDynamic:null,ye=st.getPlaybackController(),be=ye.getCurrentLiveLatency();if(!O.useLoLPABR()||k===h.Z.AUDIO)return I;be||(be=0);var He=ye.getPlaybackRate(),ut=$.getThroughputHistory().getSafeAverageThroughput(k,ke);if(d.debug("Throughput ".concat(Math.round(ut)," kbps")),isNaN(ut)||!te||$.getAbandonmentStateFor(J.id,k)===g.Z.ABANDON_LOAD)return I;for(var et=Be.bitrateList,Te=O.getRepresentationInfo().fragmentDuration,We=et[0].bandwidth/1e3,lt=et[et.length-1].bandwidth/1e3,xe=0;xe<et.length;xe++){var Qe=et[xe].bandwidth/1e3;Qe>lt?lt=Qe:Qe<We&&(We=Qe)}var ce=et[we].bandwidth/1e3,de=B.getCurrentHttpRequest(k,!0),je=(de.tresponse.getTime()-de.trequest.getTime())/1e3,f=je>Te?je-Te:0;j.setupPerSegmentQoe(Te,lt,We),j.logSegmentMetrics(ce,f,be,He);var o=(0,i.Z)(X).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Te,qoeEvaluator:j});return I.quality=F.getNextQuality(Be,1e3*ut,be,Ae,He,we,o),I.reason={throughput:ut,latency:be},I.priority=S.Z.PRIORITY.STRONG,st.setTimeToLoadDelay(0),I.quality!==we&&console.log("[TgcLearningRule]["+k+"] requesting switch to index: ",I.quality,"Average throughput",Math.round(ut),"kbps"),I}catch(v){throw v}},reset:function(){F.reset(),j.reset()}},d=(0,ae.Z)(X).getInstance().getLogger(P),F=(0,e.Z)(X).create(),j=(0,n.Z)(X).create(),P}_.__dashjs_factory_name="LoLPRule";const t=b.Z.getClassFactory(_)},6523:(tt,De,D)=>{D.d(De,{Z:()=>e});var ae=D(5448);function b(n){var S,g,i,h,_=n.targetLatency,t=n.bufferMin,l=n.segmentDuration,d=n.qoeEvaluator;function P(){return l}function F(j,B){var X=P();return B>X?j-X:j+X-B}return S={getMinBuffer:function(){return t},getSegmentDuration:P,getNextBufferWithBitrate:function(j,B,X){return F(B,j*l/X)},getNextBuffer:F,findWeightVector:function(j,B,X,O,I,k){var $=null,J=null,we=null,Be=Math.abs(B-i);return j.forEach(function(te){g.forEach(function(st){st[0];var Ae=st[1],ke=st[2],ye=(st[3],te.bitrate*l/I),be=F(X,ye),He=(ke===0?10:1/ke)*Math.max(1e-5,ye-be),ut=(Ae===0?10:1/Ae)*te.state.latency,et=d.calculateSingleUseQoe(te.bitrate,He,ut,k);($===null||et>$)&&function(Te,We,lt){return!(Te>_+lt)&&We>=t}(B,be,Be)&&($=et,J=st,we=te.bitrate)})}),J===null&&we===null&&(J=-1),i=B,J}},g=function j(B,X,O){if(O===X)return B;for(var I=B.length,k=0;k<I;k++)for(var $=B.shift(),J=0;J<h.length;J++)B.push($.concat(h[J]));return j(B,X,O+1)}((h=[.2,.4,.6,.8,1]).map(function(j){return[j]}),4,1),i=0,S}b.__dashjs_factory_name="LoLpWeightSelector";const e=ae.Z.getClassFactory(b)},2298:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function b(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,b),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(tt,De,D)=>{D.d(De,{Y:()=>l,Z:()=>P});var ae=D(3393),b=D(1553),e=D(5448),n=D(2128),S=D(2594),g=D(7387),i=D(7417),h=D(9032),_=D(9326),t=D(7802),l=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function d(F){var j,B,X,O,I,k,$,J,we=this.context,Be=F.adapter,te=F.baseURLController,st=F.streamInfo,Ae=F.timelineConverter,ke=F.debug,ye=F.eventBus,be=F.events,He=F.dashConstants,ut=(0,S.Z)(we).getInstance();function et(We,lt){var xe=new n.Z;xe.id=We.id,xe.bitrate=We.bandwidth,xe.width=We.width,xe.height=We.height,xe.tilesHor=1,xe.tilesVert=1,We.essentialProperties&&We.essentialProperties.forEach(function(Qe){if(l.indexOf(Qe.schemeIdUri)>=0&&Qe.value){var ce=Qe.value.split("x");ce.length!==2||isNaN(ce[0])||isNaN(ce[1])||(xe.tilesHor=parseInt(ce[0],10),xe.tilesVert=parseInt(ce[1],10))}}),lt?k.updateSegmentData(We).then(function(Qe){(function(ce,de,je){var f=[],o=function(v,E){var Q,z,he,Ne,Ce=[],ve=0;for(Q=0,z=v.segments.length;Q<z;Q++)he=v.segments[Q],(Ne=(0,g.TJ)(Ae,Be.getIsDynamic(),E,he.startTime,he.duration,he.timescale,he.media,he.mediaRange,ve))&&(Ce.push(Ne),Ne=null,ve++);return Ce}(je,de);de.segments=o,ce.segmentDuration=de.segments[0].duration,ce.readThumbnail=function(v,E){var Q=null;f.some(function(z){if(z.start<=v&&z.end>v)return Q=z.url,!0}),Q?E(Q):de.segments.some(function(z){if(z.mediaStartTime<=v&&z.mediaStartTime+z.duration>v){var he=te.resolve(de.path);return $.load({method:"get",url:he.url,request:{range:z.mediaRange,responseType:"arraybuffer"},onload:function(Ne){var Ce=J.getSamplesInfo(Ne.target.response),ve=new Blob([Ne.target.response.slice(Ce.sampleList[0].offset,Ce.sampleList[0].offset+Ce.sampleList[0].size)],{type:"image/jpeg"}),Le=window.URL.createObjectURL(ve);f.push({start:z.mediaStartTime,end:z.mediaStartTime+z.duration,url:Le}),E&&E(Le)}}),!0}})}})(xe,We,Qe)}):(xe.startNumber=We.startNumber,xe.segmentDuration=We.segmentDuration,xe.timescale=We.timescale,xe.templateUrl=function(Qe){var ce=ut.isRelative(Qe.media)?ut.resolve(Qe.media,te.resolve(Qe.path).url):Qe.media;return ce?(0,g.Aj)(ce,Qe.id):""}(We)),xe.tilesHor>0&&xe.tilesVert>0&&(xe.widthPerTile=xe.width/xe.tilesHor,xe.heightPerTile=xe.height/xe.tilesVert,B.push(xe))}function Te(){B=[],O=-1,I=null}return j={getTracks:function(){return B},addTracks:function(){if(st&&Be&&(I=Be.getMediaInfoForType(st,ae.Z.IMAGE))){var We=Be.getVoRepresentations(I);We&&We.length>0&&We.forEach(function(lt){(lt.segmentInfoType===b.Z.SEGMENT_TEMPLATE&&lt.segmentDuration>0&&lt.media||lt.segmentInfoType===b.Z.SEGMENT_TIMELINE)&&et(lt),lt.segmentInfoType===b.Z.SEGMENT_BASE&&et(lt,!0)}),B.length>0&&B.sort(function(lt,xe){return lt.bitrate-xe.bitrate})}},reset:Te,setTrackByIndex:function(We){B&&B.length!==0&&(We>=B.length&&(We=B.length-1),O=We)},getCurrentTrack:function(){return O<0?null:B[O]},getCurrentTrackIndex:function(){return O},getThumbnailRequestForTime:function(We){for(var lt,xe=Be.getVoRepresentations(I),Qe=0;Qe<xe.length;Qe++)if(B[O].id===xe[Qe].id){lt=xe[Qe];break}return X.getSegmentRequestForTime(I,lt,We)}},Te(),$=(0,h.Z)(we).create({}),J=(0,i.Z)(we).getInstance(),k=(0,t.Z)(we).create({events:be,eventBus:ye,streamInfo:st,timelineConverter:Ae,dashConstants:He,dashMetrics:F.dashMetrics,segmentBaseController:F.segmentBaseController,type:ae.Z.IMAGE}),(X=(0,_.Z)(we).create({streamInfo:st,type:ae.Z.IMAGE,timelineConverter:Ae,segmentsController:k,baseURLController:te,debug:ke,eventBus:ye,events:be,dashConstants:He,urlUtils:ut})).initialize(!!Be&&Be.getIsDynamic()),j}d.__dashjs_factory_name="ThumbnailTracks";const P=e.Z.getClassFactory(d)},7417:(tt,De,D)=>{D.d(De,{Z:()=>i});var ae=D(6398),b=D(8260),e=D(5448),n=D(6934),S=D(9597);function g(){var h,_,t=this.context;function l(F){if(!F)return null;F.fileStart===void 0&&(F.fileStart=0);var j=n.parseBuffer(F),B=(0,b.Z)(t).create();return B.setData(j),B}function d(F,j){return F[j+3]>>>0|F[j+2]<<8>>>0|F[j+1]<<16>>>0|F[j]<<24>>>0}function P(F,j){return String.fromCharCode(F[j++])+String.fromCharCode(F[j++])+String.fromCharCode(F[j++])+String.fromCharCode(F[j])}return _={parse:l,findLastTopIsoBoxCompleted:function(F,j,B){if(B===void 0&&(B=0),!j||B+8>=j.byteLength)return new S.Z(0,!1);for(var X,O=j instanceof ArrayBuffer?new Uint8Array(j):j,I=0;B<O.byteLength;){var k=d(O,B),$=P(O,B+4);if(k===0)break;B+k<=O.byteLength&&(F.indexOf($)>=0?X=new S.Z(B,!0,k):I=B+k),B+=k}return X||new S.Z(I,!1)},getMediaTimescaleFromMoov:function(F){var j=l(F),B=j?j.getBox("mdhd"):void 0;return B?B.timescale:NaN},getSamplesInfo:function(F){if(!F||F.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var j,B,X,O,I,k,$,J,we,Be,te,st,Ae,ke,ye,be,He=l(F),ut=He.getBoxes("moof"),et=He.getBoxes("mfhd");ye=He.getBoxes("moof").length,ke=et[et.length-1].sequence_number,B=0,I=[];var Te=-1,We=-1;for(Be=0;Be<ut.length;Be++){var lt=ut[Be],xe=lt.getChildBoxes("traf");for(J=0;J<xe.length;J++){var Qe=xe[J],ce=Qe.getChildBox("tfhd"),de=Qe.getChildBox("tfdt");O=de.baseMediaDecodeTime;var je=Qe.getChildBoxes("trun"),f=Qe.getChildBoxes("subs");for(we=0;we<je.length;we++){var o=je[we];for(B=o.sample_count,Ae=(ce.base_data_offset||0)+(o.data_offset||0),$=0;$<B;$++){j=(k=o.samples[$]).sample_duration!==void 0?k.sample_duration:ce.default_sample_duration,X=k.sample_size!==void 0?k.sample_size:ce.default_sample_size;var v={dts:O,cts:O+(k.sample_composition_time_offset!==void 0?k.sample_composition_time_offset:0),duration:j,offset:lt.offset+Ae,size:X,subSizes:[X]};if(f)for(te=0;te<f.length;te++){var E=f[te];if(Te<E.entry_count-1&&$>We&&(Te++,We+=E.entries[Te].sample_delta),$==We){v.subSizes=[];var Q=E.entries[Te];for(st=0;st<Q.subsample_count;st++)v.subSizes.push(Q.subsamples[st].subsample_size)}}I.push(v),Ae+=X,O+=j}}be=O-de.baseMediaDecodeTime}}return{sampleList:I,lastSequenceNumber:ke,totalDuration:be,numSequences:ye}},findInitRange:function(F){var j=null,B=l(F);if(!B)return j;var X=B.getBox("ftyp"),O=B.getBox("moov");return h.debug("Searching for initialization."),O&&O.isComplete&&(j=(X?X.offset:O.offset)+"-"+(O.offset+O.size-1),h.debug("Found the initialization.  Range: "+j)),j},parsePayload:function(F,j,B){if(B===void 0&&(B=0),!j||B+8>=j.byteLength)return new S.Z(0,!1);for(var X,O=j instanceof ArrayBuffer?new Uint8Array(j):j,I=0;B<O.byteLength;){var k=d(O,B),$=P(O,B+4);if(k===0)break;B+k<=O.byteLength&&(F.indexOf($)>=0?X=new S.Z(B,!0,k,$):I=B+k),B+=k}return X||new S.Z(I,!1)}},h=(0,ae.Z)(t).getInstance().getLogger(_),_}g.__dashjs_factory_name="BoxParser";const i=e.Z.getSingletonFactory(g)},1715:(tt,De,D)=>{D.d(De,{B:()=>S,Z:()=>i});var ae=D(5448),b=D(7803),e=D(3393),n=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function S(){var h="WebKitMediaSource"in window,_="MediaSource"in window;return h||_}function g(){var h,_,t;return h={setConfig:function(l){l&&l.settings&&(_=l.settings)},supportsMediaSource:S,supportsEncryptedMedia:function(){return t},supportsCodec:function(l,d){return d!==e.Z.AUDIO&&d!==e.Z.VIDEO?Promise.resolve(!0):function(P,F){return _.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(P.codec&&F===e.Z.AUDIO||F===e.Z.VIDEO&&P.codec&&P.width&&P.height&&P.bitrate&&P.framerate)}(l,d)?function(P,F){return new Promise(function(j){if(P&&P.codec){var B={type:"media-source"};B[F]={},B[F].contentType=P.codec,B[F].width=P.width,B[F].height=P.height,B[F].bitrate=parseInt(P.bitrate),B[F].framerate=parseFloat(P.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(X){j(X.supported)}).catch(function(){j(!1)})}else j(!1)})}(l,d):function(P){return new Promise(function(F){if(P&&P.codec){var j=P.codec;P.width&&P.height&&(j+=';width="'+P.width+'";height="'+P.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(j)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(j)?F(!0):F(!1)}else F(!1)})}(l)},setEncryptedMediaSupported:function(l){t=l},supportsEssentialProperty:function(l){try{return b.Y.indexOf(l.schemeIdUri)!==-1}catch{return!0}},codecRootCompatibleWithCodec:function(l,d){for(var P,F=l.split(".")[0],j=d.indexOf(F)===0,B=0;B<n.length;B++)if(n[B].codec===F){P=n[B];break}return P?j||P.compatibleCodecs.some(function(X){return d.indexOf(X)===0}):j}},t=!1,h}g.__dashjs_factory_name="Capabilities";const i=ae.Z.getSingletonFactory(g)},2295:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(5448),b=D(3106);function e(){return{customTimeRangeArray:[],length:0,add:function(S,g){var i;for(i=0;i<this.customTimeRangeArray.length&&S>this.customTimeRangeArray[i].start;i++);for(this.customTimeRangeArray.splice(i,0,{start:S,end:g}),i=0;i<this.customTimeRangeArray.length-1;i++)this.mergeRanges(i,i+1)&&i--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(S,g){for(var i=0;i<this.customTimeRangeArray.length;i++)if(S<=this.customTimeRangeArray[i].start&&g>=this.customTimeRangeArray[i].end)this.customTimeRangeArray.splice(i,1),i--;else{if(S>this.customTimeRangeArray[i].start&&g<this.customTimeRangeArray[i].end){this.customTimeRangeArray.splice(i+1,0,{start:g,end:this.customTimeRangeArray[i].end}),this.customTimeRangeArray[i].end=S;break}S>this.customTimeRangeArray[i].start&&S<this.customTimeRangeArray[i].end?this.customTimeRangeArray[i].end=S:g>this.customTimeRangeArray[i].start&&g<this.customTimeRangeArray[i].end&&(this.customTimeRangeArray[i].start=g)}this.length=this.customTimeRangeArray.length},mergeRanges:function(S,g){var i=this.customTimeRangeArray[S],h=this.customTimeRangeArray[g];return i.start<=h.start&&h.start<=i.end&&i.end<=h.end?(i.end=h.end,this.customTimeRangeArray.splice(g,1),!0):h.start<=i.start&&i.start<=h.end&&h.end<=i.end?(i.start=h.start,this.customTimeRangeArray.splice(g,1),!0):h.start<=i.start&&i.start<=h.end&&i.end<=h.end?(this.customTimeRangeArray.splice(S,1),!0):i.start<=h.start&&h.start<=i.end&&h.end<=i.end&&(this.customTimeRangeArray.splice(g,1),!0)},start:function(S){return(0,b.SE)(S),S>=this.customTimeRangeArray.length||S<0?NaN:this.customTimeRangeArray[S].start},end:function(S){return(0,b.SE)(S),S>=this.customTimeRangeArray.length||S<0?NaN:this.customTimeRangeArray[S].end}}}e.__dashjs_factory_name="CustomTimeRanges";const n=ae.Z.getClassFactory(e)},5:(tt,De,D)=>{D.d(De,{Z:()=>e});var ae=D(5448);function b(){var n,S=/^[a-z][a-z0-9+\-_.]*:/i,g=/^https?:\/\//i,i=/^https:\/\//i,h=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,_=function(X,O){try{return new window.URL(X,O).toString()}catch{return X}},t=function(X,O){var I=l;if(!O||!F(X))return X;j(X)&&(I=d),B(X)&&(I=P);var k=I(O),$=k.charAt(k.length-1)!=="/"&&X.charAt(0)!=="/"?"/":"";return[k,X].join($)};function l(X){var O=X.indexOf("/"),I=X.lastIndexOf("/");return O!==-1?I===O+1?X:(X.indexOf("?")!==-1&&(X=X.substring(0,X.indexOf("?"))),X.substring(0,I+1)):""}function d(X){var O=X.match(h);return O?O[1]:""}function P(X){var O=X.match(S);return O?O[0]:""}function F(X){return!S.test(X)}function j(X){return F(X)&&X.charAt(0)==="/"}function B(X){return X.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),n=_}catch{}finally{n=n||t}}(),{parseBaseUrl:l,parseOrigin:d,parseScheme:P,isRelative:F,isPathAbsolute:j,isSchemeRelative:B,isHTTPURL:function(X){return g.test(X)},isHTTPS:function(X){return i.test(X)},removeHostname:function(X){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(X)[2].substring(1)},resolve:function(X,O){return n(X,O)}}}b.__dashjs_factory_name="DefaultURLUtils";const e=ae.Z.getSingletonFactory(b)},8260:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(2839),b=D(5448);function e(){var S;function g(h){var _=[];if(!h||!S||typeof S.fetchAll!="function")return _;for(var t,l=S.fetchAll(h),d=0,P=l.length;d<P;d++)(t=i(l[d]))&&_.push(t);return _}function i(h){if(!h)return null;var _=new ae.Z(h);return h.hasOwnProperty("_incomplete")&&(_.isComplete=!h._incomplete),_}return{getBox:function(h){return h&&S&&S.boxes&&S.boxes.length!==0&&typeof S.fetch=="function"?i(S.fetch(h)):null},getBoxes:g,setData:function(h){S=h},getLastBox:function(){if(!S||!S.boxes||!S.boxes.length)return null;var h=g(S.boxes[S.boxes.length-1].type);return h.length>0?h[h.length-1]:null}}}e.__dashjs_factory_name="IsoFile";const n=b.Z.getClassFactory(e)},7473:(tt,De,D)=>{D.d(De,{Z:()=>n,k:()=>b});var ae=D(5448);function b(S,g){var i={url:S.url,method:S.method,headers:Object.assign({},S.headers),credentials:S.withCredentials?"include":void 0};return Promise.resolve(g.modifyRequest(i)).then(function(){return Object.assign(S,i,{withCredentials:i.credentials==="include"})})}function e(){return{modifyRequest:null,modifyRequestURL:function(S){return S},modifyRequestHeader:function(S,g){return g.url,S}}}e.__dashjs_factory_name="RequestModifier";const n=ae.Z.getSingletonFactory(e)},3106:(tt,De,D)=>{D.d(De,{PS:()=>e,SE:()=>n});var ae=D(3393);function b(S){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},b(S)}function e(S,g){if(b(S)!==g)throw ae.Z.BAD_ARGUMENT_ERROR}function n(S){if(S===null||isNaN(S)||S%1!=0)throw ae.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(5448),b=D(5);function e(){var S,g=[],i=this.context;function h(_,t,l){var d=function(P){var F;for(F=0;F<g.length;F++)if(g[F].regex.test(P))return g[F].utils;return S}(l||t);return d&&typeof d[_]=="function"?d[_](t,l):S[_](t,l)}return S=(0,b.Z)(i).getInstance(),{registerUrlRegex:function(_,t){g.push({regex:_,utils:t})},parseBaseUrl:function(_){return h("parseBaseUrl",_)},parseOrigin:function(_){return h("parseOrigin",_)},parseScheme:function(_){return h("parseScheme",_)},isRelative:function(_){return h("isRelative",_)},isPathAbsolute:function(_){return h("isPathAbsolute",_)},isSchemeRelative:function(_){return h("isSchemeRelative",_)},isHTTPURL:function(_){return h("isHTTPURL",_)},isHTTPS:function(_){return h("isHTTPS",_)},removeHostname:function(_){return h("removeHostname",_)},resolve:function(_,t){return h("resolve",_,t)}}}e.__dashjs_factory_name="URLUtils";const n=ae.Z.getSingletonFactory(e)},5459:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function b(e,n,S){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,b),this.code=e||null,this.message=n||null,this.data=S||null}},3186:(tt,De,D)=>{D.d(De,{Z:()=>n});var ae=D(7855);function b(S,g){for(var i=0;i<g.length;i++){var h=g[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}var e=function(){function S(h){(function(_,t){if(!(_ instanceof t))throw new TypeError("Cannot call a class as a function")})(this,S),this.action=S.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=h||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var g,i;return g=S,(i=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ae.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(h){this.type=h&&h.init?ae.w.INIT_SEGMENT_TYPE:ae.w.MEDIA_SEGMENT_TYPE,this.url=h&&h.url?h.url:null,this.range=h&&h.range?h.range.start+"-"+h.range.end:null,this.mediaType=h&&h.mediaType?h.mediaType:null}}])&&b(g.prototype,i),S}();e.ACTION_DOWNLOAD="download",e.ACTION_COMPLETE="complete";const n=e},2839:(tt,De,D)=>{function ae(e,n){for(var S=0;S<n.length;S++){var g=n[S];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(e,g.key,g)}}D.d(De,{Z:()=>b});const b=function(){function e(g){if(function(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=g._offset,this.type=g.type,this.size=g.size,this.boxes=[],g.boxes)for(var i=0;i<g.boxes.length;i++)this.boxes.push(new e(g.boxes[i]));switch(this.isComplete=!0,g.type){case"sidx":if(this.timescale=g.timescale,this.earliest_presentation_time=g.earliest_presentation_time,this.first_offset=g.first_offset,this.references=g.references,g.references){this.references=[];for(var h=0;h<g.references.length;h++){var _={reference_type:g.references[h].reference_type,referenced_size:g.references[h].referenced_size,subsegment_duration:g.references[h].subsegment_duration};this.references.push(_)}}break;case"emsg":this.id=g.id,this.version=g.version===1?1:0,this.value=g.value,this.timescale=g.timescale,this.scheme_id_uri=g.scheme_id_uri,this.presentation_time_delta=g.version===1?g.presentation_time:g.presentation_time_delta,this.event_duration=g.event_duration,this.message_data=g.message_data;break;case"mdhd":this.timescale=g.timescale;break;case"mfhd":this.sequence_number=g.sequence_number;break;case"subs":this.entry_count=g.entry_count,this.entries=g.entries;break;case"tfhd":this.base_data_offset=g.base_data_offset,this.sample_description_index=g.sample_description_index,this.default_sample_duration=g.default_sample_duration,this.default_sample_size=g.default_sample_size,this.default_sample_flags=g.default_sample_flags,this.flags=g.flags;break;case"tfdt":this.version=g.version,this.baseMediaDecodeTime=g.baseMediaDecodeTime,this.flags=g.flags;break;case"trun":if(this.sample_count=g.sample_count,this.first_sample_flags=g.first_sample_flags,this.data_offset=g.data_offset,this.flags=g.flags,this.samples=g.samples,g.samples){this.samples=[];for(var t=0,l=g.samples.length;t<l;t++){var d={sample_size:g.samples[t].sample_size,sample_duration:g.samples[t].sample_duration,sample_composition_time_offset:g.samples[t].sample_composition_time_offset};this.samples.push(d)}}break;case"prft":this.version=g.version,this.reference_track_ID=g.reference_track_ID,this.ntp_timestamp_sec=g.ntp_timestamp_sec,this.ntp_timestamp_frac=g.ntp_timestamp_frac,this.media_time=g.media_time,this.flags=g.flags}}var n,S;return n=e,(S=[{key:"getChildBox",value:function(g){for(var i=0;i<this.boxes.length;i++)if(this.boxes[i].type===g)return this.boxes[i]}},{key:"getChildBoxes",value:function(g){for(var i=[],h=0;h<this.boxes.length;h++)this.boxes[h].type===g&&i.push(this.boxes[h]);return i}}])&&ae(n.prototype,S),e}()},9597:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function b(e,n,S){(function(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")})(this,b),this.lastCompletedOffset=e,this.found=n,this.size=S}},2128:(tt,De,D)=>{D.d(De,{Z:()=>ae});const ae=function b(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,b),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(tt,De,D)=>{function ae(n,S){if(!(n instanceof S))throw new TypeError("Cannot call a class as a function")}D.d(De,{O:()=>e,w:()=>b});var b=function n(){ae(this,n),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},e=function n(){ae(this,n),this.s=null,this.d=null,this.b=[]};b.GET="GET",b.HEAD="HEAD",b.MPD_TYPE="MPD",b.XLINK_EXPANSION_TYPE="XLinkExpansion",b.INIT_SEGMENT_TYPE="InitializationSegment",b.INDEX_SEGMENT_TYPE="IndexSegment",b.MEDIA_SEGMENT_TYPE="MediaSegment",b.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",b.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",b.DVB_REPORTING_TYPE="DVBReporting",b.LICENSE="license",b.CONTENT_STEERING_TYPE="ContentSteering",b.OTHER_TYPE="other"},3039:(tt,De)=>{function D(b,e){return function(n,S){for(var g,i,h,_=ae(n,"tag"),t=ae(S??"*","range"),l=[],d=-1;++d<t.length;)if(g=t[d].toLowerCase(),e||g!=="*"){for(i=-1,h=[];++i<_.length;)if(b(_[i].toLowerCase(),g)){if(!e)return _[i];l.push(_[i])}else h.push(_[i]);_=h}return e?l:void 0}}function ae(b,e){var n=b&&typeof b=="string"?[b]:b;if(!n||typeof n!="object"||!("length"in n))throw new Error("Invalid "+e+" `"+n+"`, expected non-empty string");return n}De.basicFilter=D(function(b,e){return e==="*"||b===e||b.indexOf(e+"-")>-1},!0),De.extendedFilter=D(function(b,e){var n=b.split("-"),S=e.split("-"),g=0,i=0;if(S[i]!=="*"&&n[g]!==S[i])return!1;for(g++,i++;i<S.length;)if(S[i]!=="*"){if(!n[g])return!1;if(n[g]!==S[i]){if(n[g].length===1)return!1;g++}else g++,i++}else i++;return!0},!0),De.lookup=D(function(b,e){for(var n,S=e;;){if(S==="*"||b===S)return!0;if((n=S.lastIndexOf("-"))<0)return!1;S.charAt(n-2)==="-"&&(n-=2),S=S.slice(0,n)}})},3973:(tt,De,D)=>{tt.exports=D(3854)},3854:(tt,De,D)=>{var ae=D(2415),b=D(3039),e=D(7778),n=D(5813),S=D(3165),g=D(9460);tt.exports=function(F,j){var B,X=j||{},O=ae.parse(String(F||"").toLowerCase(),X),I=ae.stringify(O),k=-1;if(!I)return I;for(;++k<e.length;)b.extendedFilter(I,e[k].from).length&&(t(O,e[k].from,e[k].to),I=ae.stringify(O));for(k=-1;++k<n.length;)l(O,n[k].from.field,n[k].from.value)&&d(O,n[k].to.field,n[k].to.value);for(I=ae.stringify(Object.assign({},O,_)),k=-1;++k<S.length;)I===S[k]&&(t(O,S[k],S[k].split("-").slice(0,-1).join("-")),I=ae.stringify(Object.assign({},O,_)));if(O.extensions.sort(P),X.warning)for(B in g)i.call(g[B],O[B])&&X.warning("Deprecated "+B+" `"+O[B]+"`, expected one of `"+g[B][O[B]].join("`, `")+"`",null,7);return O.script&&(O.script=O.script.charAt(0).toUpperCase()+O.script.slice(1)),O.region&&(O.region=O.region.toUpperCase()),ae.stringify(O)};var i={}.hasOwnProperty,h=new Intl.Collator,_={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function t(F,j,B){var X,O=ae.parse(j),I=ae.parse(B),k=[];for(X in O)O[X]&&O[X].length&&l(F,X,O[X])&&k.push(X);for(X in I)I[X]&&I[X].length&&(k.indexOf(X)>-1||!F[X]||!F[X].length)&&d(F,X,I[X])}function l(F,j,B){var X,O,I,k,$=!1;if(B){if(O=X=F[j],X&&typeof X=="object")for(O=[],I=-1;++I<X.length;)k=X[I],B.indexOf(k)<0?O.push(k):$=!0;else X===B&&(O=null,$=!0);F[j]=O}return $}function d(F,j,B){var X,O,I,k=F[j];if(k&&typeof k=="object")for(X=[].concat(B),O=-1;++O<X.length;)I=X[O],k.indexOf(I)<0&&k.push(I);else F[j]=B}function P(F,j){return h.compare(F.singleton,j.singleton)}},2415:(tt,De,D)=>{De.parse=D(6903),De.stringify=D(6713)},6903:(tt,De,D)=>{var ae=D(2219),b=D(3516),e=D(395),n=D(858),S=D(8589);tt.exports=function i(h,_){var t,l,d,P=_||{},F={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},j=String(h),B=j.toLowerCase(),X=0;if(h==null)throw new Error("Expected string, got `"+h+"`");if(g.call(S,B))return(P.normalize==null||P.normalize)&&S[B]?i(S[B]):(F[n.indexOf(B)===-1?"irregular":"regular"]=j,F);for(;b(B.charCodeAt(X))&&X<9;)X++;if(X>1&&X<9){if(F.language=j.slice(0,X),X<4)for(l=0;B.charCodeAt(X)===45&&b(B.charCodeAt(X+1))&&b(B.charCodeAt(X+2))&&b(B.charCodeAt(X+3))&&!b(B.charCodeAt(X+4));){if(l>2)return O(X,3,"Too many extended language subtags, expected at most 3 subtags");F.extendedLanguageSubtags.push(j.slice(X+1,X+4)),X+=4,l++}for(B.charCodeAt(X)===45&&b(B.charCodeAt(X+1))&&b(B.charCodeAt(X+2))&&b(B.charCodeAt(X+3))&&b(B.charCodeAt(X+4))&&!b(B.charCodeAt(X+5))&&(F.script=j.slice(X+1,X+5),X+=5),B.charCodeAt(X)===45&&(b(B.charCodeAt(X+1))&&b(B.charCodeAt(X+2))&&!b(B.charCodeAt(X+3))?(F.region=j.slice(X+1,X+3),X+=3):e(B.charCodeAt(X+1))&&e(B.charCodeAt(X+2))&&e(B.charCodeAt(X+3))&&!e(B.charCodeAt(X+4))&&(F.region=j.slice(X+1,X+4),X+=4));B.charCodeAt(X)===45;){for(d=t=X+1;ae(B.charCodeAt(d));){if(d-t>7)return O(d,1,"Too long variant, expected at most 8 characters");d++}if(!(d-t>4||d-t>3&&e(B.charCodeAt(t))))break;F.variants.push(j.slice(t,d)),X=d}for(;B.charCodeAt(X)===45&&B.charCodeAt(X+1)!==120&&ae(B.charCodeAt(X+1))&&B.charCodeAt(X+2)===45&&ae(B.charCodeAt(X+3));){for(d=X+2,l=0;B.charCodeAt(d)===45&&ae(B.charCodeAt(d+1))&&ae(B.charCodeAt(d+2));)for(d=(t=d+1)+2,l++;ae(B.charCodeAt(d));){if(d-t>7)return O(d,2,"Too long extension, expected at most 8 characters");d++}if(!l)return O(d,4,"Empty extension, extensions must have at least 2 characters of content");F.extensions.push({singleton:j.charAt(X+1),extensions:j.slice(X+3,d).split("-")}),X=d}}else X=0;if(X===0&&B.charCodeAt(X)===120||B.charCodeAt(X)===45&&B.charCodeAt(X+1)===120)for(d=X=X?X+2:1;B.charCodeAt(d)===45&&ae(B.charCodeAt(d+1));){for(d=t=X+1;ae(B.charCodeAt(d));){if(d-t>7)return O(d,5,"Too long private-use area, expected at most 8 characters");d++}F.privateuse.push(j.slice(X+1,d)),X=d}return X!==j.length?O(X,6,"Found superfluous content after tag"):F;function O(I,k,$){return P.warning&&P.warning($,k,I),P.forgiving?F:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var g={}.hasOwnProperty},6713:tt=>{tt.exports=function(De){var D,ae,b,e=De||{},n=[];if(e.irregular||e.regular)return e.irregular||e.regular;if(e.language)for(n=n.concat(e.language,e.extendedLanguageSubtags||[],e.script||[],e.region||[],e.variants||[]),D=e.extensions||[],ae=-1;++ae<D.length;)(b=D[ae]).singleton&&b.extensions&&b.extensions.length&&(n=n.concat(b.singleton,b.extensions));return e.privateuse&&e.privateuse.length&&(n=n.concat("x",e.privateuse)),n.join("-")}},1549:(tt,De,D)=>{var ae=D(6693),b=D(2165),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;De.Buffer=g,De.SlowBuffer=function(f){return+f!=f&&(f=0),g.alloc(+f)},De.INSPECT_MAX_BYTES=50;var n=2147483647;function S(f){if(f>n)throw new RangeError('The value "'+f+'" is invalid for option "size"');var o=new Uint8Array(f);return Object.setPrototypeOf(o,g.prototype),o}function g(f,o,v){if(typeof f=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(f)}return i(f,o,v)}function i(f,o,v){if(typeof f=="string")return function(z,he){if(typeof he=="string"&&he!==""||(he="utf8"),!g.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var Ne=0|P(z,he),Ce=S(Ne),ve=Ce.write(z,he);return ve!==Ne&&(Ce=Ce.slice(0,ve)),Ce}(f,o);if(ArrayBuffer.isView(f))return function(z){if(ce(z,Uint8Array)){var he=new Uint8Array(z);return l(he.buffer,he.byteOffset,he.byteLength)}return t(z)}(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(ce(f,ArrayBuffer)||f&&ce(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(f,SharedArrayBuffer)||f&&ce(f.buffer,SharedArrayBuffer)))return l(f,o,v);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var E=f.valueOf&&f.valueOf();if(E!=null&&E!==f)return g.from(E,o,v);var Q=function(z){if(g.isBuffer(z)){var he=0|d(z.length),Ne=S(he);return Ne.length===0||z.copy(Ne,0,0,he),Ne}return z.length!==void 0?typeof z.length!="number"||de(z.length)?S(0):t(z):z.type==="Buffer"&&Array.isArray(z.data)?t(z.data):void 0}(f);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return g.from(f[Symbol.toPrimitive]("string"),o,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function h(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function _(f){return h(f),S(f<0?0:0|d(f))}function t(f){for(var o=f.length<0?0:0|d(f.length),v=S(o),E=0;E<o;E+=1)v[E]=255&f[E];return v}function l(f,o,v){if(o<0||f.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<o+(v||0))throw new RangeError('"length" is outside of buffer bounds');var E;return E=o===void 0&&v===void 0?new Uint8Array(f):v===void 0?new Uint8Array(f,o):new Uint8Array(f,o,v),Object.setPrototypeOf(E,g.prototype),E}function d(f){if(f>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|f}function P(f,o){if(g.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||ce(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var v=f.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&v===0)return 0;for(var Q=!1;;)switch(o){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return lt(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*v;case"hex":return v>>>1;case"base64":return xe(f).length;default:if(Q)return E?-1:lt(f).length;o=(""+o).toLowerCase(),Q=!0}}function F(f,o,v){var E=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0)<=(o>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return ke(this,o,v);case"utf8":case"utf-8":return Be(this,o,v);case"ascii":return st(this,o,v);case"latin1":case"binary":return Ae(this,o,v);case"base64":return we(this,o,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,o,v);default:if(E)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),E=!0}}function j(f,o,v){var E=f[o];f[o]=f[v],f[v]=E}function B(f,o,v,E,Q){if(f.length===0)return-1;if(typeof v=="string"?(E=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),de(v=+v)&&(v=Q?0:f.length-1),v<0&&(v=f.length+v),v>=f.length){if(Q)return-1;v=f.length-1}else if(v<0){if(!Q)return-1;v=0}if(typeof o=="string"&&(o=g.from(o,E)),g.isBuffer(o))return o.length===0?-1:X(f,o,v,E,Q);if(typeof o=="number")return o&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(f,o,v):Uint8Array.prototype.lastIndexOf.call(f,o,v):X(f,[o],v,E,Q);throw new TypeError("val must be string, number or Buffer")}function X(f,o,v,E,Q){var z,he=1,Ne=f.length,Ce=o.length;if(E!==void 0&&((E=String(E).toLowerCase())==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(f.length<2||o.length<2)return-1;he=2,Ne/=2,Ce/=2,v/=2}function ve(pt,it){return he===1?pt[it]:pt.readUInt16BE(it*he)}if(Q){var Le=-1;for(z=v;z<Ne;z++)if(ve(f,z)===ve(o,Le===-1?0:z-Le)){if(Le===-1&&(Le=z),z-Le+1===Ce)return Le*he}else Le!==-1&&(z-=z-Le),Le=-1}else for(v+Ce>Ne&&(v=Ne-Ce),z=v;z>=0;z--){for(var Ze=!0,$e=0;$e<Ce;$e++)if(ve(f,z+$e)!==ve(o,$e)){Ze=!1;break}if(Ze)return z}return-1}function O(f,o,v,E){v=Number(v)||0;var Q=f.length-v;E?(E=Number(E))>Q&&(E=Q):E=Q;var z=o.length;E>z/2&&(E=z/2);for(var he=0;he<E;++he){var Ne=parseInt(o.substr(2*he,2),16);if(de(Ne))return he;f[v+he]=Ne}return he}function I(f,o,v,E){return Qe(lt(o,f.length-v),f,v,E)}function k(f,o,v,E){return Qe(function(Q){for(var z=[],he=0;he<Q.length;++he)z.push(255&Q.charCodeAt(he));return z}(o),f,v,E)}function $(f,o,v,E){return Qe(xe(o),f,v,E)}function J(f,o,v,E){return Qe(function(Q,z){for(var he,Ne,Ce,ve=[],Le=0;Le<Q.length&&!((z-=2)<0);++Le)Ne=(he=Q.charCodeAt(Le))>>8,Ce=he%256,ve.push(Ce),ve.push(Ne);return ve}(o,f.length-v),f,v,E)}function we(f,o,v){return o===0&&v===f.length?ae.fromByteArray(f):ae.fromByteArray(f.slice(o,v))}function Be(f,o,v){v=Math.min(f.length,v);for(var E=[],Q=o;Q<v;){var z,he,Ne,Ce,ve=f[Q],Le=null,Ze=ve>239?4:ve>223?3:ve>191?2:1;if(Q+Ze<=v)switch(Ze){case 1:ve<128&&(Le=ve);break;case 2:(192&(z=f[Q+1]))==128&&(Ce=(31&ve)<<6|63&z)>127&&(Le=Ce);break;case 3:z=f[Q+1],he=f[Q+2],(192&z)==128&&(192&he)==128&&(Ce=(15&ve)<<12|(63&z)<<6|63&he)>2047&&(Ce<55296||Ce>57343)&&(Le=Ce);break;case 4:z=f[Q+1],he=f[Q+2],Ne=f[Q+3],(192&z)==128&&(192&he)==128&&(192&Ne)==128&&(Ce=(15&ve)<<18|(63&z)<<12|(63&he)<<6|63&Ne)>65535&&Ce<1114112&&(Le=Ce)}Le===null?(Le=65533,Ze=1):Le>65535&&(Le-=65536,E.push(Le>>>10&1023|55296),Le=56320|1023&Le),E.push(Le),Q+=Ze}return function($e){var pt=$e.length;if(pt<=te)return String.fromCharCode.apply(String,$e);for(var it="",wt=0;wt<pt;)it+=String.fromCharCode.apply(String,$e.slice(wt,wt+=te));return it}(E)}De.kMaxLength=n,g.TYPED_ARRAY_SUPPORT=function(){try{var f=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(f,o),f.foo()===42}catch{return!1}}(),g.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(f,o,v){return i(f,o,v)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(f,o,v){return function(E,Q,z){return h(E),E<=0?S(E):Q!==void 0?typeof z=="string"?S(E).fill(Q,z):S(E).fill(Q):S(E)}(f,o,v)},g.allocUnsafe=function(f){return _(f)},g.allocUnsafeSlow=function(f){return _(f)},g.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==g.prototype},g.compare=function(f,o){if(ce(f,Uint8Array)&&(f=g.from(f,f.offset,f.byteLength)),ce(o,Uint8Array)&&(o=g.from(o,o.offset,o.byteLength)),!g.isBuffer(f)||!g.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===o)return 0;for(var v=f.length,E=o.length,Q=0,z=Math.min(v,E);Q<z;++Q)if(f[Q]!==o[Q]){v=f[Q],E=o[Q];break}return v<E?-1:E<v?1:0},g.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(f,o){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return g.alloc(0);var v;if(o===void 0)for(o=0,v=0;v<f.length;++v)o+=f[v].length;var E=g.allocUnsafe(o),Q=0;for(v=0;v<f.length;++v){var z=f[v];if(ce(z,Uint8Array))Q+z.length>E.length?g.from(z).copy(E,Q):Uint8Array.prototype.set.call(E,z,Q);else{if(!g.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(E,Q)}Q+=z.length}return E},g.byteLength=P,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<f;o+=2)j(this,o,o+1);return this},g.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<f;o+=4)j(this,o,o+3),j(this,o+1,o+2);return this},g.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<f;o+=8)j(this,o,o+7),j(this,o+1,o+6),j(this,o+2,o+5),j(this,o+3,o+4);return this},g.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?Be(this,0,f):F.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(f){if(!g.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||g.compare(this,f)===0},g.prototype.inspect=function(){var f="",o=De.INSPECT_MAX_BYTES;return f=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(f+=" ... "),"<Buffer "+f+">"},e&&(g.prototype[e]=g.prototype.inspect),g.prototype.compare=function(f,o,v,E,Q){if(ce(f,Uint8Array)&&(f=g.from(f,f.offset,f.byteLength)),!g.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(o===void 0&&(o=0),v===void 0&&(v=f?f.length:0),E===void 0&&(E=0),Q===void 0&&(Q=this.length),o<0||v>f.length||E<0||Q>this.length)throw new RangeError("out of range index");if(E>=Q&&o>=v)return 0;if(E>=Q)return-1;if(o>=v)return 1;if(this===f)return 0;for(var z=(Q>>>=0)-(E>>>=0),he=(v>>>=0)-(o>>>=0),Ne=Math.min(z,he),Ce=this.slice(E,Q),ve=f.slice(o,v),Le=0;Le<Ne;++Le)if(Ce[Le]!==ve[Le]){z=Ce[Le],he=ve[Le];break}return z<he?-1:he<z?1:0},g.prototype.includes=function(f,o,v){return this.indexOf(f,o,v)!==-1},g.prototype.indexOf=function(f,o,v){return B(this,f,o,v,!0)},g.prototype.lastIndexOf=function(f,o,v){return B(this,f,o,v,!1)},g.prototype.write=function(f,o,v,E){if(o===void 0)E="utf8",v=this.length,o=0;else if(v===void 0&&typeof o=="string")E=o,v=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(v)?(v>>>=0,E===void 0&&(E="utf8")):(E=v,v=void 0)}var Q=this.length-o;if((v===void 0||v>Q)&&(v=Q),f.length>0&&(v<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var z=!1;;)switch(E){case"hex":return O(this,f,o,v);case"utf8":case"utf-8":return I(this,f,o,v);case"ascii":case"latin1":case"binary":return k(this,f,o,v);case"base64":return $(this,f,o,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,f,o,v);default:if(z)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),z=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var te=4096;function st(f,o,v){var E="";v=Math.min(f.length,v);for(var Q=o;Q<v;++Q)E+=String.fromCharCode(127&f[Q]);return E}function Ae(f,o,v){var E="";v=Math.min(f.length,v);for(var Q=o;Q<v;++Q)E+=String.fromCharCode(f[Q]);return E}function ke(f,o,v){var E=f.length;(!o||o<0)&&(o=0),(!v||v<0||v>E)&&(v=E);for(var Q="",z=o;z<v;++z)Q+=je[f[z]];return Q}function ye(f,o,v){for(var E=f.slice(o,v),Q="",z=0;z<E.length-1;z+=2)Q+=String.fromCharCode(E[z]+256*E[z+1]);return Q}function be(f,o,v){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+o>v)throw new RangeError("Trying to access beyond buffer length")}function He(f,o,v,E,Q,z){if(!g.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>Q||o<z)throw new RangeError('"value" argument is out of bounds');if(v+E>f.length)throw new RangeError("Index out of range")}function ut(f,o,v,E,Q,z){if(v+E>f.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function et(f,o,v,E,Q){return o=+o,v>>>=0,Q||ut(f,0,v,4),b.write(f,o,v,E,23,4),v+4}function Te(f,o,v,E,Q){return o=+o,v>>>=0,Q||ut(f,0,v,8),b.write(f,o,v,E,52,8),v+8}g.prototype.slice=function(f,o){var v=this.length;(f=~~f)<0?(f+=v)<0&&(f=0):f>v&&(f=v),(o=o===void 0?v:~~o)<0?(o+=v)<0&&(o=0):o>v&&(o=v),o<f&&(o=f);var E=this.subarray(f,o);return Object.setPrototypeOf(E,g.prototype),E},g.prototype.readUintLE=g.prototype.readUIntLE=function(f,o,v){f>>>=0,o>>>=0,v||be(f,o,this.length);for(var E=this[f],Q=1,z=0;++z<o&&(Q*=256);)E+=this[f+z]*Q;return E},g.prototype.readUintBE=g.prototype.readUIntBE=function(f,o,v){f>>>=0,o>>>=0,v||be(f,o,this.length);for(var E=this[f+--o],Q=1;o>0&&(Q*=256);)E+=this[f+--o]*Q;return E},g.prototype.readUint8=g.prototype.readUInt8=function(f,o){return f>>>=0,o||be(f,1,this.length),this[f]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(f,o){return f>>>=0,o||be(f,2,this.length),this[f]|this[f+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(f,o){return f>>>=0,o||be(f,2,this.length),this[f]<<8|this[f+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(f,o){return f>>>=0,o||be(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(f,o){return f>>>=0,o||be(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},g.prototype.readIntLE=function(f,o,v){f>>>=0,o>>>=0,v||be(f,o,this.length);for(var E=this[f],Q=1,z=0;++z<o&&(Q*=256);)E+=this[f+z]*Q;return E>=(Q*=128)&&(E-=Math.pow(2,8*o)),E},g.prototype.readIntBE=function(f,o,v){f>>>=0,o>>>=0,v||be(f,o,this.length);for(var E=o,Q=1,z=this[f+--E];E>0&&(Q*=256);)z+=this[f+--E]*Q;return z>=(Q*=128)&&(z-=Math.pow(2,8*o)),z},g.prototype.readInt8=function(f,o){return f>>>=0,o||be(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},g.prototype.readInt16LE=function(f,o){f>>>=0,o||be(f,2,this.length);var v=this[f]|this[f+1]<<8;return 32768&v?4294901760|v:v},g.prototype.readInt16BE=function(f,o){f>>>=0,o||be(f,2,this.length);var v=this[f+1]|this[f]<<8;return 32768&v?4294901760|v:v},g.prototype.readInt32LE=function(f,o){return f>>>=0,o||be(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},g.prototype.readInt32BE=function(f,o){return f>>>=0,o||be(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},g.prototype.readFloatLE=function(f,o){return f>>>=0,o||be(f,4,this.length),b.read(this,f,!0,23,4)},g.prototype.readFloatBE=function(f,o){return f>>>=0,o||be(f,4,this.length),b.read(this,f,!1,23,4)},g.prototype.readDoubleLE=function(f,o){return f>>>=0,o||be(f,8,this.length),b.read(this,f,!0,52,8)},g.prototype.readDoubleBE=function(f,o){return f>>>=0,o||be(f,8,this.length),b.read(this,f,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(f,o,v,E){f=+f,o>>>=0,v>>>=0,E||He(this,f,o,v,Math.pow(2,8*v)-1,0);var Q=1,z=0;for(this[o]=255&f;++z<v&&(Q*=256);)this[o+z]=f/Q&255;return o+v},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(f,o,v,E){f=+f,o>>>=0,v>>>=0,E||He(this,f,o,v,Math.pow(2,8*v)-1,0);var Q=v-1,z=1;for(this[o+Q]=255&f;--Q>=0&&(z*=256);)this[o+Q]=f/z&255;return o+v},g.prototype.writeUint8=g.prototype.writeUInt8=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,1,255,0),this[o]=255&f,o+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,2,65535,0),this[o]=255&f,this[o+1]=f>>>8,o+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,2,65535,0),this[o]=f>>>8,this[o+1]=255&f,o+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,4,4294967295,0),this[o+3]=f>>>24,this[o+2]=f>>>16,this[o+1]=f>>>8,this[o]=255&f,o+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,4,4294967295,0),this[o]=f>>>24,this[o+1]=f>>>16,this[o+2]=f>>>8,this[o+3]=255&f,o+4},g.prototype.writeIntLE=function(f,o,v,E){if(f=+f,o>>>=0,!E){var Q=Math.pow(2,8*v-1);He(this,f,o,v,Q-1,-Q)}var z=0,he=1,Ne=0;for(this[o]=255&f;++z<v&&(he*=256);)f<0&&Ne===0&&this[o+z-1]!==0&&(Ne=1),this[o+z]=(f/he>>0)-Ne&255;return o+v},g.prototype.writeIntBE=function(f,o,v,E){if(f=+f,o>>>=0,!E){var Q=Math.pow(2,8*v-1);He(this,f,o,v,Q-1,-Q)}var z=v-1,he=1,Ne=0;for(this[o+z]=255&f;--z>=0&&(he*=256);)f<0&&Ne===0&&this[o+z+1]!==0&&(Ne=1),this[o+z]=(f/he>>0)-Ne&255;return o+v},g.prototype.writeInt8=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,1,127,-128),f<0&&(f=255+f+1),this[o]=255&f,o+1},g.prototype.writeInt16LE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,2,32767,-32768),this[o]=255&f,this[o+1]=f>>>8,o+2},g.prototype.writeInt16BE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,2,32767,-32768),this[o]=f>>>8,this[o+1]=255&f,o+2},g.prototype.writeInt32LE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,4,2147483647,-2147483648),this[o]=255&f,this[o+1]=f>>>8,this[o+2]=f>>>16,this[o+3]=f>>>24,o+4},g.prototype.writeInt32BE=function(f,o,v){return f=+f,o>>>=0,v||He(this,f,o,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[o]=f>>>24,this[o+1]=f>>>16,this[o+2]=f>>>8,this[o+3]=255&f,o+4},g.prototype.writeFloatLE=function(f,o,v){return et(this,f,o,!0,v)},g.prototype.writeFloatBE=function(f,o,v){return et(this,f,o,!1,v)},g.prototype.writeDoubleLE=function(f,o,v){return Te(this,f,o,!0,v)},g.prototype.writeDoubleBE=function(f,o,v){return Te(this,f,o,!1,v)},g.prototype.copy=function(f,o,v,E){if(!g.isBuffer(f))throw new TypeError("argument should be a Buffer");if(v||(v=0),E||E===0||(E=this.length),o>=f.length&&(o=f.length),o||(o=0),E>0&&E<v&&(E=v),E===v||f.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),f.length-o<E-v&&(E=f.length-o+v);var Q=E-v;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,v,E):Uint8Array.prototype.set.call(f,this.subarray(v,E),o),Q},g.prototype.fill=function(f,o,v,E){if(typeof f=="string"){if(typeof o=="string"?(E=o,o=0,v=this.length):typeof v=="string"&&(E=v,v=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!g.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(f.length===1){var Q=f.charCodeAt(0);(E==="utf8"&&Q<128||E==="latin1")&&(f=Q)}}else typeof f=="number"?f&=255:typeof f=="boolean"&&(f=Number(f));if(o<0||this.length<o||this.length<v)throw new RangeError("Out of range index");if(v<=o)return this;var z;if(o>>>=0,v=v===void 0?this.length:v>>>0,f||(f=0),typeof f=="number")for(z=o;z<v;++z)this[z]=f;else{var he=g.isBuffer(f)?f:g.from(f,E),Ne=he.length;if(Ne===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(z=0;z<v-o;++z)this[z+o]=he[z%Ne]}return this};var We=/[^+/0-9A-Za-z-_]/g;function lt(f,o){var v;o=o||1/0;for(var E=f.length,Q=null,z=[],he=0;he<E;++he){if((v=f.charCodeAt(he))>55295&&v<57344){if(!Q){if(v>56319){(o-=3)>-1&&z.push(239,191,189);continue}if(he+1===E){(o-=3)>-1&&z.push(239,191,189);continue}Q=v;continue}if(v<56320){(o-=3)>-1&&z.push(239,191,189),Q=v;continue}v=65536+(Q-55296<<10|v-56320)}else Q&&(o-=3)>-1&&z.push(239,191,189);if(Q=null,v<128){if((o-=1)<0)break;z.push(v)}else if(v<2048){if((o-=2)<0)break;z.push(v>>6|192,63&v|128)}else if(v<65536){if((o-=3)<0)break;z.push(v>>12|224,v>>6&63|128,63&v|128)}else{if(!(v<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;z.push(v>>18|240,v>>12&63|128,v>>6&63|128,63&v|128)}}return z}function xe(f){return ae.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(We,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(f))}function Qe(f,o,v,E){for(var Q=0;Q<E&&!(Q+v>=o.length||Q>=f.length);++Q)o[Q+v]=f[Q];return Q}function ce(f,o){return f instanceof o||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===o.name}function de(f){return f!=f}var je=function(){for(var f="0123456789abcdef",o=new Array(256),v=0;v<16;++v)for(var E=16*v,Q=0;Q<16;++Q)o[E+Q]=f[v]+f[Q];return o}()},6693:(tt,De)=>{De.byteLength=function(h){var _=g(h),t=_[0],l=_[1];return 3*(t+l)/4-l},De.toByteArray=function(h){var _,t,l=g(h),d=l[0],P=l[1],F=new b(function(X,O,I){return 3*(O+I)/4-I}(0,d,P)),j=0,B=P>0?d-4:d;for(t=0;t<B;t+=4)_=ae[h.charCodeAt(t)]<<18|ae[h.charCodeAt(t+1)]<<12|ae[h.charCodeAt(t+2)]<<6|ae[h.charCodeAt(t+3)],F[j++]=_>>16&255,F[j++]=_>>8&255,F[j++]=255&_;return P===2&&(_=ae[h.charCodeAt(t)]<<2|ae[h.charCodeAt(t+1)]>>4,F[j++]=255&_),P===1&&(_=ae[h.charCodeAt(t)]<<10|ae[h.charCodeAt(t+1)]<<4|ae[h.charCodeAt(t+2)]>>2,F[j++]=_>>8&255,F[j++]=255&_),F},De.fromByteArray=function(h){for(var _,t=h.length,l=t%3,d=[],P=16383,F=0,j=t-l;F<j;F+=P)d.push(i(h,F,F+P>j?j:F+P));return l===1?(_=h[t-1],d.push(D[_>>2]+D[_<<4&63]+"==")):l===2&&(_=(h[t-2]<<8)+h[t-1],d.push(D[_>>10]+D[_>>4&63]+D[_<<2&63]+"=")),d.join("")};for(var D=[],ae=[],b=typeof Uint8Array<"u"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,S=e.length;n<S;++n)D[n]=e[n],ae[e.charCodeAt(n)]=n;function g(h){var _=h.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=h.indexOf("=");return t===-1&&(t=_),[t,t===_?0:4-t%4]}function i(h,_,t){for(var l,d,P=[],F=_;F<t;F+=3)l=(h[F]<<16&16711680)+(h[F+1]<<8&65280)+(255&h[F+2]),P.push(D[(d=l)>>18&63]+D[d>>12&63]+D[d>>6&63]+D[63&d]);return P.join("")}ae["-".charCodeAt(0)]=62,ae["_".charCodeAt(0)]=63},2165:(tt,De)=>{De.read=function(D,ae,b,e,n){var S,g,i=8*n-e-1,h=(1<<i)-1,_=h>>1,t=-7,l=b?n-1:0,d=b?-1:1,P=D[ae+l];for(l+=d,S=P&(1<<-t)-1,P>>=-t,t+=i;t>0;S=256*S+D[ae+l],l+=d,t-=8);for(g=S&(1<<-t)-1,S>>=-t,t+=e;t>0;g=256*g+D[ae+l],l+=d,t-=8);if(S===0)S=1-_;else{if(S===h)return g?NaN:1/0*(P?-1:1);g+=Math.pow(2,e),S-=_}return(P?-1:1)*g*Math.pow(2,S-e)},De.write=function(D,ae,b,e,n,S){var g,i,h,_=8*S-n-1,t=(1<<_)-1,l=t>>1,d=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=e?0:S-1,F=e?1:-1,j=ae<0||ae===0&&1/ae<0?1:0;for(ae=Math.abs(ae),isNaN(ae)||ae===1/0?(i=isNaN(ae)?1:0,g=t):(g=Math.floor(Math.log(ae)/Math.LN2),ae*(h=Math.pow(2,-g))<1&&(g--,h*=2),(ae+=g+l>=1?d/h:d*Math.pow(2,1-l))*h>=2&&(g++,h/=2),g+l>=t?(i=0,g=t):g+l>=1?(i=(ae*h-1)*Math.pow(2,n),g+=l):(i=ae*Math.pow(2,l-1)*Math.pow(2,n),g=0));n>=8;D[b+P]=255&i,P+=F,i/=256,n-=8);for(g=g<<n|i,_+=n;_>0;D[b+P]=255&g,P+=F,g/=256,_-=8);D[b+P-F]|=128*j}},6934:(tt,De)=>{var D={parseBuffer:function(e){return new ae(e).parse()},addBoxProcessor:function(e,n){typeof e=="string"&&typeof n=="function"&&(b.prototype._boxProcessors[e]=n)},createFile:function(){return new ae},createBox:function(e,n,S){var g=b.create(e);return n&&n.append(g,S),g},createFullBox:function(e,n,S){var g=D.createBox(e,n,S);return g.version=0,g.flags=0,g},Utils:{}};D.Utils.dataViewToString=function(e,n){var S=n||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(S).decode(e);var g=[],i=0;if(S==="utf-8")for(;i<e.byteLength;){var h=e.getUint8(i++);h<128||(h<224?(h=(31&h)<<6,h|=63&e.getUint8(i++)):h<240?(h=(15&h)<<12,h|=(63&e.getUint8(i++))<<6,h|=63&e.getUint8(i++)):(h=(7&h)<<18,h|=(63&e.getUint8(i++))<<12,h|=(63&e.getUint8(i++))<<6,h|=63&e.getUint8(i++))),g.push(String.fromCharCode(h))}else for(;i<e.byteLength;)g.push(String.fromCharCode(e.getUint8(i++)));return g.join("")},D.Utils.utf8ToByteArray=function(e){var n,S;if(typeof TextEncoder<"u")n=new TextEncoder().encode(e);else for(n=[],S=0;S<e.length;++S){var g=e.charCodeAt(S);g<128?n.push(g):g<2048?(n.push(192|g>>6),n.push(128|63&g)):g<65536?(n.push(224|g>>12),n.push(128|63&g>>6),n.push(128|63&g)):(n.push(240|g>>18),n.push(128|63&g>>12),n.push(128|63&g>>6),n.push(128|63&g))}return n},D.Utils.appendBox=function(e,n,S){if(n._offset=e._cursor.offset,n._root=e._root?e._root:e,n._raw=e._raw,n._parent=e,S!==-1)if(S!=null){var g,i=-1;if(typeof S=="number")i=S;else{if(typeof S=="string")g=S;else{if(typeof S!="object"||!S.type)return void e.boxes.push(n);g=S.type}for(var h=0;h<e.boxes.length;h++)if(g===e.boxes[h].type){i=h+1;break}}e.boxes.splice(i,0,n)}else e.boxes.push(n)},De.parseBuffer=D.parseBuffer,De.addBoxProcessor=D.addBoxProcessor,De.createFile=D.createFile,De.createBox=D.createBox,De.createFullBox=D.createFullBox,De.Utils=D.Utils,D.Cursor=function(e){this.offset=e===void 0?0:e};var ae=function(e){this._cursor=new D.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};ae.prototype.fetch=function(e){var n=this.fetchAll(e,!0);return n.length?n[0]:null},ae.prototype.fetchAll=function(e,n){var S=[];return ae._sweep.call(this,e,S,n),S},ae.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=b.parse(this);if(e.type===void 0)break;this.boxes.push(e)}return this},ae._sweep=function(e,n,S){for(var g in this.type&&this.type==e&&n.push(this),this.boxes){if(n.length&&S)return;ae._sweep.call(this.boxes[g],e,n,S)}},ae.prototype.write=function(){var e,n=0;for(e=0;e<this.boxes.length;e++)n+=this.boxes[e].getLength(!1);var S=new Uint8Array(n);for(this._rawo=new DataView(S.buffer),this.bytes=S,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return S.buffer},ae.prototype.append=function(e,n){D.Utils.appendBox(this,e,n)};var b=function(){this._cursor=new D.Cursor};b.parse=function(e){var n=new b;return n._offset=e._cursor.offset,n._root=e._root?e._root:e,n._raw=e._raw,n._parent=e,n._parseBox(),e._cursor.offset=n._raw.byteOffset+n._raw.byteLength,n},b.create=function(e){var n=new b;return n.type=e,n.boxes=[],n},b.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],b.prototype._boxProcessors={},b.prototype._procField=function(e,n,S){this._parsing?this[e]=this._readField(n,S):this._writeField(n,S,this[e])},b.prototype._procFieldArray=function(e,n,S,g){var i;if(this._parsing)for(this[e]=[],i=0;i<n;i++)this[e][i]=this._readField(S,g);else for(i=0;i<this[e].length;i++)this._writeField(S,g,this[e][i])},b.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},b.prototype._procEntries=function(e,n,S){var g;if(this._parsing)for(this[e]=[],g=0;g<n;g++)this[e].push({}),S.call(this,this[e][g]);else for(g=0;g<n;g++)S.call(this,this[e][g])},b.prototype._procSubEntries=function(e,n,S,g){var i;if(this._parsing)for(e[n]=[],i=0;i<S;i++)e[n].push({}),g.call(this,e[n][i]);else for(i=0;i<S;i++)g.call(this,e[n][i])},b.prototype._procEntryField=function(e,n,S,g){this._parsing?e[n]=this._readField(S,g):this._writeField(S,g,e[n])},b.prototype._procSubBoxes=function(e,n){var S;if(this._parsing)for(this[e]=[],S=0;S<n;S++)this[e].push(b.parse(this));else for(S=0;S<n;S++)this._rawo?this[e][S].write():this.size+=this[e][S].getLength()},b.prototype._readField=function(e,n){switch(e){case"uint":return this._readUint(n);case"int":return this._readInt(n);case"template":return this._readTemplate(n);case"string":return n===-1?this._readTerminatedString():this._readString(n);case"data":return this._readData(n);case"utf8":return this._readUTF8String();default:return-1}},b.prototype._readInt=function(e){var n=null,S=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getInt8(S);break;case 16:n=this._raw.getInt16(S);break;case 32:n=this._raw.getInt32(S);break;case 64:var g=this._raw.getInt32(S),i=this._raw.getInt32(S+4);n=g*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,n},b.prototype._readUint=function(e){var n,S,g=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:g=this._raw.getUint8(i);break;case 16:g=this._raw.getUint16(i);break;case 24:g=((n=this._raw.getUint16(i))<<8)+(S=this._raw.getUint8(i+2));break;case 32:g=this._raw.getUint32(i);break;case 64:n=this._raw.getUint32(i),S=this._raw.getUint32(i+4),g=n*Math.pow(2,32)+S}return this._cursor.offset+=e>>3,g},b.prototype._readString=function(e){for(var n="",S=0;S<e;S++){var g=this._readUint(8);n+=String.fromCharCode(g)}return n},b.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},b.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var n=this._readUint(8);if(n===0)break;e+=String.fromCharCode(n)}return e},b.prototype._readData=function(e){var n=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(n>0){var S=new Uint8Array(this._raw.buffer,this._cursor.offset,n);return this._cursor.offset+=n,S}return null},b.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),n=null;return e>0&&(n=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),n&&D.Utils.dataViewToString(n)},b.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},b.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},b.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(b.parse(this))},b.prototype.append=function(e,n){D.Utils.appendBox(this,e,n)},b.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},b.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},b.prototype._writeInt=function(e,n){if(this._rawo){var S=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(S,n);break;case 16:this._rawo.setInt16(S,n);break;case 32:this._rawo.setInt32(S,n);break;case 64:var g=Math.floor(n/Math.pow(2,32)),i=n-g*Math.pow(2,32);this._rawo.setUint32(S,g),this._rawo.setUint32(S+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},b.prototype._writeUint=function(e,n){if(this._rawo){var S,g,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,n);break;case 16:this._rawo.setUint16(i,n);break;case 24:S=(16776960&n)>>8,g=255&n,this._rawo.setUint16(i,S),this._rawo.setUint8(i+2,g);break;case 32:this._rawo.setUint32(i,n);break;case 64:g=n-(S=Math.floor(n/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,S),this._rawo.setUint32(i+4,g)}this._cursor.offset+=e>>3}else this.size+=e>>3},b.prototype._writeString=function(e,n){for(var S=0;S<e;S++)this._writeUint(8,n.charCodeAt(S))},b.prototype._writeTerminatedString=function(e){if(e.length!==0){for(var n=0;n<e.length;n++)this._writeUint(8,e.charCodeAt(n));this._writeUint(8,0)}},b.prototype._writeTemplate=function(e,n){var S=Math.floor(n),g=(n-S)*Math.pow(2,e/2);this._writeUint(e/2,S),this._writeUint(e/2,g)},b.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var n=this._cursor.offset-this._rawo.byteOffset,S=0;S<e.length;S++)this._rawo.setInt8(n+S,e[S]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},b.prototype._writeUTF8String=function(e){var n=D.Utils.utf8ToByteArray(e);if(this._rawo)for(var S=new DataView(this._rawo.buffer,this._cursor.offset,n.length),g=0;g<n.length;g++)S.setUint8(g,n[g]);else this.size+=n.length},b.prototype._writeField=function(e,n,S){switch(e){case"uint":this._writeUint(n,S);break;case"int":this._writeInt(n,S);break;case"template":this._writeTemplate(n,S);break;case"string":n==-1?this._writeTerminatedString(S):this._writeString(n,S);break;case"data":this._writeData(S);break;case"utf8":this._writeUTF8String(S)}},b.prototype._boxProcessors.avc1=b.prototype._boxProcessors.avc2=b.prototype._boxProcessors.avc3=b.prototype._boxProcessors.avc4=b.prototype._boxProcessors.hvc1=b.prototype._boxProcessors.hev1=b.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},b.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_offset",this.version===1?"int":"uint",32)})},b.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},b.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",this.version===1?64:32),this._procEntryField(e,"media_time","int",this.version===1?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},b.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},b.prototype._boxProcessors.free=b.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},b.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},b.prototype._boxProcessors.ftyp=b.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},b.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},b.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},b.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},b.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},b.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},b.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},b.prototype._boxProcessors.mp4a=b.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},b.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},b.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},b.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},b.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},b.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},b.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},b.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)})},b.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},b.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(n){this._procEntryField(n,"level","uint",8),this._procEntryField(n,"range_size","uint",24)})})},b.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},b.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},b.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_delta","uint",32)})},b.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(n){this._procEntryField(n,"subsample_size","uint",this.version===1?32:16),this._procEntryField(n,"subsample_priority","uint",8),this._procEntryField(n,"discardable","uint",8),this._procEntryField(n,"codec_specific_parameters","uint",32)})})},b.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},b.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},b.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},b.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",this.version===1?64:32),this._procEntryField(e,"moof_offset","uint",this.version===1?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},b.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},b.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},b.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},b.prototype._boxProcessors["url "]=b.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},b.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},b.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},b.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},b.prototype._boxProcessors.vtte=function(){}},5530:(tt,De,D)=>{tt.exports=D(6146).polyfill()},6146:function(tt,De,D){tt.exports=function(){function ae(xe){return typeof xe=="function"}var b=Array.isArray?Array.isArray:function(xe){return Object.prototype.toString.call(xe)==="[object Array]"},e=0,n=void 0,S=void 0,g=function(xe,Qe){P[e]=xe,P[e+1]=Qe,(e+=2)===2&&(S?S(F):I())},i=typeof window<"u"?window:void 0,h=i||{},_=h.MutationObserver||h.WebKitMutationObserver,t=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",l=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function d(){var xe=setTimeout;return function(){return xe(F,1)}}var P=new Array(1e3);function F(){for(var xe=0;xe<e;xe+=2)(0,P[xe])(P[xe+1]),P[xe]=void 0,P[xe+1]=void 0;e=0}var j,B,X,O,I=void 0;function k(xe,Qe){var ce=this,de=new this.constructor(we);de[J]===void 0&&Te(de);var je=ce._state;if(je){var f=arguments[je-1];g(function(){return ut(je,de,f,ce._result)})}else be(ce,de,xe,Qe);return de}function $(xe){if(xe&&typeof xe=="object"&&xe.constructor===this)return xe;var Qe=new this(we);return st(Qe,xe),Qe}I=t?function(){return process.nextTick(F)}:_?(B=0,X=new _(F),O=document.createTextNode(""),X.observe(O,{characterData:!0}),function(){O.data=B=++B%2}):l?((j=new MessageChannel).port1.onmessage=F,function(){return j.port2.postMessage(0)}):i===void 0?function(){try{var xe=Function("return this")().require("vertx");return(n=xe.runOnLoop||xe.runOnContext)!==void 0?function(){n(F)}:d()}catch{return d()}}():d();var J=Math.random().toString(36).substring(2);function we(){}var Be=void 0;function te(xe,Qe,ce){Qe.constructor===xe.constructor&&ce===k&&Qe.constructor.resolve===$?function(de,je){je._state===1?ke(de,je._result):je._state===2?ye(de,je._result):be(je,void 0,function(f){return st(de,f)},function(f){return ye(de,f)})}(xe,Qe):ce===void 0?ke(xe,Qe):ae(ce)?function(de,je,f){g(function(o){var v=!1,E=function(Q,z,he,Ne){try{Q.call(z,he,Ne)}catch(Ce){return Ce}}(f,je,function(Q){v||(v=!0,je!==Q?st(o,Q):ke(o,Q))},function(Q){v||(v=!0,ye(o,Q))},o._label);!v&&E&&(v=!0,ye(o,E))},de)}(xe,Qe,ce):ke(xe,Qe)}function st(xe,Qe){if(xe===Qe)ye(xe,new TypeError("You cannot resolve a promise with itself"));else if(je=typeof(de=Qe),de===null||je!=="object"&&je!=="function")ke(xe,Qe);else{var ce=void 0;try{ce=Qe.then}catch(f){return void ye(xe,f)}te(xe,Qe,ce)}var de,je}function Ae(xe){xe._onerror&&xe._onerror(xe._result),He(xe)}function ke(xe,Qe){xe._state===Be&&(xe._result=Qe,xe._state=1,xe._subscribers.length!==0&&g(He,xe))}function ye(xe,Qe){xe._state===Be&&(xe._state=2,xe._result=Qe,g(Ae,xe))}function be(xe,Qe,ce,de){var je=xe._subscribers,f=je.length;xe._onerror=null,je[f]=Qe,je[f+1]=ce,je[f+2]=de,f===0&&xe._state&&g(He,xe)}function He(xe){var Qe=xe._subscribers,ce=xe._state;if(Qe.length!==0){for(var de=void 0,je=void 0,f=xe._result,o=0;o<Qe.length;o+=3)de=Qe[o],je=Qe[o+ce],de?ut(ce,de,je,f):je(f);xe._subscribers.length=0}}function ut(xe,Qe,ce,de){var je=ae(ce),f=void 0,o=void 0,v=!0;if(je){try{f=ce(de)}catch(E){v=!1,o=E}if(Qe===f)return void ye(Qe,new TypeError("A promises callback cannot return that same promise."))}else f=de;Qe._state!==Be||(je&&v?st(Qe,f):v===!1?ye(Qe,o):xe===1?ke(Qe,f):xe===2&&ye(Qe,f))}var et=0;function Te(xe){xe[J]=et++,xe._state=void 0,xe._result=void 0,xe._subscribers=[]}var We=function(){function xe(Qe,ce){this._instanceConstructor=Qe,this.promise=new Qe(we),this.promise[J]||Te(this.promise),b(ce)?(this.length=ce.length,this._remaining=ce.length,this._result=new Array(this.length),this.length===0?ke(this.promise,this._result):(this.length=this.length||0,this._enumerate(ce),this._remaining===0&&ke(this.promise,this._result))):ye(this.promise,new Error("Array Methods must be provided an Array"))}return xe.prototype._enumerate=function(Qe){for(var ce=0;this._state===Be&&ce<Qe.length;ce++)this._eachEntry(Qe[ce],ce)},xe.prototype._eachEntry=function(Qe,ce){var de=this._instanceConstructor,je=de.resolve;if(je===$){var f=void 0,o=void 0,v=!1;try{f=Qe.then}catch(Q){v=!0,o=Q}if(f===k&&Qe._state!==Be)this._settledAt(Qe._state,ce,Qe._result);else if(typeof f!="function")this._remaining--,this._result[ce]=Qe;else if(de===lt){var E=new de(we);v?ye(E,o):te(E,Qe,f),this._willSettleAt(E,ce)}else this._willSettleAt(new de(function(Q){return Q(Qe)}),ce)}else this._willSettleAt(je(Qe),ce)},xe.prototype._settledAt=function(Qe,ce,de){var je=this.promise;je._state===Be&&(this._remaining--,Qe===2?ye(je,de):this._result[ce]=de),this._remaining===0&&ke(je,this._result)},xe.prototype._willSettleAt=function(Qe,ce){var de=this;be(Qe,void 0,function(je){return de._settledAt(1,ce,je)},function(je){return de._settledAt(2,ce,je)})},xe}(),lt=function(){function xe(Qe){this[J]=et++,this._result=this._state=void 0,this._subscribers=[],we!==Qe&&(typeof Qe!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof xe?function(ce,de){try{de(function(je){st(ce,je)},function(je){ye(ce,je)})}catch(je){ye(ce,je)}}(this,Qe):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return xe.prototype.catch=function(Qe){return this.then(null,Qe)},xe.prototype.finally=function(Qe){var ce=this,de=ce.constructor;return ae(Qe)?ce.then(function(je){return de.resolve(Qe()).then(function(){return je})},function(je){return de.resolve(Qe()).then(function(){throw je})}):ce.then(Qe,Qe)},xe}();return lt.prototype.then=k,lt.all=function(xe){return new We(this,xe).promise},lt.race=function(xe){var Qe=this;return b(xe)?new Qe(function(ce,de){for(var je=xe.length,f=0;f<je;f++)Qe.resolve(xe[f]).then(ce,de)}):new Qe(function(ce,de){return de(new TypeError("You must pass an array to race."))})},lt.resolve=$,lt.reject=function(xe){var Qe=new this(we);return ye(Qe,xe),Qe},lt._setScheduler=function(xe){S=xe},lt._setAsap=function(xe){g=xe},lt._asap=g,lt.polyfill=function(){var xe=void 0;if(D.g!==void 0)xe=D.g;else if(typeof self<"u")xe=self;else try{xe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Qe=xe.Promise;if(Qe){var ce=null;try{ce=Object.prototype.toString.call(Qe.resolve())}catch{}if(ce==="[object Promise]"&&!Qe.cast)return}xe.Promise=lt},lt.Promise=lt,lt}()},1159:tt=>{var De,D=typeof Reflect=="object"?Reflect:null,ae=D&&typeof D.apply=="function"?D.apply:function(F,j,B){return Function.prototype.apply.call(F,j,B)};De=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(F){return Object.getOwnPropertyNames(F).concat(Object.getOwnPropertySymbols(F))}:function(F){return Object.getOwnPropertyNames(F)};var b=Number.isNaN||function(F){return F!=F};function e(){e.init.call(this)}tt.exports=e,tt.exports.once=function(F,j){return new Promise(function(B,X){function O(k){F.removeListener(j,I),X(k)}function I(){typeof F.removeListener=="function"&&F.removeListener("error",O),B([].slice.call(arguments))}P(F,j,I,{once:!0}),j!=="error"&&function(k,$,J){typeof k.on=="function"&&P(k,"error",$,{once:!0})}(F,O)})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var n=10;function S(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}function g(F){return F._maxListeners===void 0?e.defaultMaxListeners:F._maxListeners}function i(F,j,B,X){var O,I,k,$;if(S(B),(I=F._events)===void 0?(I=F._events=Object.create(null),F._eventsCount=0):(I.newListener!==void 0&&(F.emit("newListener",j,B.listener?B.listener:B),I=F._events),k=I[j]),k===void 0)k=I[j]=B,++F._eventsCount;else if(typeof k=="function"?k=I[j]=X?[B,k]:[k,B]:X?k.unshift(B):k.push(B),(O=g(F))>0&&k.length>O&&!k.warned){k.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=F,J.type=j,J.count=k.length,$=J,console&&console.warn&&console.warn($)}return F}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(F,j,B){var X={fired:!1,wrapFn:void 0,target:F,type:j,listener:B},O=h.bind(X);return O.listener=B,X.wrapFn=O,O}function t(F,j,B){var X=F._events;if(X===void 0)return[];var O=X[j];return O===void 0?[]:typeof O=="function"?B?[O.listener||O]:[O]:B?function(I){for(var k=new Array(I.length),$=0;$<k.length;++$)k[$]=I[$].listener||I[$];return k}(O):d(O,O.length)}function l(F){var j=this._events;if(j!==void 0){var B=j[F];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}function d(F,j){for(var B=new Array(j),X=0;X<j;++X)B[X]=F[X];return B}function P(F,j,B,X){if(typeof F.on=="function")X.once?F.once(j,B):F.on(j,B);else{if(typeof F.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F);F.addEventListener(j,function O(I){X.once&&F.removeEventListener(j,O),B(I)})}}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(F){if(typeof F!="number"||F<0||b(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");n=F}}),e.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||b(F))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+F+".");return this._maxListeners=F,this},e.prototype.getMaxListeners=function(){return g(this)},e.prototype.emit=function(F){for(var j=[],B=1;B<arguments.length;B++)j.push(arguments[B]);var X=F==="error",O=this._events;if(O!==void 0)X=X&&O.error===void 0;else if(!X)return!1;if(X){var I;if(j.length>0&&(I=j[0]),I instanceof Error)throw I;var k=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw k.context=I,k}var $=O[F];if($===void 0)return!1;if(typeof $=="function")ae($,this,j);else{var J=$.length,we=d($,J);for(B=0;B<J;++B)ae(we[B],this,j)}return!0},e.prototype.addListener=function(F,j){return i(this,F,j,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(F,j){return i(this,F,j,!0)},e.prototype.once=function(F,j){return S(j),this.on(F,_(this,F,j)),this},e.prototype.prependOnceListener=function(F,j){return S(j),this.prependListener(F,_(this,F,j)),this},e.prototype.removeListener=function(F,j){var B,X,O,I,k;if(S(j),(X=this._events)===void 0)return this;if((B=X[F])===void 0)return this;if(B===j||B.listener===j)--this._eventsCount==0?this._events=Object.create(null):(delete X[F],X.removeListener&&this.emit("removeListener",F,B.listener||j));else if(typeof B!="function"){for(O=-1,I=B.length-1;I>=0;I--)if(B[I]===j||B[I].listener===j){k=B[I].listener,O=I;break}if(O<0)return this;O===0?B.shift():function($,J){for(;J+1<$.length;J++)$[J]=$[J+1];$.pop()}(B,O),B.length===1&&(X[F]=B[0]),X.removeListener!==void 0&&this.emit("removeListener",F,k||j)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(F){var j,B,X;if((B=this._events)===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[F]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete B[F]),this;if(arguments.length===0){var O,I=Object.keys(B);for(X=0;X<I.length;++X)(O=I[X])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(j=B[F])=="function")this.removeListener(F,j);else if(j!==void 0)for(X=j.length-1;X>=0;X--)this.removeListener(F,j[X]);return this},e.prototype.listeners=function(F){return t(this,F,!0)},e.prototype.rawListeners=function(F){return t(this,F,!1)},e.listenerCount=function(F,j){return typeof F.listenerCount=="function"?F.listenerCount(j):l.call(F,j)},e.prototype.listenerCount=l,e.prototype.eventNames=function(){return this._eventsCount>0?De(this._events):[]}},3101:tt=>{var De=Array.isArray,D=Object.keys,ae=Object.prototype.hasOwnProperty;tt.exports=function b(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){var S,g,i,h=De(e),_=De(n);if(h&&_){if((g=e.length)!=n.length)return!1;for(S=g;S--!=0;)if(!b(e[S],n[S]))return!1;return!0}if(h!=_)return!1;var t=e instanceof Date,l=n instanceof Date;if(t!=l)return!1;if(t&&l)return e.getTime()==n.getTime();var d=e instanceof RegExp,P=n instanceof RegExp;if(d!=P)return!1;if(d&&P)return e.toString()==n.toString();var F=D(e);if((g=F.length)!==D(n).length)return!1;for(S=g;S--!=0;)if(!ae.call(n,F[S]))return!1;for(S=g;S--!=0;)if(!b(e[i=F[S]],n[i]))return!1;return!0}return e!=e&&n!=n}},3362:(tt,De,D)=>{(function(ae,b,e,n,S){function g(o){if("contents"in o)for(var v=("styleAttrs"in o)?o.styleAttrs[n.byName.ruby.qname]:null,E=o.kind==="span"&&(v==="container"||v==="textContainer"||v==="baseContainer"),Q=o.contents.length-1;Q>=0;Q--)!E||"styleAttrs"in o.contents[Q]&&n.byName.ruby.qname in o.contents[Q].styleAttrs?g(o.contents[Q]):delete o.contents[Q]}function i(o,v,E,Q){var z=Q&&Q.timeContainer==="seq",he=0;Q&&(he=z&&E?E.end:Q.begin),v.begin=v.explicit_begin?v.explicit_begin+he:he;var Ne=v.begin,Ce=null;if("sets"in v)for(var ve=0;ve<v.sets.length;ve++)i(o,v.sets[ve],Ce,v),Ne=v.timeContainer==="seq"?v.sets[ve].end:Math.max(Ne,v.sets[ve].end),Ce=v.sets[ve];if("contents"in v){if("contents"in v)for(var Le=0;Le<v.contents.length;Le++)i(o,v.contents[Le],Ce,v),Ne=v.timeContainer==="seq"?v.contents[Le].end:Math.max(Ne,v.contents[Le].end),Ce=v.contents[Le]}else Ne=z?v.begin:Number.POSITIVE_INFINITY;v.explicit_end!==null&&v.explicit_dur!==null?v.end=Math.min(v.begin+v.explicit_dur,he+v.explicit_end):v.explicit_end===null&&v.explicit_dur!==null?v.end=v.begin+v.explicit_dur:v.explicit_end!==null&&v.explicit_dur===null?v.end=he+v.explicit_end:v.end=Ne,delete v.explicit_begin,delete v.explicit_dur,delete v.explicit_end,o._registerEvent(v)}function h(o){this.node=o}function _(){this.events=[],this.head=new t,this.body=null}function t(){this.styling=new l,this.layout=new F}function l(){this.styles={},this.initials={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function P(){this.styleAttrs=null}function F(){this.regions={}}function j(o,v){B.call(this,"image"),this.src=o,this.type=v}function B(o){this.kind=o}function X(o){this.id=o}function O(o){this.regionID=o}function I(o){this.styleAttrs=o}function k(o){this.sets=o}function $(o){this.contents=o}function J(o,v,E){this.explicit_begin=o,this.explicit_end=v,this.explicit_dur=E}function we(){B.call(this,"body")}function Be(){B.call(this,"div")}function te(){B.call(this,"p")}function st(){B.call(this,"span")}function Ae(){B.call(this,"span")}function ke(){B.call(this,"br")}function ye(){}function be(){}function He(o){return o&&"xml:id"in o.attributes&&o.attributes["xml:id"].value||null}function ut(o){return o&&"style"in o.attributes?o.attributes.style.value.split(" "):[]}function et(o,v){var E={};if(o!==null)for(var Q in o.attributes){var z=o.attributes[Q].uri+" "+o.attributes[Q].local,he=n.byQName[z];if(he!==void 0){var Ne=he.parse(o.attributes[Q].value);Ne!==null?(E[z]=Ne,he===n.byName.zIndex&&ce(v,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):de(v,"Cannot parse styling attribute "+z+" --> "+o.attributes[Q].value)}}return E}function Te(o,v,E){for(var Q in o.attributes)if(o.attributes[Q].uri===v&&o.attributes[Q].local===E)return o.attributes[Q].value;return null}function We(o,v,E){var Q,z=null;return(Q=/^(\d+(?:\.\d+)?)f$/.exec(E))!==null?v!==null&&(z=parseFloat(Q[1])/v):(Q=/^(\d+(?:\.\d+)?)t$/.exec(E))!==null?o!==null&&(z=parseFloat(Q[1])/o):(Q=/^(\d+(?:\.\d+)?)ms$/.exec(E))!==null?z=parseFloat(Q[1])/1e3:(Q=/^(\d+(?:\.\d+)?)s$/.exec(E))!==null?z=parseFloat(Q[1]):(Q=/^(\d+(?:\.\d+)?)h$/.exec(E))!==null?z=3600*parseFloat(Q[1]):(Q=/^(\d+(?:\.\d+)?)m$/.exec(E))!==null?z=60*parseFloat(Q[1]):(Q=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(E))!==null?z=3600*parseInt(Q[1])+60*parseInt(Q[2])+parseFloat(Q[3]):(Q=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(E))!==null&&v!==null&&(z=3600*parseInt(Q[1])+60*parseInt(Q[2])+parseInt(Q[3])+(Q[4]===null?0:parseInt(Q[4])/v)),z}function lt(o,v,E){for(;v.styleRefs.length>0;){var Q=v.styleRefs.pop();Q in o.styles?(lt(o,o.styles[Q],E),Qe(o.styles[Q].styleAttrs,v.styleAttrs)):de(E,"Non-existant style id referenced")}}function xe(o,v,E,Q){for(var z=v.length-1;z>=0;z--){var he=v[z];he in o.styles?Qe(o.styles[he].styleAttrs,E):de(Q,"Non-existant style id referenced")}}function Qe(o,v){for(var E in o)o.hasOwnProperty(E)&&(E in v||(v[E]=o[E]))}function ce(o,v){if(o&&o.warn&&o.warn(v))throw v}function de(o,v){if(o&&o.error&&o.error(v))throw v}function je(o,v){throw o&&o.fatal&&o.fatal(v),v}function f(o,v){for(var E,Q=0,z=o.length-1;Q<=z;){var he=o[E=Math.floor((Q+z)/2)];if(he<v)Q=E+1;else{if(!(he>v))return{found:!0,index:E};z=E-1}}return{found:!1,index:Q}}ae.fromXML=function(o,v,E){var Q=b.parser(!0,{xmlns:!0}),z=[],he=[],Ne=[],Ce=0,ve=null;Q.onclosetag=function(it){if(z[0]instanceof ye)ve.head!==null&&ve.head.styling!==null&&xe(ve.head.styling,z[0].styleRefs,z[0].styleAttrs,v),delete z[0].styleRefs;else if(z[0]instanceof l)for(var wt in z[0].styles)z[0].styles.hasOwnProperty(wt)&&lt(z[0],z[0].styles[wt],v);else if(z[0]instanceof te||z[0]instanceof st){if(z[0].contents.length>1){var Mt,Pt=[z[0].contents[0]];for(Mt=1;Mt<z[0].contents.length;Mt++)z[0].contents[Mt]instanceof Ae&&Pt[Pt.length-1]instanceof Ae?Pt[Pt.length-1].text+=z[0].contents[Mt].text:Pt.push(z[0].contents[Mt]);z[0].contents=Pt}z[0]instanceof st&&z[0].contents.length===1&&z[0].contents[0]instanceof Ae&&(z[0].text=z[0].contents[0].text,delete z[0].contents)}else z[0]instanceof h&&(z[0].node.uri===e.ns_tt&&z[0].node.local==="metadata"?Ce--:Ce>0&&E&&"onCloseTag"in E&&E.onCloseTag());Ne.shift(),he.shift(),z.shift()},Q.ontext=function(it){if(z[0]!==void 0)if(z[0]instanceof st||z[0]instanceof te){if(z[0]instanceof st){var wt=z[0].styleAttrs[n.byName.ruby.qname];if(wt==="container"||wt==="textContainer"||wt==="baseContainer")return}var Mt=new Ae;Mt.initFromText(ve,z[0],it,he[0],Ne[0],v),z[0].contents.push(Mt)}else z[0]instanceof h&&Ce>0&&E&&"onText"in E&&E.onText(it)},Q.onopentag=function(it){var wt=it.attributes["xml:space"];wt?Ne.unshift(wt.value):Ne.length===0?Ne.unshift("default"):Ne.unshift(Ne[0]);var Mt=it.attributes["xml:lang"];if(Mt?he.unshift(Mt.value):he.length===0?he.unshift(""):he.unshift(he[0]),it.uri===e.ns_tt)if(it.local==="tt")ve!==null&&je(v,"Two <tt> elements at ("+this.line+","+this.column+")"),(ve=new _).initFromNode(it,he[0],v),z.unshift(ve);else if(it.local==="head")z[0]instanceof _||je(v,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),z.unshift(ve.head);else if(it.local==="styling")z[0]instanceof t||je(v,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),z.unshift(ve.head.styling);else if(it.local==="style"){var Pt;z[0]instanceof l?((Pt=new d).initFromNode(it,v),Pt.id?ve.head.styling.styles[Pt.id]=Pt:de(v,"<style> element missing @id attribute"),z.unshift(Pt)):z[0]instanceof ye?((Pt=new d).initFromNode(it,v),Qe(Pt.styleAttrs,z[0].styleAttrs),z.unshift(Pt)):je(v,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(it.local==="initial"){var ln;if(z[0]instanceof l){for(var mn in(ln=new P).initFromNode(it,v),ln.styleAttrs)ln.styleAttrs.hasOwnProperty(mn)&&(ve.head.styling.initials[mn]=ln.styleAttrs[mn]);z.unshift(ln)}else je(v,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(it.local==="layout")z[0]instanceof t||je(v,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),z.unshift(ve.head.layout);else if(it.local==="region"){z[0]instanceof F||je(v,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var vn=new ye;vn.initFromNode(ve,it,he[0],v),!vn.id||vn.id in ve.head.layout.regions?de(v,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ve.head.layout.regions[vn.id]=vn,z.unshift(vn)}else if(it.local==="body"){z[0]instanceof _||je(v,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),ve.body!==null&&je(v,"Second <body> element at "+this.line+","+this.column+")");var Ln=new we;Ln.initFromNode(ve,it,he[0],v),ve.body=Ln,z.unshift(Ln)}else if(it.local==="div"){z[0]instanceof Be||z[0]instanceof we||je(v,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var yn=new Be;yn.initFromNode(ve,z[0],it,he[0],v);var Rn=yn.styleAttrs[n.byName.backgroundImage.qname];Rn&&(yn.contents.push(new j(Rn)),delete yn.styleAttrs[n.byName.backgroundImage.qname]),z[0].contents.push(yn),z.unshift(yn)}else if(it.local==="image"){z[0]instanceof Be||je(v,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Gn=new j;Gn.initFromNode(ve,z[0],it,he[0],v),z[0].contents.push(Gn),z.unshift(Gn)}else if(it.local==="p"){z[0]instanceof Be||je(v,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var _n=new te;_n.initFromNode(ve,z[0],it,he[0],v),z[0].contents.push(_n),z.unshift(_n)}else if(it.local==="span"){z[0]instanceof st||z[0]instanceof te||je(v,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var jn=new st;jn.initFromNode(ve,z[0],it,he[0],Ne[0],v),z[0].contents.push(jn),z.unshift(jn)}else if(it.local==="br"){z[0]instanceof st||z[0]instanceof te||je(v,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Zn=new ke;Zn.initFromNode(ve,z[0],it,he[0],v),z[0].contents.push(Zn),z.unshift(Zn)}else if(it.local==="set"){z[0]instanceof st||z[0]instanceof te||z[0]instanceof Be||z[0]instanceof we||z[0]instanceof ye||z[0]instanceof ke||je(v,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Hn=new be;Hn.initFromNode(ve,z[0],it,v),z[0].sets.push(Hn),z.unshift(Hn)}else z.unshift(new h(it));else z.unshift(new h(it));if(z[0]instanceof h){if(it.uri===e.ns_tt&&it.local==="metadata")Ce++;else if(Ce>0&&E&&"onOpenTag"in E){var $n=[];for(var Vn in it.attributes)$n[it.attributes[Vn].uri+" "+it.attributes[Vn].local]={uri:it.attributes[Vn].uri,local:it.attributes[Vn].local,value:it.attributes[Vn].value};E.onOpenTag(it.uri,it.local,$n)}}},Q.write(o).close(),delete ve.head.styling.styles;var Le=!1;for(var Ze in ve.head.layout.regions)if(ve.head.layout.regions.hasOwnProperty(Ze)){Le=!0;break}if(!Le){var $e=ye.prototype.createDefaultRegion(ve.lang);ve.head.layout.regions[$e.id]=$e}for(var pt in ve.head.layout.regions)ve.head.layout.regions.hasOwnProperty(pt)&&i(ve,ve.head.layout.regions[pt],null,null);return ve.body&&i(ve,ve.body,null,null),ve.body&&g(ve.body),ve},_.prototype.initFromNode=function(o,v,E){var Q=function(Ce,ve){var Le=Te(Ce,e.ns_ttp,"cellResolution"),Ze=15,$e=32;if(Le!==null){var pt=/(\d+) (\d+)/.exec(Le);pt!==null?($e=parseInt(pt[1]),Ze=parseInt(pt[2])):ce(ve,"Malformed cellResolution value (using initial value instead)")}return{w:$e,h:Ze}}(o,E);this.cellLength={h:new S.ComputedLength(0,1/Q.h),w:new S.ComputedLength(1/Q.w,0)};var z=function(Ce,ve){var Le,Ze=Te(Ce,e.ns_ttp,"frameRate"),$e=30;Ze!==null&&((Le=/(\d+)/.exec(Ze))!==null?$e=parseInt(Le[1]):ce(ve,"Malformed frame rate attribute (using initial value instead)"));var pt=Te(Ce,e.ns_ttp,"frameRateMultiplier"),it=1;pt!==null&&((Le=/(\d+) (\d+)/.exec(pt))!==null?it=parseInt(Le[1])/parseInt(Le[2]):ce(ve,"Malformed frame rate multiplier attribute (using initial value instead)"));var wt=it*$e,Mt=1,Pt=Te(Ce,e.ns_ttp,"tickRate");return Pt===null?Ze!==null&&(Mt=wt):(Le=/(\d+)/.exec(Pt))!==null?Mt=parseInt(Le[1]):ce(ve,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:wt,tickRate:Mt}}(o,E);this.effectiveFrameRate=z.effectiveFrameRate,this.tickRate=z.tickRate,this.aspectRatio=function(Ce,ve){var Le=Te(Ce,e.ns_ittp,"aspectRatio");Le===null&&(Le=Te(Ce,e.ns_ttp,"displayAspectRatio"));var Ze=null;if(Le!==null){var $e=/(\d+)\s+(\d+)/.exec(Le);if($e!==null){var pt=parseInt($e[1]),it=parseInt($e[2]);pt!==0&&it!==0?Ze=pt/it:de(ve,"Illegal aspectRatio values (ignoring)")}else de(ve,"Malformed aspectRatio attribute (ignoring)")}return Ze}(o,E);var he=Te(o,e.ns_ttp,"timeBase");he!==null&&he!=="media"&&je(E,"Unsupported time base");var Ne=function(Ce,ve){var Le=Te(Ce,e.ns_tts,"extent");if(Le===null)return null;var Ze=Le.split(" ");if(Ze.length!==2)return ce(ve,"Malformed extent (ignoring)"),null;var $e=S.parseLength(Ze[0]),pt=S.parseLength(Ze[1]);return pt&&$e?{h:pt,w:$e}:(ce(ve,"Malformed extent values (ignoring)"),null)}(o,E);Ne===null?this.pxLength={h:null,w:null}:(Ne.h.unit==="px"&&Ne.w.unit==="px"||je(E,"Extent on TT must be in px or absent"),this.pxLength={h:new S.ComputedLength(0,1/Ne.h.value),w:new S.ComputedLength(1/Ne.w.value,0)}),this.dimensions={h:new S.ComputedLength(0,1),w:new S.ComputedLength(1,0)},this.lang=v},_.prototype._registerEvent=function(o){if(!(o.end<=o.begin)){var v=f(this.events,o.begin);if(v.found||this.events.splice(v.index,0,o.begin),o.end!==Number.POSITIVE_INFINITY){var E=f(this.events,o.end);E.found||this.events.splice(E.index,0,o.end)}}},_.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},_.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(o,v){this.id=He(o),this.styleAttrs=et(o,v),this.styleRefs=ut(o)},P.prototype.initFromNode=function(o,v){for(var E in this.styleAttrs={},o.attributes)if(o.attributes[E].uri===e.ns_itts||o.attributes[E].uri===e.ns_ebutts||o.attributes[E].uri===e.ns_tts){var Q=o.attributes[E].uri+" "+o.attributes[E].local;this.styleAttrs[Q]=o.attributes[E].value}},j.prototype.initFromNode=function(o,v,E,Q,z){this.src="src"in E.attributes?E.attributes.src.value:null,this.src||de(z,"Invalid image@src attribute"),this.type="type"in E.attributes?E.attributes.type.value:null,this.type||de(z,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,o,v,E,z),J.prototype.initFromNode.call(this,o,v,E,z),k.prototype.initFromNode.call(this,o,v,E,z),O.prototype.initFromNode.call(this,o,v,E,z),this.lang=Q},X.prototype.initFromNode=function(o,v,E,Q){this.id=He(E)},O.prototype.initFromNode=function(o,v,E,Q){this.regionID=function(z){return z&&"region"in z.attributes?z.attributes.region.value:""}(E)},I.prototype.initFromNode=function(o,v,E,Q){this.styleAttrs=et(E,Q),o.head!==null&&o.head.styling!==null&&xe(o.head.styling,ut(E),this.styleAttrs,Q)},k.prototype.initFromNode=function(o,v,E,Q){this.sets=[]},$.prototype.initFromNode=function(o,v,E,Q){this.contents=[]},J.prototype.initFromNode=function(o,v,E,Q){var z=function(he,Ne,Ce,ve){var Le=null;Ce&&"begin"in Ce.attributes&&(Le=We(he.tickRate,he.effectiveFrameRate,Ce.attributes.begin.value))===null&&ce(ve,"Malformed begin value "+Ce.attributes.begin.value+" (using 0)");var Ze=null;Ce&&"dur"in Ce.attributes&&(Ze=We(he.tickRate,he.effectiveFrameRate,Ce.attributes.dur.value))===null&&ce(ve,"Malformed dur value "+Ce.attributes.dur.value+" (ignoring)");var $e=null;return Ce&&"end"in Ce.attributes&&($e=We(he.tickRate,he.effectiveFrameRate,Ce.attributes.end.value))===null&&ce(ve,"Malformed end value (ignoring)"),{explicit_begin:Le,explicit_end:$e,explicit_dur:Ze}}(o,0,E,Q);this.explicit_begin=z.explicit_begin,this.explicit_end=z.explicit_end,this.explicit_dur=z.explicit_dur,this.timeContainer=function(he,Ne){var Ce=he&&"timeContainer"in he.attributes?he.attributes.timeContainer.value:null;return Ce&&Ce!=="par"?Ce==="seq"?"seq":(de(Ne,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(E,Q)},we.prototype.initFromNode=function(o,v,E,Q){I.prototype.initFromNode.call(this,o,null,v,Q),J.prototype.initFromNode.call(this,o,null,v,Q),k.prototype.initFromNode.call(this,o,null,v,Q),O.prototype.initFromNode.call(this,o,null,v,Q),$.prototype.initFromNode.call(this,o,null,v,Q),this.lang=E},Be.prototype.initFromNode=function(o,v,E,Q,z){I.prototype.initFromNode.call(this,o,v,E,z),J.prototype.initFromNode.call(this,o,v,E,z),k.prototype.initFromNode.call(this,o,v,E,z),O.prototype.initFromNode.call(this,o,v,E,z),$.prototype.initFromNode.call(this,o,v,E,z),this.lang=Q},te.prototype.initFromNode=function(o,v,E,Q,z){I.prototype.initFromNode.call(this,o,v,E,z),J.prototype.initFromNode.call(this,o,v,E,z),k.prototype.initFromNode.call(this,o,v,E,z),O.prototype.initFromNode.call(this,o,v,E,z),$.prototype.initFromNode.call(this,o,v,E,z),this.lang=Q},st.prototype.initFromNode=function(o,v,E,Q,z,he){I.prototype.initFromNode.call(this,o,v,E,he),J.prototype.initFromNode.call(this,o,v,E,he),k.prototype.initFromNode.call(this,o,v,E,he),O.prototype.initFromNode.call(this,o,v,E,he),$.prototype.initFromNode.call(this,o,v,E,he),this.space=z,this.lang=Q},Ae.prototype.initFromText=function(o,v,E,Q,z,he){J.prototype.initFromNode.call(this,o,v,null,he),this.text=E,this.space=z,this.lang=Q},ke.prototype.initFromNode=function(o,v,E,Q,z){O.prototype.initFromNode.call(this,o,v,E,z),J.prototype.initFromNode.call(this,o,v,E,z),this.lang=Q},ye.prototype.createDefaultRegion=function(o){var v=new ye;return X.call(v,""),I.call(v,{}),k.call(v,[]),J.call(v,0,Number.POSITIVE_INFINITY,null),this.lang=o,v},ye.prototype.initFromNode=function(o,v,E,Q){X.prototype.initFromNode.call(this,o,null,v,Q),J.prototype.initFromNode.call(this,o,null,v,Q),k.prototype.initFromNode.call(this,o,null,v,Q),this.styleAttrs=et(v,Q),this.styleRefs=ut(v),this.lang=E},be.prototype.initFromNode=function(o,v,E,Q){J.prototype.initFromNode.call(this,o,v,E,Q);var z=et(E,Q);for(var he in this.qname=null,this.value=null,z)if(z.hasOwnProperty(he)){if(this.qname){de(Q,"More than one style specified on set");break}this.qname=he,this.value=z[he]}}})(De,typeof sax>"u"?D(5378):sax,typeof imscNames>"u"?D(210):imscNames,typeof imscStyles>"u"?D(6811):imscStyles,typeof imscUtils>"u"?D(5926):imscUtils)},506:(tt,De,D)=>{(function(ae,b,e){function n(I,k,$,J){var we;if($.kind==="region")(we=document.createElement("div")).style.position="absolute";else if($.kind==="body")we=document.createElement("div");else if($.kind==="div")we=document.createElement("div");else if($.kind==="image"){if(we=document.createElement("img"),I.imgResolver!==null&&$.src!==null){var Be=I.imgResolver($.src,we);Be&&(we.src=Be),we.height=I.regionH,we.width=I.regionW}}else if($.kind==="p")we=document.createElement("p");else if($.kind==="span")if($.styleAttrs[e.byName.ruby.qname]==="container")we=document.createElement("ruby"),I.ruby=!0;else if($.styleAttrs[e.byName.ruby.qname]==="base")we=document.createElement("rb");else if($.styleAttrs[e.byName.ruby.qname]==="text")we=document.createElement("rt");else if($.styleAttrs[e.byName.ruby.qname]==="baseContainer")we=document.createElement("rbc");else if($.styleAttrs[e.byName.ruby.qname]==="textContainer")we=document.createElement("rtc");else{if($.styleAttrs[e.byName.ruby.qname]==="delimiter")return;we=document.createElement("span")}else $.kind==="br"&&(we=document.createElement("br"));if(we){if($.lang&&($.kind!=="region"&&$.lang===J.lang||(we.lang=$.lang)),k.appendChild(we),we.style.margin="0",$.kind==="region"){var te=$.styleAttrs[e.byName.writingMode.qname];te==="lrtb"||te==="lr"?(I.ipd="lr",I.bpd="tb"):te==="rltb"||te==="rl"?(I.ipd="rl",I.bpd="tb"):te==="tblr"?(I.ipd="tb",I.bpd="lr"):te!=="tbrl"&&te!=="tb"||(I.ipd="tb",I.bpd="rl")}else if($.kind==="p"&&I.bpd==="tb"){var st=$.styleAttrs[e.byName.direction.qname];I.ipd=st==="ltr"?"lr":"rl"}for(var Ae=0;Ae<d.length;Ae++){var ke=d[Ae],ye=$.styleAttrs[ke.qname];ye!==void 0&&ke.map!==null&&ke.map(I,we,$,ye)}var be=we,He=$.styleAttrs[e.byName.linePadding.qname];if(He&&!He.isZero()){var ut=He.toUsedLength(I.w,I.h);if(ut>0){var et=Math.ceil(ut)+"px";I.bpd==="tb"?(be.style.paddingLeft=et,be.style.paddingRight=et):(be.style.paddingTop=et,be.style.paddingBottom=et),I.lp=He}}var Te=$.styleAttrs[e.byName.multiRowAlign.qname];if(Te&&Te!=="auto"){var We=document.createElement("span");We.style.display="inline-block",We.style.textAlign=Te,we.appendChild(We),be=We,I.mra=Te}var lt=$.styleAttrs[e.byName.rubyReserve.qname];if(lt&&lt[0]!=="none"&&(I.rubyReserve=lt),$.styleAttrs[e.byName.fillLineGap.qname]&&(I.flg=!0),$.kind==="span"&&$.text){var xe=$.styleAttrs[e.byName.textEmphasis.qname];if(xe&&xe.style!=="none"&&(I.textEmphasis=!0),e.byName.textCombine.qname in $.styleAttrs&&$.styleAttrs[e.byName.textCombine.qname]==="all")we.textContent=$.text,xe&&t(I,we,0,xe);else for(var Qe="",ce=0;ce<$.text.length;ce++){Qe+=$.text.charAt(ce);var de=$.text.charCodeAt(ce);if(de<55296||de>56319||ce===$.text.length-1){var je=document.createElement("span");je.textContent=Qe,xe&&t(I,je,0,xe),we.appendChild(je),Qe="",je._isd_element=$}}}if("contents"in $)for(var f=0;f<$.contents.length;f++)n(I,be,$.contents[f],$);var o=[];if($.kind==="p"&&(_(I,be,o,null),I.rubyReserve&&(function(he,Ne){for(var Ce=0;Ce<he.length;Ce++){var ve,Le,Ze=document.createElement("ruby"),$e=document.createElement("rb");$e.textContent="",Ze.appendChild($e);var pt,it=Ne.rubyReserve[1].toUsedLength(Ne.w,Ne.h)+"px";Ne.rubyReserve[0]==="both"||Ne.rubyReserve[0]==="outside"&&he.length==1?((ve=document.createElement("rtc")).style[B]=j?"after":"under",ve.textContent="",ve.style.fontSize=it,(Le=document.createElement("rtc")).style[B]=j?"before":"over",Le.textContent="",Le.style.fontSize=it,Ze.appendChild(ve),Ze.appendChild(Le)):((ve=document.createElement("rtc")).textContent="",ve.style.fontSize=it,pt=Ne.rubyReserve[0]==="after"||Ne.rubyReserve[0]==="outside"&&Ce>0?j?"after":Ne.bpd==="tb"||Ne.bpd==="rl"?"under":"over":j?"before":Ne.bpd==="tb"||Ne.bpd==="rl"?"over":"under",ve.style[B]=pt,Ze.appendChild(ve));for(var wt=null,Mt=0;Mt<he[Ce].rbc.length;Mt++)if(he[Ce].rbc[Mt].localName==="ruby"){wt=he[Ce].rbc[Mt];for(var Pt=0;Pt<wt.style.length;Pt++)Ze.style.setProperty(wt.style.item(Pt),wt.style.getPropertyValue(wt.style.item(Pt)));break}(wt=wt||he[Ce].elements[0].node).parentElement.insertBefore(Ze,wt)}}(o,I),I.rubyReserve=null),(I.ruby||I.rubyReserve)&&(function(he,Ne){for(var Ce=0;Ce<he.length;Ce++)for(var ve=0;ve<he[Ce].rbc.length;ve++){var Le;he[Ce].rbc[ve].style[B]||(Le=j?Ce===0?"before":"after":Ne.bpd==="tb"||Ne.bpd==="rl"?Ce===0?"over":"under":Ce===0?"under":"over",he[Ce].rbc[ve].style[B]=Le)}}(o,I),I.ruby=null),I.textEmphasis&&(function(he,Ne){for(var Ce=0;Ce<he.length;Ce++)for(var ve=0;ve<he[Ce].te.length;ve++){var Le;he[Ce].te[ve].style[O]&&he[Ce].te[ve].style[O]!=="none"||(Le=Ne.bpd==="tb"?Ce===0?"left over":"left under":Ne.bpd==="rl"?Ce===0?"right under":"left under":Ce===0?"left under":"right under",he[Ce].te[ve].style[O]=Le)}}(o,I),I.textEmphasis=null),I.mra&&(function(he){for(var Ne=0;Ne<he.length-1;Ne++){var Ce=he[Ne].elements.length;if(Ce!==0&&he[Ne].br===!1){var ve=document.createElement("br"),Le=he[Ne].elements[Ce-1].node;Le.parentElement.insertBefore(ve,Le.nextSibling)}}}(o),I.mra=null),I.lp&&(function(he,Ne,Ce){if(he!==null)for(var ve=0;ve<he.length;ve++){var Le=he[ve].elements.length,Ze=Math.ceil(Ne)+"px",$e="-"+Math.ceil(Ne)+"px";if(Le!==0){var pt=he[ve].elements[he[ve].start_elem],it=he[ve].elements[he[ve].end_elem];if(pt===it&&(elementBoundingRect=pt.node.getBoundingClientRect(),elementBoundingRect.width==0||elementBoundingRect.height==0))continue;Ce.ipd==="lr"?(pt.node.style.marginLeft=$e,pt.node.style.paddingLeft=Ze):Ce.ipd==="rl"?(pt.node.style.paddingRight=Ze,pt.node.style.marginRight=$e):Ce.ipd==="tb"&&(pt.node.style.paddingTop=Ze,pt.node.style.marginTop=$e),Ce.ipd==="lr"?(it.node.style.marginRight=$e,it.node.style.paddingRight=Ze):Ce.ipd==="rl"?(it.node.style.paddingLeft=Ze,it.node.style.marginLeft=$e):Ce.ipd==="tb"&&(it.node.style.paddingBottom=Ze,it.node.style.marginBottom=$e)}}}(o,I.lp.toUsedLength(I.w,I.h),I),I.lp=null),function(he){for(var Ne=0;Ne<he.length;Ne++)for(var Ce=he[Ne],ve=1;ve<Ce.elements.length;){var Le=Ce.elements[ve-1],Ze=Ce.elements[ve];g(Le.node,Ze.node)?Ce.elements.splice(ve,1):ve++}for(var $e,pt,it=[],wt=0;wt<he.length;wt++)for(var Mt=0;Mt<he[wt].elements.length;Mt++)(pt=S($e=he[wt].elements[Mt].node,it,!1))&&($e.style.backgroundColor=pt);for(var Pt=0;Pt<it.length;Pt++)it[Pt].style.backgroundColor=""}(o),I.flg)){var v=h(be.getBoundingClientRect(),I);(function(he,Ne,Ce,ve,Le){for(var Ze=Math.sign(Ce-Ne),$e=0;$e<=he.length;$e++){var pt,it,wt,Mt;if(pt=$e===0?Math.round(Ne):$e===he.length?Math.round(Ce):Math.round((he[$e-1].after+he[$e].before)/2),$e>0&&he[$e-1])for(wt=0;wt<he[$e-1].elements.length;wt++)it=Ze*(pt-(Mt=he[$e-1].elements[wt]).after)+"px",ve.bpd==="lr"?Mt.node.style.paddingRight=it:ve.bpd==="rl"?Mt.node.style.paddingLeft=it:ve.bpd==="tb"&&(Mt.node.style.paddingBottom=it);if($e<he.length)for(wt=0;wt<he[$e].elements.length;wt++)it=Ze*((Mt=he[$e].elements[wt]).before-pt)+"px",ve.bpd==="lr"?Mt.node.style.paddingLeft=it:ve.bpd==="rl"?Mt.node.style.paddingRight=it:ve.bpd==="tb"&&(Mt.node.style.paddingTop=it)}})(o,v.before,v.after,I),I.flg=null}if($.kind==="region"&&I.bpd==="tb"&&I.enableRollUp&&$.contents.length>0&&$.styleAttrs[e.byName.displayAlign.qname]==="after"){_(I,be,o,null);var E=new i($.id===""?"_":$.id,o);if(I.currentISDState[E.id]=E,I.previousISDState&&E.id in I.previousISDState&&I.previousISDState[E.id].plist.length>0&&E.plist.length>1&&E.plist[E.plist.length-2].text===I.previousISDState[E.id].plist[I.previousISDState[E.id].plist.length-1].text){var Q=we.firstElementChild,z=E.plist[E.plist.length-1].after-E.plist[E.plist.length-1].before;Q.style.bottom="-"+z+"px",Q.style.transition="transform 0.4s",Q.style.position="relative",Q.style.transform="translateY(-"+z+"px)"}}}else(function(he,Ne){if(he&&he.error&&he.error(Ne))throw Ne})(I.errorHandler,"Error processing ISD element kind: "+$.kind)}function S(I,k,$){return I.style.backgroundColor?($&&!k.includes(I)&&k.push(I),I.style.backgroundColor):I.parentElement.nodeName==="SPAN"?S(I.parentElement,k,!0):void 0}function g(I,k){if(I.tagName==="SPAN"&&k.tagName==="SPAN"&&I._isd_element===k._isd_element){I.textContent+=k.textContent;for(var $=0;$<k.style.length;$++){var J=k.style[$];(J.indexOf("border")>=0||J.indexOf("padding")>=0||J.indexOf("margin")>=0)&&(I.style[J]=k.style[J])}return k.parentElement.removeChild(k),!0}return!1}function i(I,k){this.id=I,this.plist=k}function h(I,k){var $={before:null,after:null,start:null,end:null};return k.bpd==="tb"?($.before=I.top,$.after=I.bottom,k.ipd==="lr"?($.start=I.left,$.end=I.right):($.start=I.right,$.end=I.left)):k.bpd==="lr"?($.before=I.left,$.after=I.right,$.start=I.top,$.end=I.bottom):k.bpd==="rl"&&($.before=I.right,$.after=I.left,$.start=I.top,$.end=I.bottom),$}function _(I,k,$,J){if(k.localName!=="rt"&&k.localName!=="rtc"){var we,Be,te,st,Ae=k.style.backgroundColor||J;if(k.childElementCount===0)if(k.localName==="span"||k.localName==="rb"){var ke=h(k.getBoundingClientRect(),I);if($.length!==0&&(we=ke.before,Be=ke.after,te=$[$.length-1].before,Be<(st=$[$.length-1].after)&&we>te||st<=Be&&te>=we)){var ye=Math.sign(ke.after-ke.before),be=Math.sign(ke.end-ke.start);ye*(ke.before-$[$.length-1].before)<0&&($[$.length-1].before=ke.before),ye*(ke.after-$[$.length-1].after)>0&&($[$.length-1].after=ke.after),be*(ke.start-$[$.length-1].start)<0&&($[$.length-1].start=ke.start,$[$.length-1].start_elem=$[$.length-1].elements.length),be*(ke.end-$[$.length-1].end)>0&&($[$.length-1].end=ke.end,$[$.length-1].end_elem=$[$.length-1].elements.length)}else $.push({before:ke.before,after:ke.after,start:ke.start,end:ke.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});$[$.length-1].text+=k.textContent,$[$.length-1].elements.push({node:k,bgcolor:Ae,before:ke.before,after:ke.after})}else k.localName==="br"&&$.length!==0&&($[$.length-1].br=!0);else for(var He=k.firstChild;He;)He.nodeType===Node.ELEMENT_NODE&&(_(I,He,$,Ae),He.localName==="ruby"||He.localName==="rtc"?$.length>0&&$[$.length-1].rbc.push(He):He.localName==="span"&&He.style[X]&&He.style[X]!=="none"&&$.length>0&&$[$.length-1].te.push(He)),He=He.nextSibling}}function t(I,k,$,J){var we;J.style!=="none"&&(J.style==="auto"?k.style[X]="filled":k.style[X]=J.style+" "+J.symbol,(J.position==="before"||J.position==="after")&&(we=I.bpd==="tb"?J.position==="before"?"left over":"left under":I.bpd==="rl"?J.position==="before"?"right under":"left under":J.position==="before"?"left under":"right under",k.style[O]=we))}function l(I,k){this.qname=I,this.map=k}ae.render=function(I,k,$,J,we,Be,te,st,Ae){var ke=J||k.clientHeight,ye=we||k.clientWidth;if(I.aspectRatio!==null){var be=ke*I.aspectRatio;be>ye?ke=Math.round(ye/I.aspectRatio):ye=be}var He=document.createElement("div");He.style.position="relative",He.style.width=ye+"px",He.style.height=ke+"px",He.style.margin="auto",He.style.top=0,He.style.bottom=0,He.style.left=0,He.style.right=0,He.style.zIndex=0;var ut={h:ke,w:ye,regionH:null,regionW:null,imgResolver:$,displayForcedOnlyMode:Be||!1,isd:I,errorHandler:te,previousISDState:st,enableRollUp:Ae||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(k.appendChild(He),"contents"in I)for(var et=0;et<I.contents.length;et++)n(ut,He,I.contents[et],I);return ut.currentISDState};for(var d=[new l("http://www.w3.org/ns/ttml#styling backgroundColor",function(I,k,$,J){J[3]!==0&&(k.style.backgroundColor="rgba("+J[0].toString()+","+J[1].toString()+","+J[2].toString()+","+(J[3]/255).toString()+")")}),new l("http://www.w3.org/ns/ttml#styling color",function(I,k,$,J){k.style.color="rgba("+J[0].toString()+","+J[1].toString()+","+J[2].toString()+","+(J[3]/255).toString()+")"}),new l("http://www.w3.org/ns/ttml#styling direction",function(I,k,$,J){k.style.direction=J}),new l("http://www.w3.org/ns/ttml#styling display",function(I,k,$,J){}),new l("http://www.w3.org/ns/ttml#styling displayAlign",function(I,k,$,J){k.style.display="flex",k.style.flexDirection="column",J==="before"?k.style.justifyContent="flex-start":J==="center"?k.style.justifyContent="center":J==="after"&&(k.style.justifyContent="flex-end")}),new l("http://www.w3.org/ns/ttml#styling extent",function(I,k,$,J){I.regionH=J.h.toUsedLength(I.w,I.h),I.regionW=J.w.toUsedLength(I.w,I.h);var we=0,Be=0,te=$.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];te&&(we=te[0].toUsedLength(I.w,I.h)+te[2].toUsedLength(I.w,I.h),Be=te[1].toUsedLength(I.w,I.h)+te[3].toUsedLength(I.w,I.h)),k.style.height=I.regionH-we+"px",k.style.width=I.regionW-Be+"px"}),new l("http://www.w3.org/ns/ttml#styling fontFamily",function(I,k,$,J){for(var we=[],Be=0;Be<J.length;Be++)J[Be]==="monospaceSerif"?(we.push("Courier New"),we.push('"Liberation Mono"'),we.push("Courier"),we.push("monospace")):J[Be]==="proportionalSansSerif"?(we.push("Arial"),we.push("Helvetica"),we.push('"Liberation Sans"'),we.push("sans-serif")):J[Be]==="monospace"?we.push("monospace"):J[Be]==="sansSerif"?we.push("sans-serif"):J[Be]==="serif"?we.push("serif"):J[Be]==="monospaceSansSerif"?(we.push("Consolas"),we.push("monospace")):J[Be]==="proportionalSerif"?we.push("serif"):we.push(J[Be]);if(we.length>0){for(var te=[we[0]],st=1;st<we.length;st++)te.indexOf(we[st])==-1&&te.push(we[st]);we=te}k.style.fontFamily=we.join(",")}),new l("http://www.w3.org/ns/ttml#styling shear",function(I,k,$,J){if(J!==0){var we=-.9*J;I.bpd==="tb"?k.style.transform="skewX("+we+"deg)":k.style.transform="skewY("+we+"deg)"}}),new l("http://www.w3.org/ns/ttml#styling fontSize",function(I,k,$,J){k.style.fontSize=J.toUsedLength(I.w,I.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling fontStyle",function(I,k,$,J){k.style.fontStyle=J}),new l("http://www.w3.org/ns/ttml#styling fontWeight",function(I,k,$,J){k.style.fontWeight=J}),new l("http://www.w3.org/ns/ttml#styling lineHeight",function(I,k,$,J){k.style.lineHeight=J==="normal"?"normal":J.toUsedLength(I.w,I.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling opacity",function(I,k,$,J){k.style.opacity=J}),new l("http://www.w3.org/ns/ttml#styling origin",function(I,k,$,J){k.style.top=J.h.toUsedLength(I.w,I.h)+"px",k.style.left=J.w.toUsedLength(I.w,I.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling overflow",function(I,k,$,J){k.style.overflow=J}),new l("http://www.w3.org/ns/ttml#styling padding",function(I,k,$,J){var we=[];we[0]=J[0].toUsedLength(I.w,I.h)+"px",we[1]=J[3].toUsedLength(I.w,I.h)+"px",we[2]=J[2].toUsedLength(I.w,I.h)+"px",we[3]=J[1].toUsedLength(I.w,I.h)+"px",k.style.padding=we.join(" ")}),new l("http://www.w3.org/ns/ttml#styling position",function(I,k,$,J){k.style.top=J.h.toUsedLength(I.w,I.h)+"px",k.style.left=J.w.toUsedLength(I.w,I.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling rubyAlign",function(I,k,$,J){k.style.rubyAlign=J==="spaceAround"?"space-around":"center"}),new l("http://www.w3.org/ns/ttml#styling rubyPosition",function(I,k,$,J){var we;J!=="before"&&J!=="after"||(we=j?J:I.bpd==="tb"||I.bpd==="rl"?J==="before"?"over":"under":J==="before"?"under":"over",k.parentElement.style[B]=we)}),new l("http://www.w3.org/ns/ttml#styling showBackground",null),new l("http://www.w3.org/ns/ttml#styling textAlign",function(I,k,$,J){var we;we=J==="start"?I.ipd==="rl"?"right":"left":J==="end"?I.ipd==="rl"?"left":"right":J,k.style.textAlign=we}),new l("http://www.w3.org/ns/ttml#styling textDecoration",function(I,k,$,J){k.style.textDecoration=J.join(" ").replace("lineThrough","line-through")}),new l("http://www.w3.org/ns/ttml#styling textOutline",function(I,k,$,J){}),new l("http://www.w3.org/ns/ttml#styling textShadow",function(I,k,$,J){var we=$.styleAttrs[e.byName.textOutline.qname];if(J==="none"&&we==="none")k.style.textShadow="";else{var Be=[];if(we!=="none"){var te="rgba("+we.color[0].toString()+","+we.color[1].toString()+","+we.color[2].toString()+","+(we.color[3]/255).toString()+")";Be.push("1px 1px 1px "+te),Be.push("-1px 1px 1px "+te),Be.push("1px -1px 1px "+te),Be.push("-1px -1px 1px "+te)}if(J!=="none")for(var st=0;st<J.length;st++)Be.push(J[st].x_off.toUsedLength(I.w,I.h)+"px "+J[st].y_off.toUsedLength(I.w,I.h)+"px "+J[st].b_radius.toUsedLength(I.w,I.h)+"px rgba("+J[st].color[0].toString()+","+J[st].color[1].toString()+","+J[st].color[2].toString()+","+(J[st].color[3]/255).toString()+")");k.style.textShadow=Be.join(",")}}),new l("http://www.w3.org/ns/ttml#styling textCombine",function(I,k,$,J){k.style.textCombineUpright=J}),new l("http://www.w3.org/ns/ttml#styling textEmphasis",function(I,k,$,J){}),new l("http://www.w3.org/ns/ttml#styling unicodeBidi",function(I,k,$,J){var we;we=J==="bidiOverride"?"bidi-override":J,k.style.unicodeBidi=we}),new l("http://www.w3.org/ns/ttml#styling visibility",function(I,k,$,J){k.style.visibility=J}),new l("http://www.w3.org/ns/ttml#styling wrapOption",function(I,k,$,J){J==="wrap"?$.space==="preserve"?k.style.whiteSpace="pre-wrap":k.style.whiteSpace="normal":$.space==="preserve"?k.style.whiteSpace="pre":k.style.whiteSpace="noWrap"}),new l("http://www.w3.org/ns/ttml#styling writingMode",function(I,k,$,J){J==="lrtb"||J==="lr"||J==="rltb"||J==="rl"?k.style.writingMode="horizontal-tb":J==="tblr"?k.style.writingMode="vertical-lr":J!=="tbrl"&&J!=="tb"||(k.style.writingMode="vertical-rl")}),new l("http://www.w3.org/ns/ttml#styling zIndex",function(I,k,$,J){k.style.zIndex=J}),new l("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(I,k,$,J){I.displayForcedOnlyMode&&J===!1&&(k.style.visibility="hidden")})],P={},F=0;F<d.length;F++)P[d[F].qname]=d[F];var j="webkitRubyPosition"in window.getComputedStyle(document.documentElement),B=j?"webkitRubyPosition":"rubyPosition",X="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",O="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"})(De,typeof imscNames>"u"?D(210):imscNames,typeof imscStyles>"u"?D(6811):imscStyles,typeof imscUtils>"u"?D(5926):imscUtils)},4080:(tt,De,D)=>{(function(ae,b,e,n){ae.generateISD=function(d,P,F){var j,B=new _(d),X={},O={},I=d.head.styling.initials[e.byName.showBackground.qname],k=d.head.styling.initials[e.byName.backgroundColor.qname];for(var $ in d.head.layout.regions)if(d.head.layout.regions.hasOwnProperty($)){var J=d.head.layout.regions[$],we=J.styleAttrs[e.byName.showBackground.qname]||I,Be=J.styleAttrs[e.byName.backgroundColor.qname]||k;O[J.id]=(we==="always"||we===void 0)&&Be!==void 0&&!(P<J.begin||P>=J.end)}for(var te in d.body&&d.body.regionID&&(O[d.body.regionID]=!0),j=d.body!==null?function Ae(ke,ye){if(ye.contents){var be={};for(var He in ye)ye.hasOwnProperty(He)&&(be[He]=ye[He]);return be.contents=[],ye.contents.filter(function(ut){return!(ke<ut.begin||ke>=ut.end)}).forEach(function(ut){var et=Ae(ke,ut);et.regionID&&(O[et.regionID]=!0),et!==null&&be.contents.push(et)}),be}return ye}(P,d.body):null,O[""]!==void 0&&(O[""]=!0),O)if(O[te]){var st=g(d,P,d.head.layout.regions[te],j,null,"",d.head.layout.regions[te],F,X);st!==null&&B.contents.push(st.element)}return B};var S=[e.byName.color.qname,e.byName.textCombine.qname,e.byName.textDecoration.qname,e.byName.textEmphasis.qname,e.byName.textOutline.qname,e.byName.textShadow.qname];function g(d,P,F,j,B,X,O,I,k){if(P<O.begin||P>=O.end)return null;var $="regionID"in O&&O.regionID!==""?O.regionID:X;if(B!==null&&$!==F.id&&(!("contents"in O)||"contents"in O&&O.contents.length===0||$!==""))return null;var J=new t(O);if("sets"in O)for(var we=0;we<O.sets.length;we++)P<O.sets[we].begin||P>=O.sets[we].end||(J.styleAttrs[O.sets[we].qname]=O.sets[we].value);var Be={};for(var te in J.styleAttrs)if(J.styleAttrs.hasOwnProperty(te)&&(Be[te]=!0,J.kind==="region"&&te===e.byName.writingMode.qname&&!(e.byName.direction.qname in J.styleAttrs))){var st=J.styleAttrs[te];st==="lrtb"||st==="lr"?J.styleAttrs[e.byName.direction.qname]="ltr":st!=="rltb"&&st!=="rl"||(J.styleAttrs[e.byName.direction.qname]="rtl")}if(B!==null)for(var Ae=0;Ae<e.all.length;Ae++){var ke=e.all[Ae];if(ke.qname===e.byName.textDecoration.qname){var ye=B.styleAttrs[ke.qname],be=J.styleAttrs[ke.qname],He=[];be===void 0?He=ye:be.indexOf("none")===-1?((be.indexOf("noUnderline")===-1&&ye.indexOf("underline")!==-1||be.indexOf("underline")!==-1)&&He.push("underline"),(be.indexOf("noLineThrough")===-1&&ye.indexOf("lineThrough")!==-1||be.indexOf("lineThrough")!==-1)&&He.push("lineThrough"),(be.indexOf("noOverline")===-1&&ye.indexOf("overline")!==-1||be.indexOf("overline")!==-1)&&He.push("overline")):He.push("none"),J.styleAttrs[ke.qname]=He}else if(ke.qname!==e.byName.fontSize.qname||ke.qname in J.styleAttrs||J.kind!=="span"||J.styleAttrs[e.byName.ruby.qname]!=="textContainer")if(ke.qname!==e.byName.fontSize.qname||ke.qname in J.styleAttrs||J.kind!=="span"||J.styleAttrs[e.byName.ruby.qname]!=="text")ke.inherit&&ke.qname in B.styleAttrs&&!(ke.qname in J.styleAttrs)&&(J.styleAttrs[ke.qname]=B.styleAttrs[ke.qname]);else{var ut=B.styleAttrs[e.byName.fontSize.qname];B.styleAttrs[e.byName.ruby.qname]==="textContainer"?J.styleAttrs[ke.qname]=ut:J.styleAttrs[ke.qname]=new n.ComputedLength(.5*ut.rw,.5*ut.rh)}else{var et=B.styleAttrs[e.byName.fontSize.qname];J.styleAttrs[ke.qname]=new n.ComputedLength(.5*et.rw,.5*et.rh)}}for(var Te=0;Te<e.all.length;Te++){var We=e.all[Te];if(!(We.qname in J.styleAttrs)&&!(We.qname===e.byName.position.qname&&e.byName.origin.qname in J.styleAttrs||We.qname===e.byName.origin.qname&&e.byName.position.qname in J.styleAttrs)){var lt=d.head.styling.initials[We.qname]||We.initial;if(lt!==null&&(J.kind==="region"||We.inherit===!1&&lt!==null)){var xe=We.parse(lt);xe!==null?(J.styleAttrs[We.qname]=xe,Be[We.qname]=!0):l(I,"Invalid initial value for '"+We.qname+"' on element '"+J.kind)}}}for(var Qe=0;Qe<e.all.length;Qe++){var ce=e.all[Qe];if(ce.qname in Be&&ce.compute!==null){var de=ce.compute(d,B,J,J.styleAttrs[ce.qname],k);de!==null?J.styleAttrs[ce.qname]=de:(J.styleAttrs[ce.qname]=ce.compute(d,B,J,ce.parse(ce.initial),k),l(I,"Style '"+ce.qname+"' on element '"+J.kind+"' cannot be computed"))}}if(J.styleAttrs[e.byName.display.qname]==="none")return null;var je=null;B===null?je=j===null?[]:[j]:"contents"in O&&(je=O.contents);for(var f=0;je!==null&&f<je.length;f++){var o=g(d,P,F,j,J,$,je[f],I,k);o!==null&&J.contents.push(o.element)}for(var v in J.styleAttrs)if(J.styleAttrs.hasOwnProperty(v)){var E=!1;if(J.kind==="span"){var Q=J.styleAttrs[e.byName.ruby.qname];(E=(Q==="container"||Q==="textContainer"||Q==="baseContainer")&&S.indexOf(v)!==-1)||(E=Q!=="container"&&v===e.byName.rubyAlign.qname),E||(E=!(Q==="textContainer"||Q==="text")&&v===e.byName.rubyPosition.qname)}if(!E){var z=e.byQName[v];"applies"in z&&(E=z.applies.indexOf(J.kind)===-1)}E&&delete J.styleAttrs[v]}var he=J.styleAttrs[e.byName.ruby.qname];if(J.kind==="p"||J.kind==="span"&&(he==="textContainer"||he==="text")){var Ne=[];i(J,Ne),function(Ce){for(var ve,Le=0;Le<Ce.length;)if((ve=Ce[Le]).kind!=="br"&&ve.space!=="preserve"){var Ze=ve.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Ze)&&(Le===0||($e=Ce[Le-1]).kind==="br"||/[\r\n\t ]$/.test($e.text))&&(Ze=Ze.substring(1)),ve.text=Ze,Ze.length===0?Ce.splice(Le,1):Le++}else Le++;var $e,pt;for(Le=0;Le<Ce.length;Le++)(ve=Ce[Le]).kind!=="br"&&ve.space!=="preserve"?/[ ]$/.test(ve.text)&&(Le===Ce.length-1||(pt=Ce[Le+1]).kind==="br"||pt.space==="preserve"&&/^[\r\n]/.test(pt.text))&&(ve.text=ve.text.slice(0,-1)):Le++}(Ne),h(J)}return J.kind==="div"&&e.byName.backgroundImage.qname in J.styleAttrs||J.kind==="br"||J.kind==="image"||"contents"in J&&J.contents.length>0||J.kind==="span"&&J.text!==null||J.kind==="region"&&J.styleAttrs[e.byName.showBackground.qname]==="always"?{region_id:$,element:J}:null}function i(d,P){if("contents"in d)for(var F=0;F<d.contents.length;F++){var j=d.contents[F],B=j.styleAttrs[e.byName.ruby.qname];(j.kind!=="span"||B!=="textContainer"&&B!=="text")&&("contents"in j?i(j,P):(j.kind==="span"&&j.text.length!==0||j.kind==="br")&&P.push(j))}}function h(d){if(d.kind==="br")return!1;if("text"in d)return d.text.length===0;if("contents"in d){for(var P=d.contents.length;P--;)h(d.contents[P])&&d.contents.splice(P,1);return d.contents.length===0}}function _(d){this.contents=[],this.aspectRatio=d.aspectRatio,this.lang=d.lang}function t(d){for(var P in this.kind=d.kind||"region",this.lang=d.lang,d.id&&(this.id=d.id),this.styleAttrs={},d.styleAttrs)d.styleAttrs.hasOwnProperty(P)&&(this.styleAttrs[P]=d.styleAttrs[P]);"src"in d&&(this.src=d.src),"type"in d&&(this.type=d.type),"text"in d?this.text=d.text:(this.kind==="region"||"contents"in d)&&(this.contents=[]),"space"in d&&(this.space=d.space)}function l(d,P){if(d&&d.error&&d.error(P))throw P}})(De,typeof imscNames>"u"?D(210):imscNames,typeof imscStyles>"u"?D(6811):imscStyles,typeof imscUtils>"u"?D(5926):imscUtils)},4403:(tt,De,D)=>{De.generateISD=D(4080).generateISD,De.fromXML=D(3362).fromXML,De.renderHTML=D(506).render},210:(tt,De)=>{(function(D){D.ns_tt="http://www.w3.org/ns/ttml",D.ns_tts="http://www.w3.org/ns/ttml#styling",D.ns_ttp="http://www.w3.org/ns/ttml#parameter",D.ns_xml="http://www.w3.org/XML/1998/namespace",D.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",D.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",D.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",D.ns_ebutts="urn:ebu:tt:style"})(De)},6811:(tt,De,D)=>{(function(ae,b,e){function n(i,h,_,t,l,d,P,F){this.name=h,this.ns=i,this.qname=i+" "+h,this.inherit=l,this.animatable=d,this.initial=_,this.applies=t,this.parse=P,this.compute=F}for(var S in ae.all=[new n(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,e.parseColor,null),new n(b.ns_tts,"color","white",["span"],!0,!0,e.parseColor,null),new n(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(i){return i},null),new n(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(i){return i},null),new n(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(i){return i},null),new n(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(i){if(i==="auto")return i;var h=i.split(" ");if(h.length!==2)return null;var _=e.parseLength(h[0]),t=e.parseLength(h[1]);return t&&_?{h:t,w:_}:null},function(i,h,_,t,l){var d,P;if(t==="auto")d=new e.ComputedLength(0,1);else if((d=e.toComputedLength(t.h.value,t.h.unit,null,i.dimensions.h,null,i.pxLength.h))===null)return null;if(t==="auto")P=new e.ComputedLength(1,0);else if((P=e.toComputedLength(t.w.value,t.w.unit,null,i.dimensions.w,null,i.pxLength.w))===null)return null;return{h:d,w:P}}),new n(b.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(i){for(var h=i.split(","),_=[],t=0;t<h.length;t++)h[t].charAt(0)!=="'"&&h[t].charAt(0)!=='"'&&h[t]==="default"?_.push("monospaceSerif"):_.push(h[t]);return _},null),new n(b.ns_tts,"shear","0%",["p"],!0,!0,e.parseLength,function(i,h,_,t){return t.unit!=="%"?null:Math.abs(t.value)>100?100*Math.sign(t.value):t.value}),new n(b.ns_tts,"fontSize","1c",["span","p"],!0,!0,e.parseLength,function(i,h,_,t,l){return e.toComputedLength(t.value,t.unit,h!==null?h.styleAttrs[ae.byName.fontSize.qname]:i.cellLength.h,h!==null?h.styleAttrs[ae.byName.fontSize.qname]:i.cellLength.h,i.cellLength.h,i.pxLength.h)}),new n(b.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(i){return i},null),new n(b.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(i){return i},null),new n(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(i){return i==="normal"?i:e.parseLength(i)},function(i,h,_,t,l){var d;if(t==="normal")d=t;else if((d=e.toComputedLength(t.value,t.unit,_.styleAttrs[ae.byName.fontSize.qname],_.styleAttrs[ae.byName.fontSize.qname],i.cellLength.h,i.pxLength.h))===null)return null;return d}),new n(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(b.ns_tts,"origin","auto",["region"],!1,!0,function(i){if(i==="auto")return i;var h=i.split(" ");if(h.length!==2)return null;var _=e.parseLength(h[0]),t=e.parseLength(h[1]);return t&&_?{h:t,w:_}:null},function(i,h,_,t,l){var d,P;if(t==="auto")d=new e.ComputedLength(0,0);else if((d=e.toComputedLength(t.h.value,t.h.unit,null,i.dimensions.h,null,i.pxLength.h))===null)return null;if(t==="auto")P=new e.ComputedLength(0,0);else if((P=e.toComputedLength(t.w.value,t.w.unit,null,i.dimensions.w,null,i.pxLength.w))===null)return null;return{h:d,w:P}}),new n(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(i){return i},null),new n(b.ns_tts,"padding","0px",["region"],!1,!0,function(i){var h=i.split(" ");if(h.length>4)return null;for(var _=[],t=0;t<h.length;t++){var l=e.parseLength(h[t]);if(!l)return null;_.push(l)}return _},function(i,h,_,t,l){var d;if(t.length===1)d=[t[0],t[0],t[0],t[0]];else if(t.length===2)d=[t[0],t[1],t[0],t[1]];else if(t.length===3)d=[t[0],t[1],t[2],t[1]];else{if(t.length!==4)return null;d=[t[0],t[1],t[2],t[3]]}var P=_.styleAttrs[ae.byName.writingMode.qname];if(P==="lrtb"||P==="lr")d=[d[0],d[3],d[2],d[1]];else if(P==="rltb"||P==="rl")d=[d[0],d[1],d[2],d[3]];else if(P==="tblr")d=[d[3],d[0],d[1],d[2]];else{if(P!=="tbrl"&&P!=="tb")return null;d=[d[3],d[2],d[1],d[0]]}for(var F=[],j=0;j<d.length;j++)if(d[j].value===0)F[j]=new e.ComputedLength(0,0);else if(F[j]=e.toComputedLength(d[j].value,d[j].unit,_.styleAttrs[ae.byName.fontSize.qname],j===0||j===2?_.styleAttrs[ae.byName.extent.qname].h:_.styleAttrs[ae.byName.extent.qname].w,j===0||j===2?i.cellLength.h:i.cellLength.w,j===0||j===2?i.pxLength.h:i.pxLength.w),F[j]===null)return null;return F}),new n(b.ns_tts,"position","top left",["region"],!1,!0,function(i){return e.parsePosition(i)},function(i,h,_,t){var l,d;return(l=e.toComputedLength(t.v.offset.value,t.v.offset.unit,null,new e.ComputedLength(-_.styleAttrs[ae.byName.extent.qname].h.rw,i.dimensions.h.rh-_.styleAttrs[ae.byName.extent.qname].h.rh),null,i.pxLength.h))===null?null:(t.v.edge==="bottom"&&(l=new e.ComputedLength(-l.rw-_.styleAttrs[ae.byName.extent.qname].h.rw,i.dimensions.h.rh-l.rh-_.styleAttrs[ae.byName.extent.qname].h.rh)),d=e.toComputedLength(t.h.offset.value,t.h.offset.unit,null,new e.ComputedLength(i.dimensions.w.rw-_.styleAttrs[ae.byName.extent.qname].w.rw,-_.styleAttrs[ae.byName.extent.qname].w.rh),null,i.pxLength.w),l===null?null:(t.h.edge==="right"&&(d=new e.ComputedLength(i.dimensions.w.rw-d.rw-_.styleAttrs[ae.byName.extent.qname].w.rw,-d.rh-_.styleAttrs[ae.byName.extent.qname].w.rh)),{h:l,w:d}))}),new n(b.ns_tts,"ruby","none",["span"],!1,!0,function(i){return i},null),new n(b.ns_tts,"rubyAlign","center",["span"],!0,!0,function(i){return i!=="center"&&i!=="spaceAround"?null:i},null),new n(b.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(i){return i},null),new n(b.ns_tts,"rubyReserve","none",["p"],!0,!0,function(i){var h=i.split(" "),_=[null,null];if(h.length===0||h.length>2||h[0]!=="none"&&h[0]!=="both"&&h[0]!=="after"&&h[0]!=="before"&&h[0]!=="outside")return null;if(_[0]=h[0],h.length===2&&h[0]!=="none"){var t=e.parseLength(h[1]);if(!t)return null;_[1]=t}return _},function(i,h,_,t,l){if(t[0]==="none")return t;var d;return(d=t[1]===null?new e.ComputedLength(.5*_.styleAttrs[ae.byName.fontSize.qname].rw,.5*_.styleAttrs[ae.byName.fontSize.qname].rh):e.toComputedLength(t[1].value,t[1].unit,_.styleAttrs[ae.byName.fontSize.qname],_.styleAttrs[ae.byName.fontSize.qname],i.cellLength.h,i.pxLength.h))===null?null:[t[0],d]}),new n(b.ns_tts,"showBackground","always",["region"],!1,!0,function(i){return i},null),new n(b.ns_tts,"textAlign","start",["p"],!0,!0,function(i){return i},function(i,h,_,t,l){return t==="left"?"start":t==="right"?"end":t}),new n(b.ns_tts,"textCombine","none",["span"],!0,!0,function(i){return i==="none"||i==="all"?i:null},null),new n(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(i){return i.split(" ")},null),new n(b.ns_tts,"textEmphasis","none",["span"],!0,!0,function(i){for(var h=i.split(" "),_={style:null,symbol:null,color:null,position:null},t=0;t<h.length;t++)if(h[t]==="none"||h[t]==="auto")_.style=h[t];else if(h[t]==="filled"||h[t]==="open")_.style=h[t];else if(h[t]==="circle"||h[t]==="dot"||h[t]==="sesame")_.symbol=h[t];else if(h[t]==="current")_.color=h[t];else if(h[t]==="outside"||h[t]==="before"||h[t]==="after")_.position=h[t];else if(_.color=e.parseColor(h[t]),_.color===null)return null;return _.style==null&&_.symbol==null?_.style="auto":(_.symbol=_.symbol||"circle",_.style=_.style||"filled"),_.position=_.position||"outside",_.color=_.color||"current",_},null),new n(b.ns_tts,"textOutline","none",["span"],!0,!0,function(i){if(i==="none")return i;var h={},_=i.split(" ");if(_.length===0||_.length>2)return null;var t=e.parseColor(_[0]);if(h.color=t,t!==null&&_.shift(),_.length!==1)return null;var l=e.parseLength(_[0]);return l?(h.thickness=l,h):null},function(i,h,_,t,l){if(t==="none")return t;var d={};return t.color===null?d.color=_.styleAttrs[ae.byName.color.qname]:d.color=t.color,d.thickness=e.toComputedLength(t.thickness.value,t.thickness.unit,_.styleAttrs[ae.byName.fontSize.qname],_.styleAttrs[ae.byName.fontSize.qname],i.cellLength.h,i.pxLength.h),d.thickness===null?null:d}),new n(b.ns_tts,"textShadow","none",["span"],!0,!0,e.parseTextShadow,function(i,h,_,t){if(t==="none")return t;for(var l=[],d=0;d<t.length;d++){var P={};if(P.x_off=e.toComputedLength(t[d][0].value,t[d][0].unit,null,_.styleAttrs[ae.byName.fontSize.qname],null,i.pxLength.w),P.x_off===null||(P.y_off=e.toComputedLength(t[d][1].value,t[d][1].unit,null,_.styleAttrs[ae.byName.fontSize.qname],null,i.pxLength.h),P.y_off===null))return null;if(t[d][2]===null)P.b_radius=0;else if(P.b_radius=e.toComputedLength(t[d][2].value,t[d][2].unit,null,_.styleAttrs[ae.byName.fontSize.qname],null,i.pxLength.h),P.b_radius===null)return null;t[d][3]===null?P.color=_.styleAttrs[ae.byName.color.qname]:P.color=t[d][3],l.push(P)}return l}),new n(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(i){return i},null),new n(b.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(i){return i},null),new n(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(i){return i},null),new n(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(i){return i},null),new n(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(i){var h;return i==="auto"?h=i:(h=parseInt(i),isNaN(h)&&(h=null)),h},null),new n(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,e.parseLength,function(i,h,_,t,l){return e.toComputedLength(t.value,t.unit,null,null,i.cellLength.w,null)}),new n(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(i){return i},null),new n(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(i){return i},null),new n(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(i){return i==="true"},null),new n(b.ns_itts,"fillLineGap","false",["p"],!0,!0,function(i){return i==="true"},null)],ae.byQName={},ae.all)ae.byQName[ae.all[S].qname]=ae.all[S];for(var g in ae.byName={},ae.all)ae.byName[ae.all[g].name]=ae.all[g]})(De,typeof imscNames>"u"?D(210):imscNames,typeof imscUtils>"u"?D(5926):imscUtils)},5926:(tt,De)=>{(function(D){var ae=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,b=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,e=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};D.parseColor=function(g){var i,h=null,_=n[g.toLowerCase()];return _!==void 0?h=_:(i=ae.exec(g))!==null?h=[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),i[4]!==void 0?parseInt(i[4],16):255]:(i=b.exec(g))!==null?h=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),255]:(i=e.exec(g))!==null&&(h=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),parseInt(i[4])]),h};var S=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;D.parseLength=function(g){var i,h=null;return(i=S.exec(g))!==null&&(h={value:parseFloat(i[1]),unit:i[2]}),h},D.parseTextShadow=function(g){for(var i=g.match(/([^\(,\)]|\([^\)]+\))+/g),h=[],_=0;_<i.length;_++){var t=i[_].split(" ");if(t.length===1&&t[0]==="none")return"none";if(t.length>1&&t.length<5){var l=[null,null,null,null],d=D.parseLength(t.shift());if(d===null||(l[0]=d,(d=D.parseLength(t.shift()))===null))return null;if(l[1]=d,t.length===0){h.push(l);continue}if((d=D.parseLength(t[0]))!==null&&(l[2]=d,t.shift()),t.length===0){h.push(l);continue}var P=D.parseColor(t[0]);if(P===null)return null;l[3]=P,h.push(l)}}return h},D.parsePosition=function(g){var i=g.split(" "),h=function(j){return j==="center"||j==="left"||j==="top"||j==="bottom"||j==="right"};if(i.length>4)return null;for(var _=0;_<i.length;_++)if(!h(i[_])){var t=D.parseLength(i[_]);if(t===null)return null;i[_]=t}for(var l={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},d=0;d<i.length;){var P=i[d++];if(h(P)){var F={value:0,unit:"%"};i.length!==2&&d<i.length&&!h(i[d])&&(F=i[d++]),P==="right"?(l.h.edge=P,l.h.offset=F):P==="bottom"?(l.v.edge=P,l.v.offset=F):P==="left"?l.h.offset=F:P==="top"&&(l.v.offset=F)}else{if(i.length!==1&&i.length!==2)return null;d===1?l.h.offset=P:l.v.offset=P}}return l},D.ComputedLength=function(g,i){this.rw=g,this.rh=i},D.ComputedLength.prototype.toUsedLength=function(g,i){return g*this.rw+i*this.rh},D.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},D.toComputedLength=function(g,i,h,_,t,l){return i==="%"&&_?new D.ComputedLength(_.rw*g/100,_.rh*g/100):i==="em"&&h?new D.ComputedLength(h.rw*g,h.rh*g):i==="c"&&t?new D.ComputedLength(g*t.rw,g*t.rh):i==="px"&&l?new D.ComputedLength(g*l.rw,g*l.rh):i==="rh"?new D.ComputedLength(0,g/100):i==="rw"?new D.ComputedLength(g/100,0):null}})(De)},3516:tt=>{tt.exports=function(De){var D=typeof De=="string"?De.charCodeAt(0):De;return D>=97&&D<=122||D>=65&&D<=90}},2219:(tt,De,D)=>{var ae=D(3516),b=D(395);tt.exports=function(e){return ae(e)||b(e)}},395:tt=>{tt.exports=function(De){var D=typeof De=="string"?De.charCodeAt(0):De;return D>=48&&D<=57}},3875:tt=>{function De(b){if(typeof b!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(b))}function D(b,e){for(var n,S="",g=0,i=-1,h=0,_=0;_<=b.length;++_){if(_<b.length)n=b.charCodeAt(_);else{if(n===47)break;n=47}if(n===47){if(!(i===_-1||h===1))if(i!==_-1&&h===2){if(S.length<2||g!==2||S.charCodeAt(S.length-1)!==46||S.charCodeAt(S.length-2)!==46){if(S.length>2){var t=S.lastIndexOf("/");if(t!==S.length-1){t===-1?(S="",g=0):g=(S=S.slice(0,t)).length-1-S.lastIndexOf("/"),i=_,h=0;continue}}else if(S.length===2||S.length===1){S="",g=0,i=_,h=0;continue}}e&&(S.length>0?S+="/..":S="..",g=2)}else S.length>0?S+="/"+b.slice(i+1,_):S=b.slice(i+1,_),g=_-i-1;i=_,h=0}else n===46&&h!==-1?++h:h=-1}return S}var ae={resolve:function(){for(var b,e="",n=!1,S=arguments.length-1;S>=-1&&!n;S--){var g;S>=0?g=arguments[S]:(b===void 0&&(b=process.cwd()),g=b),De(g),g.length!==0&&(e=g+"/"+e,n=g.charCodeAt(0)===47)}return e=D(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(b){if(De(b),b.length===0)return".";var e=b.charCodeAt(0)===47,n=b.charCodeAt(b.length-1)===47;return(b=D(b,!e)).length!==0||e||(b="."),b.length>0&&n&&(b+="/"),e?"/"+b:b},isAbsolute:function(b){return De(b),b.length>0&&b.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var b,e=0;e<arguments.length;++e){var n=arguments[e];De(n),n.length>0&&(b===void 0?b=n:b+="/"+n)}return b===void 0?".":ae.normalize(b)},relative:function(b,e){if(De(b),De(e),b===e||(b=ae.resolve(b))===(e=ae.resolve(e)))return"";for(var n=1;n<b.length&&b.charCodeAt(n)===47;++n);for(var S=b.length,g=S-n,i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var h=e.length-i,_=g<h?g:h,t=-1,l=0;l<=_;++l){if(l===_){if(h>_){if(e.charCodeAt(i+l)===47)return e.slice(i+l+1);if(l===0)return e.slice(i+l)}else g>_&&(b.charCodeAt(n+l)===47?t=l:l===0&&(t=0));break}var d=b.charCodeAt(n+l);if(d!==e.charCodeAt(i+l))break;d===47&&(t=l)}var P="";for(l=n+t+1;l<=S;++l)l!==S&&b.charCodeAt(l)!==47||(P.length===0?P+="..":P+="/..");return P.length>0?P+e.slice(i+t):(i+=t,e.charCodeAt(i)===47&&++i,e.slice(i))},_makeLong:function(b){return b},dirname:function(b){if(De(b),b.length===0)return".";for(var e=b.charCodeAt(0),n=e===47,S=-1,g=!0,i=b.length-1;i>=1;--i)if((e=b.charCodeAt(i))===47){if(!g){S=i;break}}else g=!1;return S===-1?n?"/":".":n&&S===1?"//":b.slice(0,S)},basename:function(b,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');De(b);var n,S=0,g=-1,i=!0;if(e!==void 0&&e.length>0&&e.length<=b.length){if(e.length===b.length&&e===b)return"";var h=e.length-1,_=-1;for(n=b.length-1;n>=0;--n){var t=b.charCodeAt(n);if(t===47){if(!i){S=n+1;break}}else _===-1&&(i=!1,_=n+1),h>=0&&(t===e.charCodeAt(h)?--h==-1&&(g=n):(h=-1,g=_))}return S===g?g=_:g===-1&&(g=b.length),b.slice(S,g)}for(n=b.length-1;n>=0;--n)if(b.charCodeAt(n)===47){if(!i){S=n+1;break}}else g===-1&&(i=!1,g=n+1);return g===-1?"":b.slice(S,g)},extname:function(b){De(b);for(var e=-1,n=0,S=-1,g=!0,i=0,h=b.length-1;h>=0;--h){var _=b.charCodeAt(h);if(_!==47)S===-1&&(g=!1,S=h+1),_===46?e===-1?e=h:i!==1&&(i=1):e!==-1&&(i=-1);else if(!g){n=h+1;break}}return e===-1||S===-1||i===0||i===1&&e===S-1&&e===n+1?"":b.slice(e,S)},format:function(b){if(b===null||typeof b!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof b);return function(e,n){var S=n.dir||n.root,g=n.base||(n.name||"")+(n.ext||"");return S?S===n.root?S+g:S+"/"+g:g}(0,b)},parse:function(b){De(b);var e={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return e;var n,S=b.charCodeAt(0),g=S===47;g?(e.root="/",n=1):n=0;for(var i=-1,h=0,_=-1,t=!0,l=b.length-1,d=0;l>=n;--l)if((S=b.charCodeAt(l))!==47)_===-1&&(t=!1,_=l+1),S===46?i===-1?i=l:d!==1&&(d=1):i!==-1&&(d=-1);else if(!t){h=l+1;break}return i===-1||_===-1||d===0||d===1&&i===_-1&&i===h+1?_!==-1&&(e.base=e.name=h===0&&g?b.slice(1,_):b.slice(h,_)):(h===0&&g?(e.name=b.slice(1,i),e.base=b.slice(1,_)):(e.name=b.slice(h,i),e.base=b.slice(h,_)),e.ext=b.slice(i,_)),h>0?e.dir=b.slice(0,h-1):g&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};ae.posix=ae,tt.exports=ae},8387:(tt,De,D)=>{var ae=D(1549),b=ae.Buffer;function e(S,g){for(var i in S)g[i]=S[i]}function n(S,g,i){return b(S,g,i)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?tt.exports=ae:(e(ae,De),De.Buffer=n),e(b,n),n.from=function(S,g,i){if(typeof S=="number")throw new TypeError("Argument must not be a number");return b(S,g,i)},n.alloc=function(S,g,i){if(typeof S!="number")throw new TypeError("Argument must be a number");var h=b(S);return g!==void 0?typeof i=="string"?h.fill(g,i):h.fill(g):h.fill(0),h},n.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return b(S)},n.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return ae.SlowBuffer(S)}},5378:(tt,De,D)=>{(function(ae){ae.parser=function(f,o){return new n(f,o)},ae.SAXParser=n,ae.SAXStream=g,ae.createStream=function(f,o){return new g(f,o)},ae.MAX_BUFFER_LENGTH=65536;var b,e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(f,o){if(!(this instanceof n))return new n(f,o);var v=this;(function(E){for(var Q=0,z=e.length;Q<z;Q++)E[e[Q]]=""})(v),v.q=v.c="",v.bufferCheckPosition=ae.MAX_BUFFER_LENGTH,v.opt=o||{},v.opt.lowercase=v.opt.lowercase||v.opt.lowercasetags,v.looseCase=v.opt.lowercase?"toLowerCase":"toUpperCase",v.tags=[],v.closed=v.closedRoot=v.sawRoot=!1,v.tag=v.error=null,v.strict=!!f,v.noscript=!(!f&&!v.opt.noscript),v.state=te.BEGIN,v.strictEntities=v.opt.strictEntities,v.ENTITIES=v.strictEntities?Object.create(ae.XML_ENTITIES):Object.create(ae.ENTITIES),v.attribList=[],v.opt.xmlns&&(v.ns=Object.create(F)),v.trackPosition=v.opt.position!==!1,v.trackPosition&&(v.position=v.line=v.column=0),Ae(v,"onready")}ae.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(f){function o(){}return o.prototype=f,new o}),Object.keys||(Object.keys=function(f){var o=[];for(var v in f)f.hasOwnProperty(v)&&o.push(v);return o}),n.prototype={end:function(){ut(this)},write:function(f){var o=this;if(this.error)throw this.error;if(o.closed)return He(o,"Cannot write after close. Assign an onready handler.");if(f===null)return ut(o);typeof f=="object"&&(f=f.toString());for(var v=0,E="";E=je(f,v++),o.c=E,E;)switch(o.trackPosition&&(o.position++,E===`
`?(o.line++,o.column=0):o.column++),o.state){case te.BEGIN:if(o.state=te.BEGIN_WHITESPACE,E==="\uFEFF")continue;de(o,E);continue;case te.BEGIN_WHITESPACE:de(o,E);continue;case te.TEXT:if(o.sawRoot&&!o.closedRoot){for(var Q=v-1;E&&E!=="<"&&E!=="&";)(E=je(f,v++))&&o.trackPosition&&(o.position++,E===`
`?(o.line++,o.column=0):o.column++);o.textNode+=f.substring(Q,v-1)}E!=="<"||o.sawRoot&&o.closedRoot&&!o.strict?(!$(i,E)||o.sawRoot&&!o.closedRoot||et(o,"Text data outside of root node."),E==="&"?o.state=te.TEXT_ENTITY:o.textNode+=E):(o.state=te.OPEN_WAKA,o.startTagPosition=o.position);continue;case te.SCRIPT:E==="<"?o.state=te.SCRIPT_ENDING:o.script+=E;continue;case te.SCRIPT_ENDING:E==="/"?o.state=te.CLOSE_TAG:(o.script+="<"+E,o.state=te.SCRIPT);continue;case te.OPEN_WAKA:if(E==="!")o.state=te.SGML_DECL,o.sgmlDecl="";else if(!k(i,E))if(k(j,E))o.state=te.OPEN_TAG,o.tagName=E;else if(E==="/")o.state=te.CLOSE_TAG,o.tagName="";else if(E==="?")o.state=te.PROC_INST,o.procInstName=o.procInstBody="";else{if(et(o,"Unencoded <"),o.startTagPosition+1<o.position){var z=o.position-o.startTagPosition;E=new Array(z).join(" ")+E}o.textNode+="<"+E,o.state=te.TEXT}continue;case te.SGML_DECL:(o.sgmlDecl+E).toUpperCase()==="[CDATA["?(ke(o,"onopencdata"),o.state=te.CDATA,o.sgmlDecl="",o.cdata=""):o.sgmlDecl+E==="--"?(o.state=te.COMMENT,o.comment="",o.sgmlDecl=""):(o.sgmlDecl+E).toUpperCase()==="DOCTYPE"?(o.state=te.DOCTYPE,(o.doctype||o.sawRoot)&&et(o,"Inappropriately located doctype declaration"),o.doctype="",o.sgmlDecl=""):E===">"?(ke(o,"onsgmldeclaration",o.sgmlDecl),o.sgmlDecl="",o.state=te.TEXT):(k(t,E)&&(o.state=te.SGML_DECL_QUOTED),o.sgmlDecl+=E);continue;case te.SGML_DECL_QUOTED:E===o.q&&(o.state=te.SGML_DECL,o.q=""),o.sgmlDecl+=E;continue;case te.DOCTYPE:E===">"?(o.state=te.TEXT,ke(o,"ondoctype",o.doctype),o.doctype=!0):(o.doctype+=E,E==="["?o.state=te.DOCTYPE_DTD:k(t,E)&&(o.state=te.DOCTYPE_QUOTED,o.q=E));continue;case te.DOCTYPE_QUOTED:o.doctype+=E,E===o.q&&(o.q="",o.state=te.DOCTYPE);continue;case te.DOCTYPE_DTD:o.doctype+=E,E==="]"?o.state=te.DOCTYPE:k(t,E)&&(o.state=te.DOCTYPE_DTD_QUOTED,o.q=E);continue;case te.DOCTYPE_DTD_QUOTED:o.doctype+=E,E===o.q&&(o.state=te.DOCTYPE_DTD,o.q="");continue;case te.COMMENT:E==="-"?o.state=te.COMMENT_ENDING:o.comment+=E;continue;case te.COMMENT_ENDING:E==="-"?(o.state=te.COMMENT_ENDED,o.comment=be(o.opt,o.comment),o.comment&&ke(o,"oncomment",o.comment),o.comment=""):(o.comment+="-"+E,o.state=te.COMMENT);continue;case te.COMMENT_ENDED:E!==">"?(et(o,"Malformed comment"),o.comment+="--"+E,o.state=te.COMMENT):o.state=te.TEXT;continue;case te.CDATA:E==="]"?o.state=te.CDATA_ENDING:o.cdata+=E;continue;case te.CDATA_ENDING:E==="]"?o.state=te.CDATA_ENDING_2:(o.cdata+="]"+E,o.state=te.CDATA);continue;case te.CDATA_ENDING_2:E===">"?(o.cdata&&ke(o,"oncdata",o.cdata),ke(o,"onclosecdata"),o.cdata="",o.state=te.TEXT):E==="]"?o.cdata+="]":(o.cdata+="]]"+E,o.state=te.CDATA);continue;case te.PROC_INST:E==="?"?o.state=te.PROC_INST_ENDING:k(i,E)?o.state=te.PROC_INST_BODY:o.procInstName+=E;continue;case te.PROC_INST_BODY:if(!o.procInstBody&&k(i,E))continue;E==="?"?o.state=te.PROC_INST_ENDING:o.procInstBody+=E;continue;case te.PROC_INST_ENDING:E===">"?(ke(o,"onprocessinginstruction",{name:o.procInstName,body:o.procInstBody}),o.procInstName=o.procInstBody="",o.state=te.TEXT):(o.procInstBody+="?"+E,o.state=te.PROC_INST_BODY);continue;case te.OPEN_TAG:k(B,E)?o.tagName+=E:(Te(o),E===">"?xe(o):E==="/"?o.state=te.OPEN_TAG_SLASH:($(i,E)&&et(o,"Invalid character in tag name"),o.state=te.ATTRIB));continue;case te.OPEN_TAG_SLASH:E===">"?(xe(o,!0),Qe(o)):(et(o,"Forward-slash in opening tag not followed by >"),o.state=te.ATTRIB);continue;case te.ATTRIB:if(k(i,E))continue;E===">"?xe(o):E==="/"?o.state=te.OPEN_TAG_SLASH:k(j,E)?(o.attribName=E,o.attribValue="",o.state=te.ATTRIB_NAME):et(o,"Invalid attribute name");continue;case te.ATTRIB_NAME:E==="="?o.state=te.ATTRIB_VALUE:E===">"?(et(o,"Attribute without value"),o.attribValue=o.attribName,lt(o),xe(o)):k(i,E)?o.state=te.ATTRIB_NAME_SAW_WHITE:k(B,E)?o.attribName+=E:et(o,"Invalid attribute name");continue;case te.ATTRIB_NAME_SAW_WHITE:if(E==="=")o.state=te.ATTRIB_VALUE;else{if(k(i,E))continue;et(o,"Attribute without value"),o.tag.attributes[o.attribName]="",o.attribValue="",ke(o,"onattribute",{name:o.attribName,value:""}),o.attribName="",E===">"?xe(o):k(j,E)?(o.attribName=E,o.state=te.ATTRIB_NAME):(et(o,"Invalid attribute name"),o.state=te.ATTRIB)}continue;case te.ATTRIB_VALUE:if(k(i,E))continue;k(t,E)?(o.q=E,o.state=te.ATTRIB_VALUE_QUOTED):(et(o,"Unquoted attribute value"),o.state=te.ATTRIB_VALUE_UNQUOTED,o.attribValue=E);continue;case te.ATTRIB_VALUE_QUOTED:if(E!==o.q){E==="&"?o.state=te.ATTRIB_VALUE_ENTITY_Q:o.attribValue+=E;continue}lt(o),o.q="",o.state=te.ATTRIB_VALUE_CLOSED;continue;case te.ATTRIB_VALUE_CLOSED:k(i,E)?o.state=te.ATTRIB:E===">"?xe(o):E==="/"?o.state=te.OPEN_TAG_SLASH:k(j,E)?(et(o,"No whitespace between attributes"),o.attribName=E,o.attribValue="",o.state=te.ATTRIB_NAME):et(o,"Invalid attribute name");continue;case te.ATTRIB_VALUE_UNQUOTED:if($(l,E)){E==="&"?o.state=te.ATTRIB_VALUE_ENTITY_U:o.attribValue+=E;continue}lt(o),E===">"?xe(o):o.state=te.ATTRIB;continue;case te.CLOSE_TAG:if(o.tagName)E===">"?Qe(o):k(B,E)?o.tagName+=E:o.script?(o.script+="</"+o.tagName,o.tagName="",o.state=te.SCRIPT):($(i,E)&&et(o,"Invalid tagname in closing tag"),o.state=te.CLOSE_TAG_SAW_WHITE);else{if(k(i,E))continue;$(j,E)?o.script?(o.script+="</"+E,o.state=te.SCRIPT):et(o,"Invalid tagname in closing tag."):o.tagName=E}continue;case te.CLOSE_TAG_SAW_WHITE:if(k(i,E))continue;E===">"?Qe(o):et(o,"Invalid characters in closing tag");continue;case te.TEXT_ENTITY:case te.ATTRIB_VALUE_ENTITY_Q:case te.ATTRIB_VALUE_ENTITY_U:var he,Ne;switch(o.state){case te.TEXT_ENTITY:he=te.TEXT,Ne="textNode";break;case te.ATTRIB_VALUE_ENTITY_Q:he=te.ATTRIB_VALUE_QUOTED,Ne="attribValue";break;case te.ATTRIB_VALUE_ENTITY_U:he=te.ATTRIB_VALUE_UNQUOTED,Ne="attribValue"}E===";"?(o[Ne]+=ce(o),o.entity="",o.state=he):k(o.entity.length?O:X,E)?o.entity+=E:(et(o,"Invalid character in entity name"),o[Ne]+="&"+o.entity+E,o.entity="",o.state=he);continue;default:throw new Error(o,"Unknown state: "+o.state)}return o.position>=o.bufferCheckPosition&&function(Ce){for(var ve=Math.max(ae.MAX_BUFFER_LENGTH,10),Le=0,Ze=0,$e=e.length;Ze<$e;Ze++){var pt=Ce[e[Ze]].length;if(pt>ve)switch(e[Ze]){case"textNode":ye(Ce);break;case"cdata":ke(Ce,"oncdata",Ce.cdata),Ce.cdata="";break;case"script":ke(Ce,"onscript",Ce.script),Ce.script="";break;default:He(Ce,"Max buffer length exceeded: "+e[Ze])}Le=Math.max(Le,pt)}var it=ae.MAX_BUFFER_LENGTH-Le;Ce.bufferCheckPosition=it+Ce.position}(o),o},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var f;ye(f=this),f.cdata!==""&&(ke(f,"oncdata",f.cdata),f.cdata=""),f.script!==""&&(ke(f,"onscript",f.script),f.script="")}};try{b=D(182).Stream}catch{b=function(){}}var S=ae.EVENTS.filter(function(f){return f!=="error"&&f!=="end"});function g(f,o){if(!(this instanceof g))return new g(f,o);b.apply(this),this._parser=new n(f,o),this.writable=!0,this.readable=!0;var v=this;this._parser.onend=function(){v.emit("end")},this._parser.onerror=function(E){v.emit("error",E),v._parser.error=null},this._decoder=null,S.forEach(function(E){Object.defineProperty(v,"on"+E,{get:function(){return v._parser["on"+E]},set:function(Q){if(!Q)return v.removeAllListeners(E),v._parser["on"+E]=Q,Q;v.on(E,Q)},enumerable:!0,configurable:!1})})}g.prototype=Object.create(b.prototype,{constructor:{value:g}}),g.prototype.write=function(f){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(f)){if(!this._decoder){var o=D(7503).s;this._decoder=new o("utf8")}f=this._decoder.write(f)}return this._parser.write(f.toString()),this.emit("data",f),!0},g.prototype.end=function(f){return f&&f.length&&this.write(f),this._parser.end(),!0},g.prototype.on=function(f,o){var v=this;return v._parser["on"+f]||S.indexOf(f)===-1||(v._parser["on"+f]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,f),v.emit.apply(v,E)}),b.prototype.on.call(v,f,o)};var i=`\r
	 `,h="0124356789",_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t=`'"`,l=i+">",d="http://www.w3.org/XML/1998/namespace",P="http://www.w3.org/2000/xmlns/",F={xml:d,xmlns:P};i=I(i),h=I(h),_=I(_);var j=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,X=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function I(f){return f.split("").reduce(function(o,v){return o[v]=!0,o},{})}function k(f,o){return function(v){return Object.prototype.toString.call(v)==="[object RegExp]"}(f)?!!o.match(f):f[o]}function $(f,o){return!k(f,o)}t=I(t),l=I(l);var J,we,Be,te=0;for(var st in ae.STATE={BEGIN:te++,BEGIN_WHITESPACE:te++,TEXT:te++,TEXT_ENTITY:te++,OPEN_WAKA:te++,SGML_DECL:te++,SGML_DECL_QUOTED:te++,DOCTYPE:te++,DOCTYPE_QUOTED:te++,DOCTYPE_DTD:te++,DOCTYPE_DTD_QUOTED:te++,COMMENT_STARTING:te++,COMMENT:te++,COMMENT_ENDING:te++,COMMENT_ENDED:te++,CDATA:te++,CDATA_ENDING:te++,CDATA_ENDING_2:te++,PROC_INST:te++,PROC_INST_BODY:te++,PROC_INST_ENDING:te++,OPEN_TAG:te++,OPEN_TAG_SLASH:te++,ATTRIB:te++,ATTRIB_NAME:te++,ATTRIB_NAME_SAW_WHITE:te++,ATTRIB_VALUE:te++,ATTRIB_VALUE_QUOTED:te++,ATTRIB_VALUE_CLOSED:te++,ATTRIB_VALUE_UNQUOTED:te++,ATTRIB_VALUE_ENTITY_Q:te++,ATTRIB_VALUE_ENTITY_U:te++,CLOSE_TAG:te++,CLOSE_TAG_SAW_WHITE:te++,SCRIPT:te++,SCRIPT_ENDING:te++},ae.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ae.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ae.ENTITIES).forEach(function(f){var o=ae.ENTITIES[f],v=typeof o=="number"?String.fromCharCode(o):o;ae.ENTITIES[f]=v}),ae.STATE)ae.STATE[ae.STATE[st]]=st;function Ae(f,o,v){f[o]&&f[o](v)}function ke(f,o,v){f.textNode&&ye(f),Ae(f,o,v)}function ye(f){f.textNode=be(f.opt,f.textNode),f.textNode&&Ae(f,"ontext",f.textNode),f.textNode=""}function be(f,o){return f.trim&&(o=o.trim()),f.normalize&&(o=o.replace(/\s+/g," ")),o}function He(f,o){return ye(f),f.trackPosition&&(o+=`
Line: `+f.line+`
Column: `+f.column+`
Char: `+f.c),o=new Error(o),f.error=o,Ae(f,"onerror",o),f}function ut(f){return f.sawRoot&&!f.closedRoot&&et(f,"Unclosed root tag"),f.state!==te.BEGIN&&f.state!==te.BEGIN_WHITESPACE&&f.state!==te.TEXT&&He(f,"Unexpected end"),ye(f),f.c="",f.closed=!0,Ae(f,"onend"),n.call(f,f.strict,f.opt),f}function et(f,o){if(typeof f!="object"||!(f instanceof n))throw new Error("bad call to strictFail");f.strict&&He(f,o)}function Te(f){f.strict||(f.tagName=f.tagName[f.looseCase]());var o=f.tags[f.tags.length-1]||f,v=f.tag={name:f.tagName,attributes:{}};f.opt.xmlns&&(v.ns=o.ns),f.attribList.length=0,ke(f,"onopentagstart",v)}function We(f,o){var v=f.indexOf(":")<0?["",f]:f.split(":"),E=v[0],Q=v[1];return o&&f==="xmlns"&&(E="xmlns",Q=""),{prefix:E,local:Q}}function lt(f){if(f.strict||(f.attribName=f.attribName[f.looseCase]()),f.attribList.indexOf(f.attribName)!==-1||f.tag.attributes.hasOwnProperty(f.attribName))f.attribName=f.attribValue="";else{if(f.opt.xmlns){var o=We(f.attribName,!0),v=o.prefix,E=o.local;if(v==="xmlns")if(E==="xml"&&f.attribValue!==d)et(f,"xml: prefix must be bound to "+d+`
Actual: `+f.attribValue);else if(E==="xmlns"&&f.attribValue!==P)et(f,"xmlns: prefix must be bound to "+P+`
Actual: `+f.attribValue);else{var Q=f.tag,z=f.tags[f.tags.length-1]||f;Q.ns===z.ns&&(Q.ns=Object.create(z.ns)),Q.ns[E]=f.attribValue}f.attribList.push([f.attribName,f.attribValue])}else f.tag.attributes[f.attribName]=f.attribValue,ke(f,"onattribute",{name:f.attribName,value:f.attribValue});f.attribName=f.attribValue=""}}function xe(f,o){if(f.opt.xmlns){var v=f.tag,E=We(f.tagName);v.prefix=E.prefix,v.local=E.local,v.uri=v.ns[E.prefix]||"",v.prefix&&!v.uri&&(et(f,"Unbound namespace prefix: "+JSON.stringify(f.tagName)),v.uri=E.prefix);var Q=f.tags[f.tags.length-1]||f;v.ns&&Q.ns!==v.ns&&Object.keys(v.ns).forEach(function(wt){ke(f,"onopennamespace",{prefix:wt,uri:v.ns[wt]})});for(var z=0,he=f.attribList.length;z<he;z++){var Ne=f.attribList[z],Ce=Ne[0],ve=Ne[1],Le=We(Ce,!0),Ze=Le.prefix,$e=Le.local,pt=Ze===""?"":v.ns[Ze]||"",it={name:Ce,value:ve,prefix:Ze,local:$e,uri:pt};Ze&&Ze!=="xmlns"&&!pt&&(et(f,"Unbound namespace prefix: "+JSON.stringify(Ze)),it.uri=Ze),f.tag.attributes[Ce]=it,ke(f,"onattribute",it)}f.attribList.length=0}f.tag.isSelfClosing=!!o,f.sawRoot=!0,f.tags.push(f.tag),ke(f,"onopentag",f.tag),o||(f.noscript||f.tagName.toLowerCase()!=="script"?f.state=te.TEXT:f.state=te.SCRIPT,f.tag=null,f.tagName=""),f.attribName=f.attribValue="",f.attribList.length=0}function Qe(f){if(!f.tagName)return et(f,"Weird empty close tag."),f.textNode+="</>",void(f.state=te.TEXT);if(f.script){if(f.tagName!=="script")return f.script+="</"+f.tagName+">",f.tagName="",void(f.state=te.SCRIPT);ke(f,"onscript",f.script),f.script=""}var o=f.tags.length,v=f.tagName;f.strict||(v=v[f.looseCase]());for(var E=v;o--&&f.tags[o].name!==E;)et(f,"Unexpected close tag");if(o<0)return et(f,"Unmatched closing tag: "+f.tagName),f.textNode+="</"+f.tagName+">",void(f.state=te.TEXT);f.tagName=v;for(var Q=f.tags.length;Q-- >o;){var z=f.tag=f.tags.pop();f.tagName=f.tag.name,ke(f,"onclosetag",f.tagName);var he={};for(var Ne in z.ns)he[Ne]=z.ns[Ne];var Ce=f.tags[f.tags.length-1]||f;f.opt.xmlns&&z.ns!==Ce.ns&&Object.keys(z.ns).forEach(function(ve){var Le=z.ns[ve];ke(f,"onclosenamespace",{prefix:ve,uri:Le})})}o===0&&(f.closedRoot=!0),f.tagName=f.attribValue=f.attribName="",f.attribList.length=0,f.state=te.TEXT}function ce(f){var o,v=f.entity,E=v.toLowerCase(),Q="";return f.ENTITIES[v]?f.ENTITIES[v]:f.ENTITIES[E]?f.ENTITIES[E]:((v=E).charAt(0)==="#"&&(v.charAt(1)==="x"?(v=v.slice(2),Q=(o=parseInt(v,16)).toString(16)):(v=v.slice(1),Q=(o=parseInt(v,10)).toString(10))),v=v.replace(/^0+/,""),Q.toLowerCase()!==v?(et(f,"Invalid character entity"),"&"+f.entity+";"):String.fromCodePoint(o))}function de(f,o){o==="<"?(f.state=te.OPEN_WAKA,f.startTagPosition=f.position):$(i,o)&&(et(f,"Non-whitespace before first tag."),f.textNode=o,f.state=te.TEXT)}function je(f,o){var v="";return o<f.length&&(v=f.charAt(o)),v}te=ae.STATE,String.fromCodePoint||(J=String.fromCharCode,we=Math.floor,Be=function(){var f,o,v=16384,E=[],Q=-1,z=arguments.length;if(!z)return"";for(var he="";++Q<z;){var Ne=Number(arguments[Q]);if(!isFinite(Ne)||Ne<0||Ne>1114111||we(Ne)!==Ne)throw RangeError("Invalid code point: "+Ne);Ne<=65535?E.push(Ne):(f=55296+((Ne-=65536)>>10),o=Ne%1024+56320,E.push(f,o)),(Q+1===z||E.length>v)&&(he+=J.apply(null,E),E.length=0)}return he},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Be,configurable:!0,writable:!0}):String.fromCodePoint=Be)})(De)},182:(tt,De,D)=>{tt.exports=b;var ae=D(1159).EventEmitter;function b(){ae.call(this)}D(1765)(b,ae),b.Readable=D(2846),b.Writable=D(8318),b.Duplex=D(6138),b.Transform=D(9798),b.PassThrough=D(5472),b.finished=D(8800),b.pipeline=D(7295),b.Stream=b,b.prototype.pipe=function(e,n){var S=this;function g(P){e.writable&&e.write(P)===!1&&S.pause&&S.pause()}function i(){S.readable&&S.resume&&S.resume()}S.on("data",g),e.on("drain",i),e._isStdio||n&&n.end===!1||(S.on("end",_),S.on("close",t));var h=!1;function _(){h||(h=!0,e.end())}function t(){h||(h=!0,typeof e.destroy=="function"&&e.destroy())}function l(P){if(d(),ae.listenerCount(this,"error")===0)throw P}function d(){S.removeListener("data",g),e.removeListener("drain",i),S.removeListener("end",_),S.removeListener("close",t),S.removeListener("error",l),e.removeListener("error",l),S.removeListener("end",d),S.removeListener("close",d),e.removeListener("close",d)}return S.on("error",l),e.on("error",l),S.on("end",d),S.on("close",d),e.on("close",d),e.emit("pipe",S),e}},1765:tt=>{typeof Object.create=="function"?tt.exports=function(De,D){D&&(De.super_=D,De.prototype=Object.create(D.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}))}:tt.exports=function(De,D){if(D){De.super_=D;var ae=function(){};ae.prototype=D.prototype,De.prototype=new ae,De.prototype.constructor=De}}},3690:tt=>{var De={};function D(b,e,n){n||(n=Error);var S=function(g){var i,h;function _(t,l,d){return g.call(this,function(P,F,j){return typeof e=="string"?e:e(P,F,j)}(t,l,d))||this}return h=g,(i=_).prototype=Object.create(h.prototype),i.prototype.constructor=i,i.__proto__=h,_}(n);S.prototype.name=n.name,S.prototype.code=b,De[b]=S}function ae(b,e){if(Array.isArray(b)){var n=b.length;return b=b.map(function(S){return String(S)}),n>2?"one of ".concat(e," ").concat(b.slice(0,n-1).join(", "),", or ")+b[n-1]:n===2?"one of ".concat(e," ").concat(b[0]," or ").concat(b[1]):"of ".concat(e," ").concat(b[0])}return"of ".concat(e," ").concat(String(b))}D("ERR_INVALID_OPT_VALUE",function(b,e){return'The value "'+e+'" is invalid for option "'+b+'"'},TypeError),D("ERR_INVALID_ARG_TYPE",function(b,e,n){var S,g,i,h,_;if(typeof e=="string"&&(g="not ",e.substr(0,g.length)===g)?(S="must not be",e=e.replace(/^not /,"")):S="must be",function(l,d,P){return(P===void 0||P>l.length)&&(P=l.length),l.substring(P-d.length,P)===d}(b," argument"))i="The ".concat(b," ").concat(S," ").concat(ae(e,"type"));else{var t=(typeof _!="number"&&(_=0),_+1>(h=b).length||h.indexOf(".",_)===-1?"argument":"property");i='The "'.concat(b,'" ').concat(t," ").concat(S," ").concat(ae(e,"type"))}return i+". Received type ".concat(typeof n)},TypeError),D("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),D("ERR_METHOD_NOT_IMPLEMENTED",function(b){return"The "+b+" method is not implemented"}),D("ERR_STREAM_PREMATURE_CLOSE","Premature close"),D("ERR_STREAM_DESTROYED",function(b){return"Cannot call "+b+" after a stream was destroyed"}),D("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),D("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),D("ERR_STREAM_WRITE_AFTER_END","write after end"),D("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),D("ERR_UNKNOWN_ENCODING",function(b){return"Unknown encoding: "+b},TypeError),D("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.q=De},6138:(tt,De,D)=>{var ae=Object.keys||function(t){var l=[];for(var d in t)l.push(d);return l};tt.exports=i;var b=D(2846),e=D(8318);D(1765)(i,b);for(var n=ae(e.prototype),S=0;S<n.length;S++){var g=n[S];i.prototype[g]||(i.prototype[g]=e.prototype[g])}function i(t){if(!(this instanceof i))return new i(t);b.call(this,t),e.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||process.nextTick(_,this)}function _(t){t.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},5472:(tt,De,D)=>{tt.exports=b;var ae=D(9798);function b(e){if(!(this instanceof b))return new b(e);ae.call(this,e)}D(1765)(b,ae),b.prototype._transform=function(e,n,S){S(null,e)}},2846:(tt,De,D)=>{var ae;tt.exports=J,J.ReadableState=$,D(1159).EventEmitter;var b,e=function(ce,de){return ce.listeners(de).length},n=D(9299),S=D(1549).Buffer,g=D.g.Uint8Array||function(){},i=D(964);b=i&&i.debuglog?i.debuglog("stream"):function(){};var h,_,t,l=D(8393),d=D(6163),P=D(7269).getHighWaterMark,F=D(3690).q,j=F.ERR_INVALID_ARG_TYPE,B=F.ERR_STREAM_PUSH_AFTER_EOF,X=F.ERR_METHOD_NOT_IMPLEMENTED,O=F.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;D(1765)(J,n);var I=d.errorOrDestroy,k=["error","close","destroy","pause","resume"];function $(ce,de,je){ae=ae||D(6138),ce=ce||{},typeof je!="boolean"&&(je=de instanceof ae),this.objectMode=!!ce.objectMode,je&&(this.objectMode=this.objectMode||!!ce.readableObjectMode),this.highWaterMark=P(this,ce,"readableHighWaterMark",je),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.destroyed=!1,this.defaultEncoding=ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ce.encoding&&(h||(h=D(7503).s),this.decoder=new h(ce.encoding),this.encoding=ce.encoding)}function J(ce){if(ae=ae||D(6138),!(this instanceof J))return new J(ce);var de=this instanceof ae;this._readableState=new $(ce,this,de),this.readable=!0,ce&&(typeof ce.read=="function"&&(this._read=ce.read),typeof ce.destroy=="function"&&(this._destroy=ce.destroy)),n.call(this)}function we(ce,de,je,f,o){b("readableAddChunk",de);var v,E=ce._readableState;if(de===null)E.reading=!1,function(Q,z){if(b("onEofChunk"),!z.ended){if(z.decoder){var he=z.decoder.end();he&&he.length&&(z.buffer.push(he),z.length+=z.objectMode?1:he.length)}z.ended=!0,z.sync?Ae(Q):(z.needReadable=!1,z.emittedReadable||(z.emittedReadable=!0,ke(Q)))}}(ce,E);else if(o||(v=function(Q,z){var he,Ne;return Ne=z,S.isBuffer(Ne)||Ne instanceof g||typeof z=="string"||z===void 0||Q.objectMode||(he=new j("chunk",["string","Buffer","Uint8Array"],z)),he}(E,de)),v)I(ce,v);else if(E.objectMode||de&&de.length>0)if(typeof de=="string"||E.objectMode||Object.getPrototypeOf(de)===S.prototype||(de=function(Q){return S.from(Q)}(de)),f)E.endEmitted?I(ce,new O):Be(ce,E,de,!0);else if(E.ended)I(ce,new B);else{if(E.destroyed)return!1;E.reading=!1,E.decoder&&!je?(de=E.decoder.write(de),E.objectMode||de.length!==0?Be(ce,E,de,!1):ye(ce,E)):Be(ce,E,de,!1)}else f||(E.reading=!1,ye(ce,E));return!E.ended&&(E.length<E.highWaterMark||E.length===0)}function Be(ce,de,je,f){de.flowing&&de.length===0&&!de.sync?(de.awaitDrain=0,ce.emit("data",je)):(de.length+=de.objectMode?1:je.length,f?de.buffer.unshift(je):de.buffer.push(je),de.needReadable&&Ae(ce)),ye(ce,de)}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(ce){this._readableState&&(this._readableState.destroyed=ce)}}),J.prototype.destroy=d.destroy,J.prototype._undestroy=d.undestroy,J.prototype._destroy=function(ce,de){de(ce)},J.prototype.push=function(ce,de){var je,f=this._readableState;return f.objectMode?je=!0:typeof ce=="string"&&((de=de||f.defaultEncoding)!==f.encoding&&(ce=S.from(ce,de),de=""),je=!0),we(this,ce,de,!1,je)},J.prototype.unshift=function(ce){return we(this,ce,null,!0,!1)},J.prototype.isPaused=function(){return this._readableState.flowing===!1},J.prototype.setEncoding=function(ce){h||(h=D(7503).s);var de=new h(ce);this._readableState.decoder=de,this._readableState.encoding=this._readableState.decoder.encoding;for(var je=this._readableState.buffer.head,f="";je!==null;)f+=de.write(je.data),je=je.next;return this._readableState.buffer.clear(),f!==""&&this._readableState.buffer.push(f),this._readableState.length=f.length,this};var te=1073741824;function st(ce,de){return ce<=0||de.length===0&&de.ended?0:de.objectMode?1:ce!=ce?de.flowing&&de.length?de.buffer.head.data.length:de.length:(ce>de.highWaterMark&&(de.highWaterMark=function(je){return je>=te?je=te:(je--,je|=je>>>1,je|=je>>>2,je|=je>>>4,je|=je>>>8,je|=je>>>16,je++),je}(ce)),ce<=de.length?ce:de.ended?de.length:(de.needReadable=!0,0))}function Ae(ce){var de=ce._readableState;b("emitReadable",de.needReadable,de.emittedReadable),de.needReadable=!1,de.emittedReadable||(b("emitReadable",de.flowing),de.emittedReadable=!0,process.nextTick(ke,ce))}function ke(ce){var de=ce._readableState;b("emitReadable_",de.destroyed,de.length,de.ended),de.destroyed||!de.length&&!de.ended||(ce.emit("readable"),de.emittedReadable=!1),de.needReadable=!de.flowing&&!de.ended&&de.length<=de.highWaterMark,Te(ce)}function ye(ce,de){de.readingMore||(de.readingMore=!0,process.nextTick(be,ce,de))}function be(ce,de){for(;!de.reading&&!de.ended&&(de.length<de.highWaterMark||de.flowing&&de.length===0);){var je=de.length;if(b("maybeReadMore read 0"),ce.read(0),je===de.length)break}de.readingMore=!1}function He(ce){var de=ce._readableState;de.readableListening=ce.listenerCount("readable")>0,de.resumeScheduled&&!de.paused?de.flowing=!0:ce.listenerCount("data")>0&&ce.resume()}function ut(ce){b("readable nexttick read 0"),ce.read(0)}function et(ce,de){b("resume",de.reading),de.reading||ce.read(0),de.resumeScheduled=!1,ce.emit("resume"),Te(ce),de.flowing&&!de.reading&&ce.read(0)}function Te(ce){var de=ce._readableState;for(b("flow",de.flowing);de.flowing&&ce.read()!==null;);}function We(ce,de){return de.length===0?null:(de.objectMode?je=de.buffer.shift():!ce||ce>=de.length?(je=de.decoder?de.buffer.join(""):de.buffer.length===1?de.buffer.first():de.buffer.concat(de.length),de.buffer.clear()):je=de.buffer.consume(ce,de.decoder),je);var je}function lt(ce){var de=ce._readableState;b("endReadable",de.endEmitted),de.endEmitted||(de.ended=!0,process.nextTick(xe,de,ce))}function xe(ce,de){if(b("endReadableNT",ce.endEmitted,ce.length),!ce.endEmitted&&ce.length===0&&(ce.endEmitted=!0,de.readable=!1,de.emit("end"),ce.autoDestroy)){var je=de._writableState;(!je||je.autoDestroy&&je.finished)&&de.destroy()}}function Qe(ce,de){for(var je=0,f=ce.length;je<f;je++)if(ce[je]===de)return je;return-1}J.prototype.read=function(ce){b("read",ce),ce=parseInt(ce,10);var de=this._readableState,je=ce;if(ce!==0&&(de.emittedReadable=!1),ce===0&&de.needReadable&&((de.highWaterMark!==0?de.length>=de.highWaterMark:de.length>0)||de.ended))return b("read: emitReadable",de.length,de.ended),de.length===0&&de.ended?lt(this):Ae(this),null;if((ce=st(ce,de))===0&&de.ended)return de.length===0&&lt(this),null;var f,o=de.needReadable;return b("need readable",o),(de.length===0||de.length-ce<de.highWaterMark)&&b("length less than watermark",o=!0),de.ended||de.reading?b("reading or ended",o=!1):o&&(b("do read"),de.reading=!0,de.sync=!0,de.length===0&&(de.needReadable=!0),this._read(de.highWaterMark),de.sync=!1,de.reading||(ce=st(je,de))),(f=ce>0?We(ce,de):null)===null?(de.needReadable=de.length<=de.highWaterMark,ce=0):(de.length-=ce,de.awaitDrain=0),de.length===0&&(de.ended||(de.needReadable=!0),je!==ce&&de.ended&&lt(this)),f!==null&&this.emit("data",f),f},J.prototype._read=function(ce){I(this,new X("_read()"))},J.prototype.pipe=function(ce,de){var je=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=ce;break;case 1:f.pipes=[f.pipes,ce];break;default:f.pipes.push(ce)}f.pipesCount+=1,b("pipe count=%d opts=%j",f.pipesCount,de);var o=de&&de.end===!1||ce===process.stdout||ce===process.stderr?ve:v;function v(){b("onend"),ce.end()}f.endEmitted?process.nextTick(o):je.once("end",o),ce.on("unpipe",function Le(Ze,$e){b("onunpipe"),Ze===je&&$e&&$e.hasUnpiped===!1&&($e.hasUnpiped=!0,b("cleanup"),ce.removeListener("close",Ne),ce.removeListener("finish",Ce),ce.removeListener("drain",E),ce.removeListener("error",he),ce.removeListener("unpipe",Le),je.removeListener("end",v),je.removeListener("end",ve),je.removeListener("data",z),Q=!0,!f.awaitDrain||ce._writableState&&!ce._writableState.needDrain||E())});var E=function(Le){return function(){var Ze=Le._readableState;b("pipeOnDrain",Ze.awaitDrain),Ze.awaitDrain&&Ze.awaitDrain--,Ze.awaitDrain===0&&e(Le,"data")&&(Ze.flowing=!0,Te(Le))}}(je);ce.on("drain",E);var Q=!1;function z(Le){b("ondata");var Ze=ce.write(Le);b("dest.write",Ze),Ze===!1&&((f.pipesCount===1&&f.pipes===ce||f.pipesCount>1&&Qe(f.pipes,ce)!==-1)&&!Q&&(b("false write response, pause",f.awaitDrain),f.awaitDrain++),je.pause())}function he(Le){b("onerror",Le),ve(),ce.removeListener("error",he),e(ce,"error")===0&&I(ce,Le)}function Ne(){ce.removeListener("finish",Ce),ve()}function Ce(){b("onfinish"),ce.removeListener("close",Ne),ve()}function ve(){b("unpipe"),je.unpipe(ce)}return je.on("data",z),function(Le,Ze,$e){if(typeof Le.prependListener=="function")return Le.prependListener(Ze,$e);Le._events&&Le._events[Ze]?Array.isArray(Le._events[Ze])?Le._events[Ze].unshift($e):Le._events[Ze]=[$e,Le._events[Ze]]:Le.on(Ze,$e)}(ce,"error",he),ce.once("close",Ne),ce.once("finish",Ce),ce.emit("pipe",je),f.flowing||(b("pipe resume"),je.resume()),ce},J.prototype.unpipe=function(ce){var de=this._readableState,je={hasUnpiped:!1};if(de.pipesCount===0)return this;if(de.pipesCount===1)return ce&&ce!==de.pipes||(ce||(ce=de.pipes),de.pipes=null,de.pipesCount=0,de.flowing=!1,ce&&ce.emit("unpipe",this,je)),this;if(!ce){var f=de.pipes,o=de.pipesCount;de.pipes=null,de.pipesCount=0,de.flowing=!1;for(var v=0;v<o;v++)f[v].emit("unpipe",this,{hasUnpiped:!1});return this}var E=Qe(de.pipes,ce);return E===-1||(de.pipes.splice(E,1),de.pipesCount-=1,de.pipesCount===1&&(de.pipes=de.pipes[0]),ce.emit("unpipe",this,je)),this},J.prototype.on=function(ce,de){var je=n.prototype.on.call(this,ce,de),f=this._readableState;return ce==="data"?(f.readableListening=this.listenerCount("readable")>0,f.flowing!==!1&&this.resume()):ce==="readable"&&(f.endEmitted||f.readableListening||(f.readableListening=f.needReadable=!0,f.flowing=!1,f.emittedReadable=!1,b("on readable",f.length,f.reading),f.length?Ae(this):f.reading||process.nextTick(ut,this))),je},J.prototype.addListener=J.prototype.on,J.prototype.removeListener=function(ce,de){var je=n.prototype.removeListener.call(this,ce,de);return ce==="readable"&&process.nextTick(He,this),je},J.prototype.removeAllListeners=function(ce){var de=n.prototype.removeAllListeners.apply(this,arguments);return ce!=="readable"&&ce!==void 0||process.nextTick(He,this),de},J.prototype.resume=function(){var ce=this._readableState;return ce.flowing||(b("resume"),ce.flowing=!ce.readableListening,function(de,je){je.resumeScheduled||(je.resumeScheduled=!0,process.nextTick(et,de,je))}(this,ce)),ce.paused=!1,this},J.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},J.prototype.wrap=function(ce){var de=this,je=this._readableState,f=!1;for(var o in ce.on("end",function(){if(b("wrapped end"),je.decoder&&!je.ended){var E=je.decoder.end();E&&E.length&&de.push(E)}de.push(null)}),ce.on("data",function(E){b("wrapped data"),je.decoder&&(E=je.decoder.write(E)),je.objectMode&&E==null||(je.objectMode||E&&E.length)&&(de.push(E)||(f=!0,ce.pause()))}),ce)this[o]===void 0&&typeof ce[o]=="function"&&(this[o]=function(E){return function(){return ce[E].apply(ce,arguments)}}(o));for(var v=0;v<k.length;v++)ce.on(k[v],this.emit.bind(this,k[v]));return this._read=function(E){b("wrapped _read",E),f&&(f=!1,ce.resume())},this},typeof Symbol=="function"&&(J.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=D(7299)),_(this)}),Object.defineProperty(J.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(J.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(J.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ce){this._readableState&&(this._readableState.flowing=ce)}}),J._fromList=We,Object.defineProperty(J.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(J.from=function(ce,de){return t===void 0&&(t=D(6233)),t(J,ce,de)})},9798:(tt,De,D)=>{tt.exports=h;var ae=D(3690).q,b=ae.ERR_METHOD_NOT_IMPLEMENTED,e=ae.ERR_MULTIPLE_CALLBACK,n=ae.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=ae.ERR_TRANSFORM_WITH_LENGTH_0,g=D(6138);function i(l,d){var P=this._transformState;P.transforming=!1;var F=P.writecb;if(F===null)return this.emit("error",new e);P.writechunk=null,P.writecb=null,d!=null&&this.push(d),F(l);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function h(l){if(!(this instanceof h))return new h(l);g.call(this,l),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",_)}function _(){var l=this;typeof this._flush!="function"||this._readableState.destroyed?t(this,null,null):this._flush(function(d,P){t(l,d,P)})}function t(l,d,P){if(d)return l.emit("error",d);if(P!=null&&l.push(P),l._writableState.length)throw new S;if(l._transformState.transforming)throw new n;return l.push(null)}D(1765)(h,g),h.prototype.push=function(l,d){return this._transformState.needTransform=!1,g.prototype.push.call(this,l,d)},h.prototype._transform=function(l,d,P){P(new b("_transform()"))},h.prototype._write=function(l,d,P){var F=this._transformState;if(F.writecb=P,F.writechunk=l,F.writeencoding=d,!F.transforming){var j=this._readableState;(F.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},h.prototype._read=function(l){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},h.prototype._destroy=function(l,d){g.prototype._destroy.call(this,l,function(P){d(P)})}},8318:(tt,De,D)=>{function ae(ye){var be=this;this.next=null,this.entry=null,this.finish=function(){(function(He,ut,et){var Te=He.entry;for(He.entry=null;Te;){var We=Te.callback;ut.pendingcb--,We(void 0),Te=Te.next}ut.corkedRequestsFree.next=He})(be,ye)}}var b;tt.exports=J,J.WritableState=$;var e,n={deprecate:D(7839)},S=D(9299),g=D(1549).Buffer,i=D.g.Uint8Array||function(){},h=D(6163),_=D(7269).getHighWaterMark,t=D(3690).q,l=t.ERR_INVALID_ARG_TYPE,d=t.ERR_METHOD_NOT_IMPLEMENTED,P=t.ERR_MULTIPLE_CALLBACK,F=t.ERR_STREAM_CANNOT_PIPE,j=t.ERR_STREAM_DESTROYED,B=t.ERR_STREAM_NULL_VALUES,X=t.ERR_STREAM_WRITE_AFTER_END,O=t.ERR_UNKNOWN_ENCODING,I=h.errorOrDestroy;function k(){}function $(ye,be,He){b=b||D(6138),ye=ye||{},typeof He!="boolean"&&(He=be instanceof b),this.objectMode=!!ye.objectMode,He&&(this.objectMode=this.objectMode||!!ye.writableObjectMode),this.highWaterMark=_(this,ye,"writableHighWaterMark",He),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ut=ye.decodeStrings===!1;this.decodeStrings=!ut,this.defaultEncoding=ye.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(et){(function(Te,We){var lt=Te._writableState,xe=lt.sync,Qe=lt.writecb;if(typeof Qe!="function")throw new P;if(function(de){de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0}(lt),We)(function(de,je,f,o,v){--je.pendingcb,f?(process.nextTick(v,o),process.nextTick(ke,de,je),de._writableState.errorEmitted=!0,I(de,o)):(v(o),de._writableState.errorEmitted=!0,I(de,o),ke(de,je))})(Te,lt,xe,We,Qe);else{var ce=st(lt)||Te.destroyed;ce||lt.corked||lt.bufferProcessing||!lt.bufferedRequest||te(Te,lt),xe?process.nextTick(Be,Te,lt,ce,Qe):Be(Te,lt,ce,Qe)}})(be,et)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ye.emitClose!==!1,this.autoDestroy=!!ye.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ae(this)}function J(ye){var be=this instanceof(b=b||D(6138));if(!be&&!e.call(J,this))return new J(ye);this._writableState=new $(ye,this,be),this.writable=!0,ye&&(typeof ye.write=="function"&&(this._write=ye.write),typeof ye.writev=="function"&&(this._writev=ye.writev),typeof ye.destroy=="function"&&(this._destroy=ye.destroy),typeof ye.final=="function"&&(this._final=ye.final)),S.call(this)}function we(ye,be,He,ut,et,Te,We){be.writelen=ut,be.writecb=We,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new j("write")):He?ye._writev(et,be.onwrite):ye._write(et,Te,be.onwrite),be.sync=!1}function Be(ye,be,He,ut){He||function(et,Te){Te.length===0&&Te.needDrain&&(Te.needDrain=!1,et.emit("drain"))}(ye,be),be.pendingcb--,ut(),ke(ye,be)}function te(ye,be){be.bufferProcessing=!0;var He=be.bufferedRequest;if(ye._writev&&He&&He.next){var ut=be.bufferedRequestCount,et=new Array(ut),Te=be.corkedRequestsFree;Te.entry=He;for(var We=0,lt=!0;He;)et[We]=He,He.isBuf||(lt=!1),He=He.next,We+=1;et.allBuffers=lt,we(ye,be,!0,be.length,et,"",Te.finish),be.pendingcb++,be.lastBufferedRequest=null,Te.next?(be.corkedRequestsFree=Te.next,Te.next=null):be.corkedRequestsFree=new ae(be),be.bufferedRequestCount=0}else{for(;He;){var xe=He.chunk,Qe=He.encoding,ce=He.callback;if(we(ye,be,!1,be.objectMode?1:xe.length,xe,Qe,ce),He=He.next,be.bufferedRequestCount--,be.writing)break}He===null&&(be.lastBufferedRequest=null)}be.bufferedRequest=He,be.bufferProcessing=!1}function st(ye){return ye.ending&&ye.length===0&&ye.bufferedRequest===null&&!ye.finished&&!ye.writing}function Ae(ye,be){ye._final(function(He){be.pendingcb--,He&&I(ye,He),be.prefinished=!0,ye.emit("prefinish"),ke(ye,be)})}function ke(ye,be){var He=st(be);if(He&&(function(et,Te){Te.prefinished||Te.finalCalled||(typeof et._final!="function"||Te.destroyed?(Te.prefinished=!0,et.emit("prefinish")):(Te.pendingcb++,Te.finalCalled=!0,process.nextTick(Ae,et,Te)))}(ye,be),be.pendingcb===0&&(be.finished=!0,ye.emit("finish"),be.autoDestroy))){var ut=ye._readableState;(!ut||ut.autoDestroy&&ut.endEmitted)&&ye.destroy()}return He}D(1765)(J,S),$.prototype.getBuffer=function(){for(var ye=this.bufferedRequest,be=[];ye;)be.push(ye),ye=ye.next;return be},function(){try{Object.defineProperty($.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(ye){return!!e.call(this,ye)||this===J&&ye&&ye._writableState instanceof $}})):e=function(ye){return ye instanceof this},J.prototype.pipe=function(){I(this,new F)},J.prototype.write=function(ye,be,He){var ut,et=this._writableState,Te=!1,We=!et.objectMode&&(ut=ye,g.isBuffer(ut)||ut instanceof i);return We&&!g.isBuffer(ye)&&(ye=function(lt){return g.from(lt)}(ye)),typeof be=="function"&&(He=be,be=null),We?be="buffer":be||(be=et.defaultEncoding),typeof He!="function"&&(He=k),et.ending?function(lt,xe){var Qe=new X;I(lt,Qe),process.nextTick(xe,Qe)}(this,He):(We||function(lt,xe,Qe,ce){var de;return Qe===null?de=new B:typeof Qe=="string"||xe.objectMode||(de=new l("chunk",["string","Buffer"],Qe)),!de||(I(lt,de),process.nextTick(ce,de),!1)}(this,et,ye,He))&&(et.pendingcb++,Te=function(lt,xe,Qe,ce,de,je){if(!Qe){var f=function(Q,z,he){return Q.objectMode||Q.decodeStrings===!1||typeof z!="string"||(z=g.from(z,he)),z}(xe,ce,de);ce!==f&&(Qe=!0,de="buffer",ce=f)}var o=xe.objectMode?1:ce.length;xe.length+=o;var v=xe.length<xe.highWaterMark;if(v||(xe.needDrain=!0),xe.writing||xe.corked){var E=xe.lastBufferedRequest;xe.lastBufferedRequest={chunk:ce,encoding:de,isBuf:Qe,callback:je,next:null},E?E.next=xe.lastBufferedRequest:xe.bufferedRequest=xe.lastBufferedRequest,xe.bufferedRequestCount+=1}else we(lt,xe,!1,o,ce,de,je);return v}(this,et,We,ye,be,He)),Te},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var ye=this._writableState;ye.corked&&(ye.corked--,ye.writing||ye.corked||ye.bufferProcessing||!ye.bufferedRequest||te(this,ye))},J.prototype.setDefaultEncoding=function(ye){if(typeof ye=="string"&&(ye=ye.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ye+"").toLowerCase())>-1))throw new O(ye);return this._writableState.defaultEncoding=ye,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),J.prototype._write=function(ye,be,He){He(new d("_write()"))},J.prototype._writev=null,J.prototype.end=function(ye,be,He){var ut=this._writableState;return typeof ye=="function"?(He=ye,ye=null,be=null):typeof be=="function"&&(He=be,be=null),ye!=null&&this.write(ye,be),ut.corked&&(ut.corked=1,this.uncork()),ut.ending||function(et,Te,We){Te.ending=!0,ke(et,Te),We&&(Te.finished?process.nextTick(We):et.once("finish",We)),Te.ended=!0,et.writable=!1}(this,ut,He),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(ye){this._writableState&&(this._writableState.destroyed=ye)}}),J.prototype.destroy=h.destroy,J.prototype._undestroy=h.undestroy,J.prototype._destroy=function(ye,be){be(ye)}},7299:(tt,De,D)=>{var ae;function b(B,X,O){return X in B?Object.defineProperty(B,X,{value:O,enumerable:!0,configurable:!0,writable:!0}):B[X]=O,B}var e=D(8800),n=Symbol("lastResolve"),S=Symbol("lastReject"),g=Symbol("error"),i=Symbol("ended"),h=Symbol("lastPromise"),_=Symbol("handlePromise"),t=Symbol("stream");function l(B,X){return{value:B,done:X}}function d(B){var X=B[n];if(X!==null){var O=B[t].read();O!==null&&(B[h]=null,B[n]=null,B[S]=null,X(l(O,!1)))}}function P(B){process.nextTick(d,B)}var F=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((b(ae={get stream(){return this[t]},next:function(){var B=this,X=this[g];if(X!==null)return Promise.reject(X);if(this[i])return Promise.resolve(l(void 0,!0));if(this[t].destroyed)return new Promise(function($,J){process.nextTick(function(){B[g]?J(B[g]):$(l(void 0,!0))})});var O,I=this[h];if(I)O=new Promise(function($,J){return function(we,Be){$.then(function(){J[i]?we(l(void 0,!0)):J[_](we,Be)},Be)}}(I,this));else{var k=this[t].read();if(k!==null)return Promise.resolve(l(k,!1));O=new Promise(this[_])}return this[h]=O,O}},Symbol.asyncIterator,function(){return this}),b(ae,"return",function(){var B=this;return new Promise(function(X,O){B[t].destroy(null,function(I){I?O(I):X(l(void 0,!0))})})}),ae),F);tt.exports=function(B){var X,O=Object.create(j,(b(X={},t,{value:B,writable:!0}),b(X,n,{value:null,writable:!0}),b(X,S,{value:null,writable:!0}),b(X,g,{value:null,writable:!0}),b(X,i,{value:B._readableState.endEmitted,writable:!0}),b(X,_,{value:function(I,k){var $=O[t].read();$?(O[h]=null,O[n]=null,O[S]=null,I(l($,!1))):(O[n]=I,O[S]=k)},writable:!0}),X));return O[h]=null,e(B,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=O[S];return k!==null&&(O[h]=null,O[n]=null,O[S]=null,k(I)),void(O[g]=I)}var $=O[n];$!==null&&(O[h]=null,O[n]=null,O[S]=null,$(l(void 0,!0))),O[i]=!0}),B.on("readable",P.bind(null,O)),O}},8393:(tt,De,D)=>{function ae(i,h){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);h&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),_.push.apply(_,t)}return _}function b(i,h,_){return h in i?Object.defineProperty(i,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[h]=_,i}function e(i,h){for(var _=0;_<h.length;_++){var t=h[_];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}var n=D(1549).Buffer,S=D(9862).inspect,g=S&&S.custom||"inspect";tt.exports=function(){function i(){(function(t,l){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}var h,_;return h=i,_=[{key:"push",value:function(t){var l={data:t,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}},{key:"unshift",value:function(t){var l={data:t,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}},{key:"shift",value:function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=t+l.data;return d}},{key:"concat",value:function(t){if(this.length===0)return n.alloc(0);for(var l,d,P,F=n.allocUnsafe(t>>>0),j=this.head,B=0;j;)l=j.data,d=F,P=B,n.prototype.copy.call(l,d,P),B+=j.data.length,j=j.next;return F}},{key:"consume",value:function(t,l){var d;return t<this.head.data.length?(d=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):d=t===this.head.data.length?this.shift():l?this._getString(t):this._getBuffer(t),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var l=this.head,d=1,P=l.data;for(t-=P.length;l=l.next;){var F=l.data,j=t>F.length?F.length:t;if(j===F.length?P+=F:P+=F.slice(0,t),(t-=j)==0){j===F.length?(++d,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=F.slice(j));break}++d}return this.length-=d,P}},{key:"_getBuffer",value:function(t){var l=n.allocUnsafe(t),d=this.head,P=1;for(d.data.copy(l),t-=d.data.length;d=d.next;){var F=d.data,j=t>F.length?F.length:t;if(F.copy(l,l.length-t,0,j),(t-=j)==0){j===F.length?(++P,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=F.slice(j));break}++P}return this.length-=P,l}},{key:g,value:function(t,l){return S(this,function(d){for(var P=1;P<arguments.length;P++){var F=arguments[P]!=null?arguments[P]:{};P%2?ae(Object(F),!0).forEach(function(j){b(d,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(F)):ae(Object(F)).forEach(function(j){Object.defineProperty(d,j,Object.getOwnPropertyDescriptor(F,j))})}return d}({},l,{depth:0,customInspect:!1}))}}],_&&e(h.prototype,_),i}()},6163:tt=>{function De(b,e){ae(b,e),D(b)}function D(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function ae(b,e){b.emit("error",e)}tt.exports={destroy:function(b,e){var n=this,S=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return S||g?(e?e(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ae,this,b)):process.nextTick(ae,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(i){!e&&i?n._writableState?n._writableState.errorEmitted?process.nextTick(D,n):(n._writableState.errorEmitted=!0,process.nextTick(De,n,i)):process.nextTick(De,n,i):e?(process.nextTick(D,n),e(i)):process.nextTick(D,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,e){var n=b._readableState,S=b._writableState;n&&n.autoDestroy||S&&S.autoDestroy?b.destroy(e):b.emit("error",e)}}},8800:(tt,De,D)=>{var ae=D(3690).q.ERR_STREAM_PREMATURE_CLOSE;function b(){}tt.exports=function e(n,S,g){if(typeof S=="function")return e(n,null,S);S||(S={}),g=function(X){var O=!1;return function(){if(!O){O=!0;for(var I=arguments.length,k=new Array(I),$=0;$<I;$++)k[$]=arguments[$];X.apply(this,k)}}}(g||b);var i=S.readable||S.readable!==!1&&n.readable,h=S.writable||S.writable!==!1&&n.writable,_=function(){n.writable||l()},t=n._writableState&&n._writableState.finished,l=function(){h=!1,t=!0,i||g.call(n)},d=n._readableState&&n._readableState.endEmitted,P=function(){i=!1,d=!0,h||g.call(n)},F=function(X){g.call(n,X)},j=function(){var X;return i&&!d?(n._readableState&&n._readableState.ended||(X=new ae),g.call(n,X)):h&&!t?(n._writableState&&n._writableState.ended||(X=new ae),g.call(n,X)):void 0},B=function(){n.req.on("finish",l)};return function(X){return X.setHeader&&typeof X.abort=="function"}(n)?(n.on("complete",l),n.on("abort",j),n.req?B():n.on("request",B)):h&&!n._writableState&&(n.on("end",_),n.on("close",_)),n.on("end",P),n.on("finish",l),S.error!==!1&&n.on("error",F),n.on("close",j),function(){n.removeListener("complete",l),n.removeListener("abort",j),n.removeListener("request",B),n.req&&n.req.removeListener("finish",l),n.removeListener("end",_),n.removeListener("close",_),n.removeListener("finish",l),n.removeListener("end",P),n.removeListener("error",F),n.removeListener("close",j)}}},6233:tt=>{tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(tt,De,D)=>{var ae,b=D(3690).q,e=b.ERR_MISSING_ARGS,n=b.ERR_STREAM_DESTROYED;function S(t){if(t)throw t}function g(t,l,d,P){P=function(B){var X=!1;return function(){X||(X=!0,B.apply(void 0,arguments))}}(P);var F=!1;t.on("close",function(){F=!0}),ae===void 0&&(ae=D(8800)),ae(t,{readable:l,writable:d},function(B){if(B)return P(B);F=!0,P()});var j=!1;return function(B){if(!F&&!j)return j=!0,function(X){return X.setHeader&&typeof X.abort=="function"}(t)?t.abort():typeof t.destroy=="function"?t.destroy():void P(B||new n("pipe"))}}function i(t){t()}function h(t,l){return t.pipe(l)}function _(t){return t.length?typeof t[t.length-1]!="function"?S:t.pop():S}tt.exports=function(){for(var t=arguments.length,l=new Array(t),d=0;d<t;d++)l[d]=arguments[d];var P,F=_(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new e("streams");var j=l.map(function(B,X){var O=X<l.length-1;return g(B,O,X>0,function(I){P||(P=I),I&&j.forEach(i),O||(j.forEach(i),F(P))})});return l.reduce(h)}},7269:(tt,De,D)=>{var ae=D(3690).q.ERR_INVALID_OPT_VALUE;tt.exports={getHighWaterMark:function(b,e,n,S){var g=function(i,h,_){return i.highWaterMark!=null?i.highWaterMark:h?i[_]:null}(e,S,n);if(g!=null){if(!isFinite(g)||Math.floor(g)!==g||g<0)throw new ae(S?n:"highWaterMark",g);return Math.floor(g)}return b.objectMode?16:16384}}},9299:(tt,De,D)=>{tt.exports=D(1159).EventEmitter},7503:(tt,De,D)=>{var ae=D(8387).Buffer,b=ae.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function e(d){var P;switch(this.encoding=function(F){var j=function(B){if(!B)return"utf8";for(var X;;)switch(B){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return B;default:if(X)return;B=(""+B).toLowerCase(),X=!0}}(F);if(typeof j!="string"&&(ae.isEncoding===b||!b(F)))throw new Error("Unknown encoding: "+F);return j||F}(d),this.encoding){case"utf16le":this.text=g,this.end=i,P=4;break;case"utf8":this.fillLast=S,P=4;break;case"base64":this.text=h,this.end=_,P=3;break;default:return this.write=t,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ae.allocUnsafe(P)}function n(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function S(d){var P=this.lastTotal-this.lastNeed,F=function(j,B,X){if((192&B[0])!=128)return j.lastNeed=0,"";if(j.lastNeed>1&&B.length>1){if((192&B[1])!=128)return j.lastNeed=1,"";if(j.lastNeed>2&&B.length>2&&(192&B[2])!=128)return j.lastNeed=2,""}}(this,d);return F!==void 0?F:this.lastNeed<=d.length?(d.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,P,0,d.length),void(this.lastNeed-=d.length))}function g(d,P){if((d.length-P)%2==0){var F=d.toString("utf16le",P);if(F){var j=F.charCodeAt(F.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",P,d.length-1)}function i(d){var P=d&&d.length?this.write(d):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,F)}return P}function h(d,P){var F=(d.length-P)%3;return F===0?d.toString("base64",P):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",P,d.length-F))}function _(d){var P=d&&d.length?this.write(d):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function t(d){return d.toString(this.encoding)}function l(d){return d&&d.length?this.write(d):""}De.s=e,e.prototype.write=function(d){if(d.length===0)return"";var P,F;if(this.lastNeed){if((P=this.fillLast(d))===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<d.length?P?P+this.text(d,F):this.text(d,F):P||""},e.prototype.end=function(d){var P=d&&d.length?this.write(d):"";return this.lastNeed?P+"":P},e.prototype.text=function(d,P){var F=function(B,X,O){var I=X.length-1;if(I<O)return 0;var k=n(X[I]);return k>=0?(k>0&&(B.lastNeed=k-1),k):--I<O||k===-2?0:(k=n(X[I]))>=0?(k>0&&(B.lastNeed=k-2),k):--I<O||k===-2?0:(k=n(X[I]))>=0?(k>0&&(k===2?k=0:B.lastNeed=k-3),k):0}(this,d,P);if(!this.lastNeed)return d.toString("utf8",P);this.lastTotal=F;var j=d.length-(F-this.lastNeed);return d.copy(this.lastChar,0,j),d.toString("utf8",P,j)},e.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},1067:function(tt,De,D){var ae;(function(b,e){var n="function",S="undefined",g="object",i="string",h="model",_="name",t="type",l="vendor",d="version",P="architecture",F="console",j="mobile",B="tablet",X="smarttv",O="wearable",I="embedded",k="Amazon",$="Apple",J="ASUS",we="BlackBerry",Be="Browser",te="Chrome",st="Firefox",Ae="Google",ke="Huawei",ye="LG",be="Microsoft",He="Motorola",ut="Opera",et="Samsung",Te="Sony",We="Xiaomi",lt="Zebra",xe="Facebook",Qe=function(Ne){for(var Ce={},ve=0;ve<Ne.length;ve++)Ce[Ne[ve].toUpperCase()]=Ne[ve];return Ce},ce=function(Ne,Ce){return typeof Ne===i&&de(Ce).indexOf(de(Ne))!==-1},de=function(Ne){return Ne.toLowerCase()},je=function(Ne,Ce){if(typeof Ne===i)return Ne=Ne.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ce===S?Ne:Ne.substring(0,255)},f=function(Ne,Ce){for(var ve,Le,Ze,$e,pt,it,wt=0;wt<Ce.length&&!pt;){var Mt=Ce[wt],Pt=Ce[wt+1];for(ve=Le=0;ve<Mt.length&&!pt;)if(pt=Mt[ve++].exec(Ne))for(Ze=0;Ze<Pt.length;Ze++)it=pt[++Le],typeof($e=Pt[Ze])===g&&$e.length>0?$e.length===2?typeof $e[1]==n?this[$e[0]]=$e[1].call(this,it):this[$e[0]]=$e[1]:$e.length===3?typeof $e[1]!==n||$e[1].exec&&$e[1].test?this[$e[0]]=it?it.replace($e[1],$e[2]):e:this[$e[0]]=it?$e[1].call(this,it,$e[2]):e:$e.length===4&&(this[$e[0]]=it?$e[3].call(this,it.replace($e[1],$e[2])):e):this[$e]=it||e;wt+=2}},o=function(Ne,Ce){for(var ve in Ce)if(typeof Ce[ve]===g&&Ce[ve].length>0){for(var Le=0;Le<Ce[ve].length;Le++)if(ce(Ce[ve][Le],Ne))return ve==="?"?e:ve}else if(ce(Ce[ve],Ne))return ve==="?"?e:ve;return Ne},v={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},E={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[_,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[_,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[_,d],[/opios[\/ ]+([\w\.]+)/i],[d,[_,ut+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[_,ut]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[_,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[_,"UC"+Be]],[/\bqbcore\/([\w\.]+)/i],[d,[_,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[_,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[_,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[_,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[_,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[_,/(.+)/,"$1 Secure "+Be],d],[/\bfocus\/([\w\.]+)/i],[d,[_,st+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[_,ut+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[_,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[_,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[_,ut+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[_,"MIUI "+Be]],[/fxios\/([-\w\.]+)/i],[d,[_,st]],[/\bqihu|(qi?ho?o?|360)browser/i],[[_,"360 "+Be]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[_,/(.+)/,"$1 "+Be],d],[/(comodo_dragon)\/([\w\.]+)/i],[[_,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[_,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[_],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[_,xe],d],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[_,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[_,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[_,te+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[_,te+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[_,"Android "+Be]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[_,d],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[d,[_,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[d,_],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[_,[d,o,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[_,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[_,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[_,st+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[_,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,de]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,"",de]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,de]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[l,et],[t,B]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[l,et],[t,j]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[l,$],[t,j]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[l,$],[t,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[l,ke],[t,B]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[h,[l,ke],[t,j]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[l,We],[t,j]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[l,We],[t,B]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[l,"OPPO"],[t,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[l,"Vivo"],[t,j]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[l,"Realme"],[t,j]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[l,He],[t,j]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[l,He],[t,B]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[l,ye],[t,B]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[l,ye],[t,j]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[l,"Lenovo"],[t,B]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[l,"Nokia"],[t,j]],[/(pixel c)\b/i],[h,[l,Ae],[t,B]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[l,Ae],[t,j]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[l,Te],[t,j]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[l,Te],[t,B]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[l,"OnePlus"],[t,j]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[l,k],[t,B]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[l,k],[t,j]],[/(playbook);[-\w\),; ]+(rim)/i],[h,l,[t,B]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[l,we],[t,j]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[l,J],[t,B]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[l,J],[t,j]],[/(nexus 9)/i],[h,[l,"HTC"],[t,B]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[l,[h,/_/g," "],[t,j]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[l,"Acer"],[t,B]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[l,"Meizu"],[t,j]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[l,"Sharp"],[t,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,h,[t,j]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,h,[t,B]],[/(surface duo)/i],[h,[l,be],[t,B]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[l,"Fairphone"],[t,j]],[/(u304aa)/i],[h,[l,"AT&T"],[t,j]],[/\bsie-(\w*)/i],[h,[l,"Siemens"],[t,j]],[/\b(rct\w+) b/i],[h,[l,"RCA"],[t,B]],[/\b(venue[\d ]{2,7}) b/i],[h,[l,"Dell"],[t,B]],[/\b(q(?:mv|ta)\w+) b/i],[h,[l,"Verizon"],[t,B]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[l,"Barnes & Noble"],[t,B]],[/\b(tm\d{3}\w+) b/i],[h,[l,"NuVision"],[t,B]],[/\b(k88) b/i],[h,[l,"ZTE"],[t,B]],[/\b(nx\d{3}j) b/i],[h,[l,"ZTE"],[t,j]],[/\b(gen\d{3}) b.+49h/i],[h,[l,"Swiss"],[t,j]],[/\b(zur\d{3}) b/i],[h,[l,"Swiss"],[t,B]],[/\b((zeki)?tb.*\b) b/i],[h,[l,"Zeki"],[t,B]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],h,[t,B]],[/\b(ns-?\w{0,9}) b/i],[h,[l,"Insignia"],[t,B]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[l,"NextBook"],[t,B]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],h,[t,j]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],h,[t,j]],[/\b(ph-1) /i],[h,[l,"Essential"],[t,j]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[l,"Envizen"],[t,B]],[/\b(trio[-\w\. ]+) b/i],[h,[l,"MachSpeed"],[t,B]],[/\btu_(1491) b/i],[h,[l,"Rotor"],[t,B]],[/(shield[\w ]+) b/i],[h,[l,"Nvidia"],[t,B]],[/(sprint) (\w+)/i],[l,h,[t,j]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[l,be],[t,j]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[l,lt],[t,B]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[l,lt],[t,j]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,h,[t,F]],[/droid.+; (shield) bui/i],[h,[l,"Nvidia"],[t,F]],[/(playstation [345portablevi]+)/i],[h,[l,Te],[t,F]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[l,be],[t,F]],[/smart-tv.+(samsung)/i],[l,[t,X]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[l,et],[t,X]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,ye],[t,X]],[/(apple) ?tv/i],[l,[h,$+" TV"],[t,X]],[/crkey/i],[[h,te+"cast"],[l,Ae],[t,X]],[/droid.+aft(\w)( bui|\))/i],[h,[l,k],[t,X]],[/\(dtv[\);].+(aquos)/i],[h,[l,"Sharp"],[t,X]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[l,je],[h,je],[t,X]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[t,X]],[/((pebble))app/i],[l,h,[t,O]],[/droid.+; (glass) \d/i],[h,[l,Ae],[t,O]],[/droid.+; (wt63?0{2,3})\)/i],[h,[l,lt],[t,O]],[/(quest( 2)?)/i],[h,[l,xe],[t,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[t,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[t,j]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[t,B]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[t,B]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[t,j]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[_,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[_,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[_,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,_]],os:[[/microsoft (windows) (vista|xp)/i],[_,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[_,[d,o,v]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,"Windows"],[d,o,v]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[_,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[_,"Mac OS"],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[d,_],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[_,d],[/\(bb(10);/i],[d,[_,we]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[_,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[_,st+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[_,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[_,te+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[_,"Chromium OS"],d],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[_,d],[/(sunos) ?([\w\.\d]*)/i],[[_,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[_,d]]},Q=function(Ne,Ce){if(typeof Ne===g&&(Ce=Ne,Ne=e),!(this instanceof Q))return new Q(Ne,Ce).getResult();var ve=Ne||(typeof b!==S&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:""),Le=Ce?function(Ze,$e){var pt={};for(var it in Ze)$e[it]&&$e[it].length%2==0?pt[it]=$e[it].concat(Ze[it]):pt[it]=Ze[it];return pt}(E,Ce):E;return this.getBrowser=function(){var Ze,$e={};return $e[_]=e,$e[d]=e,f.call($e,ve,Le.browser),$e.major=typeof(Ze=$e.version)===i?Ze.replace(/[^\d\.]/g,"").split(".")[0]:e,$e},this.getCPU=function(){var Ze={};return Ze[P]=e,f.call(Ze,ve,Le.cpu),Ze},this.getDevice=function(){var Ze={};return Ze[l]=e,Ze[h]=e,Ze[t]=e,f.call(Ze,ve,Le.device),Ze},this.getEngine=function(){var Ze={};return Ze[_]=e,Ze[d]=e,f.call(Ze,ve,Le.engine),Ze},this.getOS=function(){var Ze={};return Ze[_]=e,Ze[d]=e,f.call(Ze,ve,Le.os),Ze},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ve},this.setUA=function(Ze){return ve=typeof Ze===i&&Ze.length>255?je(Ze,255):Ze,this},this.setUA(ve),this};Q.VERSION="1.0.2",Q.BROWSER=Qe([_,d,"major"]),Q.CPU=Qe([P]),Q.DEVICE=Qe([h,l,t,F,j,X,B,O,I]),Q.ENGINE=Q.OS=Qe([_,d]),typeof De!==S?(tt.exports&&(De=tt.exports=Q),De.UAParser=Q):D.amdO?(ae=function(){return Q}.call(De,D,De,tt))===e||(tt.exports=ae):typeof b!==S&&(b.UAParser=Q);var z=typeof b!==S&&(b.jQuery||b.Zepto);if(z&&!z.ua){var he=new Q;z.ua=he.getResult(),z.ua.get=function(){return he.getUA()},z.ua.set=function(Ne){he.setUA(Ne);var Ce=he.getResult();for(var ve in Ce)z.ua[ve]=Ce[ve]}}})(typeof window=="object"?window:this)},7839:(tt,De,D)=>{function ae(b){try{if(!D.g.localStorage)return!1}catch{return!1}var e=D.g.localStorage[b];return e!=null&&String(e).toLowerCase()==="true"}tt.exports=function(b,e){if(ae("noDeprecation"))return b;var n=!1;return function(){if(!n){if(ae("throwDeprecation"))throw new Error(e);ae("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return b.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:tt=>{tt.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:tt=>{tt.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:tt=>{tt.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:tt=>{tt.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:tt=>{tt.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:tt=>{tt.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},ur={};function Fn(tt){var De=ur[tt];if(De!==void 0)return De.exports;var D=ur[tt]={exports:{}};return Nr[tt].call(D.exports,D,D.exports,Fn),D.exports}Fn.amdO={},Fn.n=tt=>{var De=tt&&tt.__esModule?()=>tt.default:()=>tt;return Fn.d(De,{a:De}),De},Fn.d=(tt,De)=>{for(var D in De)Fn.o(De,D)&&!Fn.o(tt,D)&&Object.defineProperty(tt,D,{enumerable:!0,get:De[D]})},Fn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Fn.o=(tt,De)=>Object.prototype.hasOwnProperty.call(tt,De);var Cr={};return(()=>{Fn.d(Cr,{default:()=>g}),Fn(8416);var tt,De=Fn(1715),D=Fn(8080),ae=Fn(1737),b=Fn(7688),e=function(){var i,h="application/dash+xml";function _(l,d,P){if(!l||!/^VIDEO$/i.test(l.nodeName))return null;if(l._dashjs_player)return l._dashjs_player;var F,j=l.id||l.name||"video element";if(!(d=d||[].slice.call(l.querySelectorAll("source")).filter(function(B){return B.type==h})[0])&&l.src)(d=document.createElement("source")).src=l.src;else if(!d&&!l.src)return null;return P=P||{},(F=(0,b.Z)(P).create()).initialize(l,d.src,l.autoplay),i||(i=F.getDebug().getLogger()),i.debug("Converted "+j+" to dash.js player and added content: "+d.src),l._dashjs_player=F,F}function t(l){return/^VIDEO$/i.test(l.nodeName)?l:t(l.parentNode)}return{create:_,createAll:function(l,d){var P=[];l=l||"[data-dashjs-player]";for(var F=(d=d||document).querySelectorAll(l),j=0;j<F.length;j++){var B=_(F[j],null);P.push(B)}for(var X=d.querySelectorAll('source[type="'+h+'"]'),O=0;O<X.length;O++){var I=_(t(X[O]),null);P.push(I)}return P}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?e.createAll():tt=window.setInterval(function(){window.dashjs&&(window.clearInterval(tt),e.createAll())},500):window.addEventListener("load",function i(){window.removeEventListener("load",i),e.createAll()}));const n=e;var S=Fn(6398);dashjs.Protection=ae.default,dashjs.MetricsReporting=D.default,dashjs.MediaPlayerFactory=n,dashjs.Debug=S.Z,dashjs.supportsMediaSource=De.B;const g=dashjs})(),Cr.default})())})(ho);var mo=ho.exports;const iu=nu(mo),ou=ru({__proto__:null,default:iu},[mo]);export{ou as d};
