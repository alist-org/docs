import{d as w,h as S,u as e,o,F as s,w as _,e as l,I as i,b as a,au as I,a as m,b4 as P,N as k,b5 as B,b6 as T,_ as x,r as V,c as z}from"./app-Y7vOJEhd.js";import{N as v}from"./Alert-r2D1ALYL.js";import{N as E}from"./Input-a5tDcXWI.js";import"./browser-jSrNIFup.js";const f=c=>(B("data-v-07bce39d"),c=c(),T(),c),L=f(()=>a("b",null,"client_id: ",-1)),R=f(()=>a("b",null,"client_secret: ",-1)),U=f(()=>a("b",null,"redirect_uri: ",-1)),j=f(()=>a("b",null,"refresh_token:",-1)),y="a78d5a69054042fa936f6c77f9a0ae8b",N="9c119bbb04b346d2a52aa64401936b2b",A="https://alist.nn.ci/tool/yandex/callback",D=w({__name:"Callback",setup(c){const p=new URL(window.location.href),d=p.searchParams.get("code"),n=p.searchParams.get("error"),C=p.searchParams.get("error_description"),t=S();return d&&!n&&(async()=>{const r=new URLSearchParams;r.append("grant_type","authorization_code"),r.append("client_id",y),r.append("client_secret",N),r.append("code",d||"");const u=await(await fetch("https://oauth.yandex.com/token",{method:"POST",body:r})).json();t.value=u})(),(r,g)=>!e(d)||e(n)?(o(),s(e(v),{key:0,title:e(n)||"Error",type:"error"},{default:_(()=>[l(i(e(C)),1)]),_:1},8,["title"])):(o(),s(e(k),{key:1,vertical:"",size:"large"},{default:_(()=>{var u,b,h;return[a("p",null,[L,l(i(y))]),a("p",null,[R,l(i(N))]),a("p",null,[U,l(i(A))]),(u=t.value)!=null&&u.error||(b=t.value)!=null&&b.error_description?(o(),s(e(v),{key:0,title:(h=t.value)==null?void 0:h.error,type:"error"},{default:_(()=>[l(i(t.value.error_description),1)]),_:1},8,["title"])):I("v-if",!0),m(e(k),{vertical:""},{default:_(()=>[j,t.value?(o(),s(e(E),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(o(),s(e(P),{key:0}))]),_:1})]}),_:1}))}}),F=x(D,[["__scopeId","data-v-07bce39d"],["__file","Callback.vue"]]),O=w({__name:"callback.html",setup(c){return(p,d)=>{const n=V("NaiveClient");return o(),z("div",null,[m(n,null,{default:_(()=>[m(e(F))]),_:1})])}}}),K=x(O,[["__file","callback.html.vue"]]);export{K as default};
